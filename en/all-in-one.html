
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>All-in-One Â· GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="gitbook/images/favicon.ico" type="image/x-icon">

    
    
    <link rel="prev" href="console-use/console-use.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="./">
            
                <a href="./">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="intro/overview/">
            
                <a href="intro/overview/">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="faq-pub.html">
            
                <a href="faq-pub.html">
            
                    
                    FAQ
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="doc/s2/">
            
                <a href="doc/s2/">
            
                    
                    Object Storage Service
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="doc/s2/demo/">
            
                <a href="doc/s2/demo/">
            
                    
                    Amazon SDK
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1.1" data-path="doc/s2/demo/python.html">
            
                <a href="doc/s2/demo/python.html">
            
                    
                    Python
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.1.2" data-path="doc/s2/demo/php.html">
            
                <a href="doc/s2/demo/php.html">
            
                    
                    PHP
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.1.3" data-path="doc/s2/demo/phpv2.html">
            
                <a href="doc/s2/demo/phpv2.html">
            
                    
                    PHPV2
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.1.4" data-path="doc/s2/demo/browser.html">
            
                <a href="doc/s2/demo/browser.html">
            
                    
                    Browser
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.1.5" data-path="doc/s2/demo/nodejs.html">
            
                <a href="doc/s2/demo/nodejs.html">
            
                    
                    Nodejs
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.1.6" data-path="doc/s2/demo/java.html">
            
                <a href="doc/s2/demo/java.html">
            
                    
                    Java
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.1.7" data-path="doc/s2/demo/go.html">
            
                <a href="doc/s2/demo/go.html">
            
                    
                    Go
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.1.8" data-path="doc/s2/demo/dotnet.html">
            
                <a href="doc/s2/demo/dotnet.html">
            
                    
                    Dotnet
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="doc/s2/limitation/limit.html">
            
                <a href="doc/s2/limitation/limit.html">
            
                    
                    Limitation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3" data-path="doc/s2/signature/signature.html">
            
                <a href="doc/s2/signature/signature.html">
            
                    
                    Signature
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.4" data-path="doc/s2/acl/acl.html">
            
                <a href="doc/s2/acl/acl.html">
            
                    
                    ACL
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5" data-path="doc/s2/service/">
            
                <a href="doc/s2/service/">
            
                    
                    Service
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.5.1" data-path="doc/s2/service/buckets_list.html">
            
                <a href="doc/s2/service/buckets_list.html">
            
                    
                    LIST Buckets
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.6" data-path="doc/s2/bucket/">
            
                <a href="doc/s2/bucket/">
            
                    
                    Bucket
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.6.1" data-path="doc/s2/bucket/get_bucket_list_objects.html">
            
                <a href="doc/s2/bucket/get_bucket_list_objects.html">
            
                    
                    GET Bucket or List Objects
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.6.2" data-path="doc/s2/bucket/put_bucket.html">
            
                <a href="doc/s2/bucket/put_bucket.html">
            
                    
                    PUT Bucket
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.6.3" data-path="doc/s2/bucket/delete_bucket.html">
            
                <a href="doc/s2/bucket/delete_bucket.html">
            
                    
                    DELETE Bucket
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.6.4" data-path="doc/s2/bucket/put_bucket_acl.html">
            
                <a href="doc/s2/bucket/put_bucket_acl.html">
            
                    
                    PUT Bucket ACL
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.6.5" data-path="doc/s2/bucket/get_bucket_acl.html">
            
                <a href="doc/s2/bucket/get_bucket_acl.html">
            
                    
                    GET Bucket ACL
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.7" data-path="doc/s2/object/">
            
                <a href="doc/s2/object/">
            
                    
                    Object
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.7.1" data-path="doc/s2/object/head_object.html">
            
                <a href="doc/s2/object/head_object.html">
            
                    
                    HEAD Object
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.7.2" data-path="doc/s2/object/get_object.html">
            
                <a href="doc/s2/object/get_object.html">
            
                    
                    GET Object
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.7.3" data-path="doc/s2/object/put_object.html">
            
                <a href="doc/s2/object/put_object.html">
            
                    
                    PUT Object
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.7.4" data-path="doc/s2/object/append_object.html">
            
                <a href="doc/s2/object/append_object.html">
            
                    
                    APPEND Object
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.7.5" data-path="doc/s2/object/post_object.html">
            
                <a href="doc/s2/object/post_object.html">
            
                    
                    POST Object
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.7.6" data-path="doc/s2/object/put_object_copy.html">
            
                <a href="doc/s2/object/put_object_copy.html">
            
                    
                    PUT Object - Copy
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.7.7" data-path="doc/s2/object/delete_object.html">
            
                <a href="doc/s2/object/delete_object.html">
            
                    
                    DELETE Object
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.7.8" data-path="doc/s2/object/get_object_acl.html">
            
                <a href="doc/s2/object/get_object_acl.html">
            
                    
                    GET Object ACL
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.7.9" data-path="doc/s2/object/put_object_acl.html">
            
                <a href="doc/s2/object/put_object_acl.html">
            
                    
                    PUT Object ACL
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.7.10" data-path="doc/s2/object/initiate_multipart_upload.html">
            
                <a href="doc/s2/object/initiate_multipart_upload.html">
            
                    
                    Initiate Multipart Upload
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.7.11" data-path="doc/s2/object/upload_part.html">
            
                <a href="doc/s2/object/upload_part.html">
            
                    
                    Upload Part
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.7.12" data-path="doc/s2/object/upload_part_copy.html">
            
                <a href="doc/s2/object/upload_part_copy.html">
            
                    
                    Upload Part copy
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.7.13" data-path="doc/s2/object/complete_multipart_upload.html">
            
                <a href="doc/s2/object/complete_multipart_upload.html">
            
                    
                    Complete Multipart Upload
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.7.14" data-path="doc/s2/object/list_parts.html">
            
                <a href="doc/s2/object/list_parts.html">
            
                    
                    List Parts
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.8" data-path="doc/s2/sts/sts.html">
            
                <a href="doc/s2/sts/sts.html">
            
                    
                    STS
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="doc/offline/offline-api.html">
            
                <a href="doc/offline/offline-api.html">
            
                    
                    Offline Downloader
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="doc/imgx/imgx_manual.html">
            
                <a href="doc/imgx/imgx_manual.html">
            
                    
                    Imgx API
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="doc/transcoder/">
            
                <a href="doc/transcoder/">
            
                    
                    Videos Processing
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.1" data-path="doc/transcoder/apis/signing_request.html">
            
                <a href="doc/transcoder/apis/signing_request.html">
            
                    
                    Request Signature
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.2" >
            
                <span>
            
                    
                    Pipeline API
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.2.1" data-path="doc/transcoder/apis/pipeline/create_pipeline.html">
            
                <a href="doc/transcoder/apis/pipeline/create_pipeline.html">
            
                    
                    Create Pipeline
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.2.2" data-path="doc/transcoder/apis/pipeline/get_pipeline.html">
            
                <a href="doc/transcoder/apis/pipeline/get_pipeline.html">
            
                    
                    Get Pipeline
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.2.3" data-path="doc/transcoder/apis/pipeline/list_pipelines.html">
            
                <a href="doc/transcoder/apis/pipeline/list_pipelines.html">
            
                    
                    List Pipeline
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.2.4" data-path="doc/transcoder/apis/pipeline/delete_pipeline.html">
            
                <a href="doc/transcoder/apis/pipeline/delete_pipeline.html">
            
                    
                    Delete Pipeline
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.2.5" data-path="doc/transcoder/apis/pipeline/update_pipeline.html">
            
                <a href="doc/transcoder/apis/pipeline/update_pipeline.html">
            
                    
                    Update Pipeline
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7.3" >
            
                <span>
            
                    
                    Job API
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.3.1" data-path="doc/transcoder/apis/job/create_job.html">
            
                <a href="doc/transcoder/apis/job/create_job.html">
            
                    
                    Create Job
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.3.2" data-path="doc/transcoder/apis/job/get_job.html">
            
                <a href="doc/transcoder/apis/job/get_job.html">
            
                    
                    Get Job
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.3.3" data-path="doc/transcoder/apis/job/list_jobs_by_pipeline.html">
            
                <a href="doc/transcoder/apis/job/list_jobs_by_pipeline.html">
            
                    
                    List Job
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.3.4" data-path="doc/transcoder/apis/job/cancel_job.html">
            
                <a href="doc/transcoder/apis/job/cancel_job.html">
            
                    
                    Cancel Job
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7.4" data-path="doc/transcoder/apis/metadata.html">
            
                <a href="doc/transcoder/apis/metadata.html">
            
                    
                    Metadata
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8" data-path="toolkit/">
            
                <a href="toolkit/">
            
                    
                    Toolkit
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.1" data-path="toolkit/s3-browser.html">
            
                <a href="toolkit/s3-browser.html">
            
                    
                    S3 Browser
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.9" data-path="console-use/">
            
                <a href="console-use/">
            
                    
                    Console Use
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.9.1" data-path="console-use/console-use.html">
            
                <a href="console-use/console-use.html">
            
                    
                    Baishan Cloud Storage Console Use
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter active" data-level="1.10" data-path="all-in-one.html">
            
                <a href="all-in-one.html">
            
                    
                    All-in-One
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="." >All-in-One</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <!-- mdtoc start -->
<ul>
<li><a href="#-font-color--0099ff-size-6-face--&#x9ED1;&#x4F53;--&#x767D;&#x5C71;&#x4E91;&#x5B58;&#x50A8;&#x670D;&#x52A1;baishancloud-storage-service--font-"><font color="#0099ff" size="6" face="&#x9ED1;&#x4F53;">&#x767D;&#x5C71;&#x4E91;&#x5B58;&#x50A8;&#x670D;&#x52A1;(BaishanCloud storage service)</font></a><ul>
<li><a href="#functionality-overview&#xFF1A;">Functionality Overview&#xFF1A;</a></li>
<li><a href="#technical-advantages&#xFF1A;">Technical advantages&#xFF1A;</a></li>
<li><a href="#4-technical-innovations-">4 Technical innovations:</a><ul>
<li><a href="#1--data-temperature-measurement">1.1.1.  Data temperature measurement</a></li>
<li><a href="#2--self-organized-edge-nodes">2. Self-organized edge nodes</a></li>
<li><a href="#3-multi-layer-high-redundancy">3.Multi-layer high redundancy</a></li>
<li><a href="#4--self-excitation-quality-control">4. Self-excitation quality control</a></li>
</ul>
</li>
<li><a href="#scale-and-scalability-of-services-">Scale and scalability of services:</a></li>
<li><a href="#service-level-agreement-sla-">Service-Level Agreement (SLA).</a></li>
<li><a href="#average-upload-download-speed-by-isps-for-internet-backbone-nodes-">Average upload/download speed by ISPs for Internet backbone nodes.</a></li>
<li><a href="#compliant-and-compatible-with-amazon-s3-s-interface-it-is-recommended-that-developers-can-directly-use-the-official-amazon-s3-sdk-">Compliant and compatible with Amazon S3&apos;s interface, it is recommended that developers can directly use the official Amazon S3 SDK:</a></li>
<li><a href="#1--baishancloud-storage-service--baishancloud-cdn-x">1.2.  BaishanCloud Storage Service &amp; BaishanCloud CDN-X</a><ul>
<li><a href="#cdn-x-acceleration-supports-">CDN-X acceleration supports:</a></li>
<li><a href="#cdn-edge-nodes-upload-">CDN Edge nodes upload:</a></li>
<li><a href="#configuration-methods-for-cdn-x-and-cloud-storage-">Configuration methods for CDN-X and cloud storage:</a></li>
<li><a href="#404-status-and-how-to-pull-the-file-from-origin-">404 status and how to pull the file from origin:</a></li>
<li><a href="#how-to-set-the-caching-policy-for-origin-storage-">How to set the caching policy for origin storage:</a></li>
</ul>
</li>
<li><a href="#2--concept-of-object-storage-directory-structure-permission-setting-transfer-import">2. Concept of object storage, directory structure, permission setting, transfer import</a><ul>
<li><a href="#concept-of-bucket-and-object">Concept of Bucket and Object</a></li>
<li><a href="#directory-structure-of-object-storage-">Directory structure of object storage:</a></li>
<li><a href="#&#x5982;&#x4F55;&#x5220;&#x9664;&#x767D;&#x5C71;&#x4E91;&#x5B58;&#x50A8;&#x4E2D;&#x7684;&#x76EE;&#x5F55;&#xFF1A;">&#x5982;&#x4F55;&#x5220;&#x9664;&#x767D;&#x5C71;&#x4E91;&#x5B58;&#x50A8;&#x4E2D;&#x7684;&#x76EE;&#x5F55;&#xFF1A;</a></li>
<li><a href="#access-control-permission-details-">Access control permission details:</a></li>
<li><a href="#how-to-operate-buckets-and-objects-without-signatures-">How to operate buckets and objects without signatures:</a></li>
<li><a href="#4-ways-to-import-data-">4 ways to import data:</a></li>
<li><a href="#https-setting-up-">HTTPS setting up:</a></li>
<li><a href="#support-for-ftp-and-rsync-upload-">Support for FTP and rsync upload:</a></li>
<li><a href="#3-steps-for-large-file-upload-">3 steps for large file upload:</a></li>
<li><a href="#how-to-use-offline-download-to-synchronize-data-">How to use offline download to synchronize data:</a></li>
</ul>
</li>
<li><a href="#3--audio-and-video-transcoding-static-image-processing-self-service-management-console">3. Audio and video transcoding, static image processing, self-service management console</a><ul>
<li><a href="#audio-and-video-transcoding--support-transcoding-between-formats-such-as-flv-mp4-mov-etc-">Audio and video transcoding: support transcoding between formats such as flv, mp4, mov, etc.</a></li>
<li><a href="#baishancloud-cloud-storage-static-file-processing-">BaishanCloud cloud storage static file processing:</a></li>
<li><a href="#account-and-testing-environment-creation-">Account and testing environment creation:</a></li>
<li><a href="#users-can-view-the-following-information-in-real-time-through-the-self-service-management-console">Users can view the following information in real-time through the self-service management console</a></li>
</ul>
</li>
<li><a href="#basic-knowledge-popularization">Basic knowledge popularization</a><ul>
<li><a href="#the-concept-of-bucket-and-object">The concept of Bucket and Object</a></li>
</ul>
</li>
<li><a href="#programming-interface-and-user&#x2019;s-guide-related">Programming interface and user&#x2019;s guide related</a><ul>
<li><a href="#what-are-the-technical-advantages-of-baishancloud-storage">What are the technical advantages of BaishanCloud Storage?</a></li>
<li><a href="#list-of-languages-and-sdks-supported-by-baishancloud-storage">List of languages and SDKs supported by BaishanCloud Storage</a></li>
<li><a href="#is-the-cloud-storage-object-stored-in-a-directory-structure">Is the Cloud Storage Object stored in a directory structure?</a></li>
<li><a href="#how-to-delete-a-directory">How to delete a directory?</a></li>
<li><a href="#is-it-possible-to-use-baishancloud-storage-for-whole-site-backup">Is it possible to use BaishanCloud Storage for whole site backup?</a></li>
<li><a href="#how-do-users-import-data">How do users import data</a></li>
<li><a href="#if-the-file-does-not-exist-in-the-storage-can-i-automatically-have-the-storage-go-to-a-specific-place-to-pull-it">If the file does not exist in the storage, can I automatically have the storage go to a specific place to pull it?</a></li>
<li><a href="#how-to-use-offline-download-to-synchronize-data">How to use offline download to synchronize data?</a></li>
<li><a href="#does-it-support-multi-file-uploads">Does it support multi-file uploads?</a></li>
<li><a href="#how-to-upload-large-files-and-what-are-the-limitations">How to upload large files and what are the limitations?</a></li>
<li><a href="#what-are-the-access-control-permissions">What are the access control permissions?</a></li>
<li><a href="#is-it-possible-to-modify-bucket-and-object-without-signature-anonymous-access">Is it possible to modify bucket and object without signature (anonymous access)?</a></li>
<li><a href="#does-storage-support-decompression-of-user-s-file-packages">Does storage support decompression of user&apos;s file packages?</a></li>
<li><a href="#does-it-support-restore-downloads">Does it support restore downloads?</a></li>
</ul>
</li>
<li><a href="#video-processing">Video processing</a><ul>
<li><a href="#is-there-a-requirement-for-origin-file-format-for-transcoding">Is there a requirement for origin file format for transcoding?</a></li>
<li><a href="#does-the-transcoding-template-describe-the-input-file-or-the-output-file">Does the transcoding template describe the input file or the output file?</a></li>
<li><a href="#what-does-transcoding-templates-include">What does transcoding templates include?</a></li>
<li><a href="#what-output-formats-are-supported-">What output formats are supported:</a></li>
<li><a href="#does-it-support-video-slicing">Does it support video slicing?</a></li>
<li><a href="#does-it-support-video-watermark">Does it support video watermark?</a></li>
<li><a href="#are-video-clips-supported">Are video clips supported?</a></li>
<li><a href="#does-hls-slice-support-aes128-encryption">Does hls slice support AES128 encryption?</a></li>
<li><a href="#does-it-support-4k-transcoding">Does it support 4K transcoding?</a></li>
<li><a href="#how-long-does-it-take-to-transcode-a-1h-video">How long does it take to transcode a 1h video?</a></li>
<li><a href="#can-the-m3u8-file-generated-by-video-slicing-be-played-directly-through-cloud-storage">Can the m3u8 file generated by video slicing be played directly through cloud storage?</a></li>
<li><a href="#manually-created-a-transcoding-task-but-can-t-find-the-target-file-after-completion">Manually created a transcoding task, but can&apos;t find the target file after completion?</a></li>
</ul>
</li>
<li><a href="#image-processing">Image processing</a><ul>
<li><a href="#does-baishancloud-storage-support-real-time-image-conversion-rotation-scaling-cutting-and-watermarking">Does BaishanCloud Storage support real-time image conversion, rotation, scaling, cutting, and watermarking?</a></li>
<li><a href="#is-it-possible-to-let-the-storage-automatically-determine-that-the-user-agent-triggers-a-specific-image-cropping-output">Is it possible to let the storage automatically determine that the user-agent triggers a specific image cropping output?</a></li>
<li><a href="#is-there-a-video-transcoding-function">Is there a video transcoding function?</a></li>
</ul>
</li>
<li><a href="#user-management-storage-resource-related-management-console">User management storage resource related, management console</a><ul>
<li><a href="#what-information-can-storage-users-view-through-the-background">What information can storage users view through the background?</a></li>
<li><a href="#whether-the-storage-console-has-the-function-of-searching-for-files--for-example-the-full-path-of-a-file-in-a-bucket-is-abc-def-123-png--can-you-use-the-file-name-123-png-to-search-for-the-file-without-knowing-the-full-path-">Whether the storage console has the function of searching for files. For example, the full path of a file in a bucket is abc/def/123.png. Can you use the file name 123.png to search for the file without knowing the full path? ?</a></li>
<li><a href="#can-i-count-the-number-of-files-under-a-bucket">Can I count the number of files under a bucket?</a></li>
<li><a href="#does-baishan-cloud-storage-provide-log-download">Does Baishan Cloud Storage provide log download?</a></li>
</ul>
</li>
<li><a href="#performance-reliability-availability">Performance, Reliability, Availability</a><ul>
<li><a href="#does-baishan-cloud-storage-do-upload-acceleration">Does Baishan Cloud Storage do upload acceleration?</a></li>
<li><a href="#does-baishan-cloud-storage-integrate-cdn-support">Does Baishan Cloud Storage integrate CDN support?</a></li>
<li><a href="#is-https-supported-how-to-use">Is HTTPS supported? How to use?</a></li>
<li><a href="#is-encrypted-storage-supported">Is encrypted storage supported?</a></li>
<li><a href="#how-reliable-is-it">How reliable is it?</a></li>
</ul>
</li>
<li><a href="#pre-sales-support-poc-testing-etc-">Pre-sales support, POC testing, etc.</a><ul>
<li><a href="#is-there-an-environment-for-quick-poc-testing-what-is-the-application-process">Is there an environment for quick POC testing? What is the application process?</a></li>
<li><a href="#how-to-apply-for-upload-acceleration">How to apply for upload acceleration?</a></li>
<li><a href="#how-to-apply-for-storage-and-cdn-service-at-the-same-time">How to apply for storage and CDN service at the same time?</a></li>
<li><a href="#how-does-the-origin-set-the-cache-time">How does the origin set the cache time?</a></li>
</ul>
</li>
<li><a href="#related-to-third-party-service-integration">Related to third-party service integration</a><ul>
<li><a href="#is-there-an-integrated-text-editor-for-uploading-images">Is there an integrated text editor for uploading images?</a></li>
</ul>
</li>
<li><a href="#daily-use-related">Daily use related</a><ul>
<li><a href="#does-baishancloud-storage-provide-a-web-management-interface-for-users-to-manage-their-own-files">Does BaishanCloud Storage provide a web management interface for users to manage their own files?</a></li>
<li><a href="#how-to-upload-files-is-it-possible-to-upload-via-ftp-or-rsync-is-there-a-client-can-be-used">How to upload files? Is it possible to upload via FTP or rsync? Is there a client can be used?</a></li>
</ul>
</li>
<li><a href="#sdk-related">SDK Related</a><ul>
<li><a href="#error-when-uploading-file-using-java-sdk-&#xFF1A;unable-to-verify-integrity-of-data-upload---client-calculated-content-hash-contentmd5--e-6ks0b2pnpj272xbg92fw---in-base-64-didn-t-match-hash-etag--359740e5918c395b6e35a2c612582e42-in-hex-calculated-by-amazon-s3">Error when uploading file using java SDK &#xFF1A;Unable to verify integrity of data upload.  Client calculated content hash (contentMD5: E+6KS0B2pNPJ272XbG92fw== in base 64) didn&apos;t match hash (etag: 359740e5918c395b6e35a2c612582e42 in hex) calculated by Amazon S3</a></li>
<li><a href="#error-when-uploading-file-using-android-sdk-&#xFF1A;unable-to-verify-integrity-of-data-upload--client-calculated-content-hash-didn-t-match-hash-calculated-by-amazon-s3--you-may-need-to-delete-the-data-stored-in-amazon-s3">Error when uploading file using android SDK &#xFF1A;Unable to verify integrity of data upload. Client calculated content hash didn&apos;t match hash calculated by Amazon S3. You may need to delete the data stored in Amazon S3</a></li>
<li><a href="#when-uploading-and-downloading-files-using-the-ios-sdk-an-error-occurs--code--403--error-code--signaturedoesnotmatch--request-id--23e338d9-1706-1410-3759-a0369fd80cca">When uploading and downloading files using the ios SDK, an error occurs: Code: 403; Error Code: SignatureDoesNotMatch; Request ID: 23e338d9-1706-1410-3759-a0369fd80cca</a></li>
<li><a href="#downloading-aws-sdk-from-maven-repository-is-too-slow-and-easily-lead-to-disconnection--you-can-add-the-following-configuration-to-pom-xml-to-replace-the-mirror-">Downloading AWS SDK from Maven Repository is too slow and easily lead to disconnection. You can add the following configuration to pom.xml to replace the mirror.</a></li>
<li><a href="#how-to-set-up-signature-version-for-sdk">How to set up signature version for SDK</a><ul>
<li><a href="#java-sdk">java SDK</a></li>
<li><a href="#python-sdk">python SDK</a></li>
<li><a href="#php-sdk">php SDK</a></li>
<li><a href="#go-sdk">go SDK</a></li>
<li><a href="#javascript-sdk">JavaScript SDK</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#obeject-storage">Obeject Storage</a></li>
<li><a href="#instance&#xFF08;-compatible-amazon-sdk&#xFF09;">Instance&#xFF08; Compatible Amazon SDK&#xFF09;</a></li>
<li><a href="#python-demo">Python Demo</a><ul>
<li><a href="#install-the-aws-python-client-&#x2013;-boto3">Install the AWS Python client &#x2013; boto3</a></li>
<li><a href="#initialization--account-and-domain-setup">Initialization &amp; account and domain setup</a></li>
<li><a href="#file-operation-api">File operation API</a><ul>
<li><a href="#file-upload">File Upload</a><ul>
<li><a href="#using-the-putobject-interface">Using the put_object interface</a></li>
<li><a href="#using-uploadfile-interface-it-suits-to-upload-the-large-file-it-supports-dividing-the-file-into-different-blocks-automatically-and-uploading-those-blocks-simultaneously-">Using upload_file interface (It suits to upload the large File, it supports dividing the File into different blocks automatically and uploading those blocks simultaneously.)</a></li>
</ul>
</li>
<li><a href="#file-copy">File Copy</a></li>
<li><a href="#file-download">File Download</a></li>
<li><a href="#get-file-url">Get File URL</a></li>
<li><a href="#file-delete">File Delete</a></li>
<li><a href="#get-file-acl">Get File ACL</a></li>
<li><a href="#set-file-acl">Set File ACL</a><ul>
<li><a href="#using-the-pre-defined-acl">Using the pre-defined ACL</a></li>
<li><a href="#using-the-custom-acl">Using the custom ACL</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#bucket-operation-api">Bucket operation API</a><ul>
<li><a href="#bucket-create">Bucket Create</a></li>
<li><a href="#list-bucket-file-list-all-the-files-contained-on-the-bucket--the-max-number-of-returning-files-each-time-is-1000">List Bucket File (List all the files contained on the bucket. The max number of returning files each time is 1000)</a></li>
<li><a href="#list-all-the-files-contained-in-the-bucket">List all the files contained in the bucket</a></li>
<li><a href="#bucket-delete">Bucket Delete</a></li>
<li><a href="#get-bucket-acl">Get Bucket ACL</a></li>
<li><a href="#set-bucket-acl">Set Bucket ACL</a><ul>
<li><a href="#using-the-pre-defined-acl">Using the pre-defined ACL</a></li>
<li><a href="#using-the-custom-acl">Using the custom ACL</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#service-operation-api">Service operation API</a><ul>
<li><a href="#list-all-buckets">List all buckets</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#php-demo">PHP Demo</a><ul>
<li><a href="#install-the-aws-sdk-for-php">Install the AWS SDK for PHP</a></li>
</ul>
</li>
<li><a href="#request-syntax">Request Syntax</a><ul>
<li><a href="#file-operation-api">File Operation API</a><ul>
<li><a href="#file-upload">File Upload</a></li>
<li><a href="#file-download">File Download</a></li>
<li><a href="#get-file-url">Get File URL</a></li>
<li><a href="#file-delete">File Delete</a></li>
<li><a href="#get-file-acl">Get File ACL</a></li>
<li><a href="#set-file-acl">Set File ACL</a><ul>
<li><a href="#using-the-pre-defined-acl">Using the pre-defined ACL</a></li>
<li><a href="#using-the-custom-acl">Using the custom ACL</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#bucket-operation-api">Bucket operation API</a><ul>
<li><a href="#bucket-create">Bucket Create</a></li>
<li><a href="#list-all-the-files-contained-on-the-bucket--the-max-number-of-returning-files-at-the-same-time-is-1000">List all the files contained on the bucket. The max number of returning files at the same time is 1000</a></li>
<li><a href="#list-all-the-files-contained-on-the-bucket-">List all the files contained on the bucket.</a></li>
<li><a href="#bucket-delete">Bucket Delete</a></li>
<li><a href="#get-bucket-acl">Get Bucket ACL</a></li>
<li><a href="#set-bucket-acl">Set Bucket ACL</a><ul>
<li><a href="#using-the-pre-defined-acl">Using the pre-defined ACL</a></li>
<li><a href="#using-the-custom-acl">Using the custom ACL</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#service-operation-api">Service Operation API</a><ul>
<li><a href="#buckets-list-list-all-the-buckets-of-your-service">Buckets List (List all the Buckets of your service)</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#python-demo">Python Demo</a><ul>
<li><a href="#install-the-aws-python-client-&#x2013;-boto3">Install the AWS Python client &#x2013; boto3</a></li>
<li><a href="#initialization--account-and-domain-setup">Initialization &amp; account and domain setup</a></li>
<li><a href="#file-operation-api">File operation API</a><ul>
<li><a href="#file-upload">File Upload</a><ul>
<li><a href="#using-the-putobject-interface">Using the put_object interface</a></li>
<li><a href="#using-uploadfile-interface-it-suits-to-upload-the-large-file-it-supports-dividing-the-file-into-different-blocks-automatically-and-uploading-those-blocks-simultaneously-">Using upload_file interface (It suits to upload the large File, it supports dividing the File into different blocks automatically and uploading those blocks simultaneously.)</a></li>
</ul>
</li>
<li><a href="#file-copy">File Copy</a></li>
<li><a href="#file-download">File Download</a></li>
<li><a href="#get-file-url">Get File URL</a></li>
<li><a href="#file-delete">File Delete</a></li>
<li><a href="#get-file-acl">Get File ACL</a></li>
<li><a href="#set-file-acl">Set File ACL</a><ul>
<li><a href="#using-the-pre-defined-acl">Using the pre-defined ACL</a></li>
<li><a href="#using-the-custom-acl">Using the custom ACL</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#bucket-operation-api">Bucket operation API</a><ul>
<li><a href="#bucket-create">Bucket Create</a></li>
<li><a href="#list-bucket-file-list-all-the-files-contained-on-the-bucket--the-max-number-of-returning-files-each-time-is-1000">List Bucket File (List all the files contained on the bucket. The max number of returning files each time is 1000)</a></li>
<li><a href="#list-all-the-files-contained-in-the-bucket">List all the files contained in the bucket</a></li>
<li><a href="#bucket-delete">Bucket Delete</a></li>
<li><a href="#get-bucket-acl">Get Bucket ACL</a></li>
<li><a href="#set-bucket-acl">Set Bucket ACL</a><ul>
<li><a href="#using-the-pre-defined-acl">Using the pre-defined ACL</a></li>
<li><a href="#using-the-custom-acl">Using the custom ACL</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#service-operation-api">Service operation API</a><ul>
<li><a href="#list-all-buckets">List all buckets</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#javascript--demo">JavaScript  Demo</a></li>
<li><a href="#node-js-demo">Node.js Demo</a><ul>
<li><a href="#install-the-aws-sdk-for-javascript-in-node-js">Install the AWS SDK for JavaScript in Node.js</a></li>
<li><a href="#initialization--set-the-account-information-and-the-domain-name">Initialization &amp; Set the account information and the domain name</a></li>
<li><a href="#file-operation-api">File Operation API</a><ul>
<li><a href="#file-upload">File Upload</a><ul>
<li><a href="#using-&#x2018;putobject&#x2019;-api-to-upload-the-file">Using &#x2018;putObject&#x2019; API to upload the File</a></li>
<li><a href="#using-the--upload--interface-it-suits-to-upload-the-large-file-it-supports-dividing-the-file-into-different-blocks-automatically-and-uploading-those-blocks-simultaneously-">Using the &apos;upload&apos; interface (It suits to upload the large File, it supports dividing the File into different blocks automatically and uploading those blocks simultaneously.)</a></li>
</ul>
</li>
<li><a href="#file-download">File Download</a></li>
<li><a href="#get-file-url">Get File URL</a></li>
<li><a href="#file-delete">File Delete</a></li>
<li><a href="#get-file-acl">Get File ACL</a></li>
<li><a href="#set-file-acl">Set File ACL</a><ul>
<li><a href="#using-pre-defined-acl">Using pre-defined ACL</a></li>
<li><a href="#using-custom-acl">Using custom ACL</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#bucket-operation-api">Bucket Operation API</a><ul>
<li><a href="#bucket-create">Bucket Create</a></li>
<li><a href="#list-all-the-files-contained-on-the-bucket-">List all the files contained on the bucket.</a></li>
<li><a href="#bucket-delete">Bucket Delete</a></li>
<li><a href="#get-bucket-acl">Get Bucket ACL</a></li>
<li><a href="#set-bucket-acl">Set Bucket ACL</a><ul>
<li><a href="#using-pre-defined-acl">Using pre-defined ACL</a></li>
<li><a href="#using-custom-acl">Using custom ACL</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#service-operation-api">Service Operation API</a><ul>
<li><a href="#buckets-list-list-all-the-buckets-of-your-service">Buckets List (List all the Buckets of your service)</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#java-demo">Java Demo</a><ul>
<li><a href="#install-aws-java-sdk">Install AWS Java SDK</a></li>
<li><a href="#initialization--set-the-account-information-and-the-domain-name">Initialization &amp; Set the account information and the domain name</a></li>
<li><a href="#file-operation-api">File Operation API</a><ul>
<li><a href="#file-upload">File Upload</a></li>
<li><a href="#file-copy">File Copy</a></li>
<li><a href="#file-download">File Download</a></li>
<li><a href="#download-to-local-file">Download to Local File</a></li>
<li><a href="#get-file-url">Get File URL</a></li>
<li><a href="#file-delete">File Delete</a></li>
<li><a href="#get-file-acl">Get File ACL</a></li>
<li><a href="#set-file-acl">Set File ACL</a><ul>
<li><a href="#using-pre-defined-acl">Using pre-defined ACL</a></li>
<li><a href="#using-custom-acl">Using Custom ACL</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#bucket-operation-api">Bucket Operation API</a><ul>
<li><a href="#bucket-create">Bucket Create</a></li>
<li><a href="#bucket-file-list-list-all-the-files-contained-on-the-bucket--the-max-number-of-returning-files-at-the-same-time-is-1000">Bucket File List (List all the files contained on the bucket. The max number of returning files at the same time is 1000)</a></li>
<li><a href="#list-all-the-files-contained-on-the-bucket">List all the files contained on the bucket</a></li>
<li><a href="#bucket-delete">Bucket Delete</a></li>
<li><a href="#get-bucket-acl">Get Bucket ACL</a></li>
<li><a href="#set-bucket-acl">Set Bucket ACL</a><ul>
<li><a href="#using-the-pre-defined-acl">Using the pre-defined ACL</a></li>
<li><a href="#using-the-custom-acl">Using the custom ACL</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#service-operation-api">Service Operation API</a><ul>
<li><a href="#bucket-list">Bucket List</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#go-demo">Go Demo</a><ul>
<li><a href="#install-the-aws-go-sdk">Install the AWS Go SDK</a></li>
<li><a href="#initialization--set-the-account-information-and-the-domain-name">Initialization &amp; Set the account information and the domain name</a></li>
<li><a href="#file-operation-api">File Operation API</a><ul>
<li><a href="#file-upload">File Upload</a></li>
<li><a href="#using-the-uploader-interface-to-upload-local-file">Using the uploader interface to upload local file</a></li>
<li><a href="#file-download">File Download</a></li>
<li><a href="#using-the-downloader-interface-to-download-the-file">Using the downloader interface to download the file</a></li>
<li><a href="#get-file-url">Get File URL</a></li>
<li><a href="#file-delete">File Delete</a></li>
<li><a href="#get-file-acl">Get File ACL</a></li>
<li><a href="#set-file-acl">Set File ACL</a><ul>
<li><a href="#using-pre-defined-acl">Using pre-defined ACL</a></li>
<li><a href="#using-grant-header-to-set-acl">Using Grant header to Set ACL</a></li>
<li><a href="#using-custom-acl">Using custom ACL</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#bucket-operation-api">Bucket Operation API</a><ul>
<li><a href="#bucket-create">Bucket Create</a></li>
<li><a href="#list-all-the-files-contained-on-the-bucket-every-time-it-can-return-up-to-1000-files">List all the files contained on the bucket (every time it can return up to 1000 files)</a></li>
<li><a href="#list-all-the-files-on-the-bucket">List all the files on the bucket</a></li>
<li><a href="#bucket-delete">Bucket Delete</a></li>
<li><a href="#get-bucket-acl">Get Bucket ACL</a></li>
<li><a href="#set-bucket-acl">Set Bucket ACL</a><ul>
<li><a href="#using-the-pre-defined-acl">Using the pre-defined ACL</a></li>
<li><a href="#set-acl-by-using-grant-header">Set ACL by using Grant header</a></li>
<li><a href="#using-custom-acl">Using Custom ACL</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#service-operation-api">Service Operation API</a><ul>
<li><a href="#list-all-the-buckets">List all the Buckets</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#dotnet-demo">Dotnet Demo</a><ul>
<li><a href="#install-aws-dotnet-sdk">Install AWS Dotnet SDK</a></li>
<li><a href="#initialization--set-the-account-information-and-the-domain-name">Initialization &amp; Set the account information and the domain name</a></li>
<li><a href="#file-operation-api">File Operation API</a><ul>
<li><a href="#file-upload">File Upload</a></li>
<li><a href="#file-download">File Download</a></li>
<li><a href="#file-delete">File Delete</a></li>
<li><a href="#get-file-acl">Get File ACL</a></li>
</ul>
</li>
<li><a href="#bucket-operation-api">Bucket Operation API</a><ul>
<li><a href="#bucket-create">Bucket Create</a></li>
<li><a href="#list-all-the-files-on-the-bucket">List all the Files on the Bucket</a></li>
<li><a href="#bucket-delete">Bucket Delete</a></li>
<li><a href="#get-bucket-acl">Get Bucket ACL</a></li>
<li><a href="#set-bucket-acl">Set Bucket ACL</a></li>
<li><a href="#list-all-the-buckets">List all the Buckets</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#constraint-and-limitation">Constraint and limitation</a></li>
<li><a href="#signature-algorithm">Signature algorithm</a></li>
<li><a href="#add-signature">Add Signature</a><ul>
<li><a href="#add-version-2-signature">Add version 2 Signature</a><ul>
<li><a href="#carrying-method-of-identity-information-and-signature-">Carrying method of identity information and signature:</a><ul>
<li><a href="#request-header-via-authorization-">Request header via Authorization:</a></li>
<li><a href="#request-parameters-">Request parameters:</a></li>
</ul>
</li>
<li><a href="#signature-calculation-method">Signature calculation method</a></li>
</ul>
</li>
<li><a href="#add-version-4-signature-">Add version 4 Signature:</a><ul>
<li><a href="#carrying-method-of-identity-information-and-signature-">Carrying method of identity information and signature:</a><ul>
<li><a href="#through-the-authorization-header-">Through the Authorization header:</a></li>
<li><a href="#through-request-parameters-">Through request parameters:</a></li>
</ul>
</li>
<li><a href="#signature-calculation-method-">Signature calculation method:</a></li>
</ul>
</li>
<li><a href="#aclaccess-control-list">ACL(Access Control List)</a><ul>
<li><a href="#grantee">Grantee</a></li>
<li><a href="#s2-predefined-groups">S2 predefined groups</a></li>
<li><a href="#specify-the-permissions-of-the-authorized-person">Specify the permissions of the authorized person</a></li>
<li><a href="#canned-acl">Canned ACL</a></li>
<li><a href="#how-to-specify-acl">How to specify ACL</a></li>
<li><a href="#x-amz-grant--request-header-type">x-amz-grant-* request header type</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#service-operations">Service Operations</a><ul>
<li><a href="#get-service-list-buckets">GET Service (List Buckets)</a></li>
</ul>
</li>
<li><a href="#bucket-operations">Bucket Operations</a><ul>
<li><a href="#get-bucket-list-objects">GET Bucket (List Objects)</a></li>
<li><a href="#put-bucket">PUT Bucket</a></li>
<li><a href="#delete-bucket">DELETE Bucket</a></li>
<li><a href="#put-bucket-acl">PUT Bucket ACL</a></li>
<li><a href="#get-bucket-acl">GET Bucket ACL</a></li>
</ul>
</li>
<li><a href="#object-operations">Object Operations</a><ul>
<li><a href="#head-object">HEAD Object</a></li>
<li><a href="#get-object">GET Object</a></li>
<li><a href="#put-object">PUT Object</a><ul>
<li><a href="#construction-of-policy&#xFF1A;">Construction of policy&#xFF1A;</a><ul>
<li><a href="#expiration">Expiration</a></li>
<li><a href="#condition-">Condition:</a><ul>
<li><a href="#condition-type">Condition type</a></li>
<li><a href="#conditions-field">Conditions field</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#signature-construction-">Signature Construction:</a></li>
</ul>
</li>
<li><a href="#append-object">APPEND Object</a></li>
<li><a href="#post-object">POST Object</a><ul>
<li><a href="#construction-of-policy&#xFF1A;">Construction of policy&#xFF1A;</a><ul>
<li><a href="#expiration">Expiration</a></li>
<li><a href="#condition-">Condition:</a><ul>
<li><a href="#condition-type">Condition type</a></li>
<li><a href="#conditions-field">Conditions field</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#signature-construction-">Signature Construction:</a></li>
</ul>
</li>
<li><a href="#put-object---copy">PUT Object - Copy</a></li>
<li><a href="#delete-object">DELETE Object</a></li>
<li><a href="#get-object">GET Object</a></li>
<li><a href="#put-object-acl">PUT Object ACL</a></li>
<li><a href="#initiate-multipart-upload">Initiate Multipart Upload</a></li>
<li><a href="#upload-part">Upload Part</a></li>
<li><a href="#upload-part---copy">Upload Part - Copy</a></li>
</ul>
</li>
<li><a href="#complete-multipart-upload">Complete Multipart Upload</a><ul>
<li><a href="#list-parts">List Parts</a></li>
</ul>
</li>
<li><a href="#provisional-signature&#xFF1A;sts">Provisional signature&#xFF1A;STS</a></li>
<li><a href="#sts&#x4F7F;&#x7528;&#x6D41;&#x7A0B;">STS&#x4F7F;&#x7528;&#x6D41;&#x7A0B;</a><ul>
<li><a href="#example">Example</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#offline-download-interface">Offline Download Interface</a><ul>
<li><a href="#authorization">Authorization</a></li>
<li><a href="#error-response-status-code-and-error">Error Response Status Code and Error</a></li>
<li><a href="#commit-offline-download-task">Commit Offline Download Task</a><ul>
<li><a href="#request-uri">Request URI</a></li>
<li><a href="#request-method">Request Method</a></li>
<li><a href="#request-body">Request Body</a></li>
<li><a href="#request-example">Request Example</a></li>
<li><a href="#request-response">Request Response</a></li>
<li><a href="#request-response-header">Request Response Header</a></li>
</ul>
</li>
<li><a href="#query-status-of-offline-download-task">Query Status Of Offline Download Task</a><ul>
<li><a href="#request-uri">Request URI</a></li>
<li><a href="#request-method">Request Method</a></li>
<li><a href="#request-response">Request Response</a></li>
</ul>
</li>
<li><a href="#delete-offline-download-task">Delete Offline Download Task</a><ul>
<li><a href="#request-uri">Request URI</a></li>
<li><a href="#request-method">Request Method</a></li>
<li><a href="#request-response">Request Response</a></li>
</ul>
</li>
<li><a href="#success-callback">Success Callback</a><ul>
<li><a href="#request-url">Request URL</a></li>
<li><a href="#request-method">Request Method</a></li>
<li><a href="#request-body">Request Body</a></li>
<li><a href="#request-example">Request Example</a></li>
<li><a href="#request-response">Request Response</a></li>
</ul>
</li>
<li><a href="#failure-callback">Failure Callback</a><ul>
<li><a href="#request-url">Request URL</a></li>
<li><a href="#request-method">Request Method</a></li>
<li><a href="#request-body">Request Body</a></li>
<li><a href="#request-example">Request Example</a></li>
<li><a href="#request-response">Request Response</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#the-description-of-imgx">The Description of Imgx</a></li>
<li><a href="#tag&#xFF1A;-image-process-imgx-baishancloud-cloud-storage">Tag&#xFF1A; Image process Imgx BaishanCloud Cloud Storage</a><ul>
<li><a href="#url-format">URL Format</a></li>
<li><a href="#example">Example</a></li>
<li><a href="#processing-format">Processing Format</a></li>
<li><a href="#signature">Signature</a></li>
<li><a href="#cache--cdn">Cache &amp; CDN</a></li>
<li><a href="#the-processing-instructions">The Processing Instructions</a></li>
<li><a href="#access-the-image-processing-service-by-using-aws-sdk">Access the image processing service by using AWS-SDK</a></li>
<li><a href="#instruction-about-the-watermark-function">Instruction about the watermark function</a><ul>
<li><a href="#picture-watermark">Picture Watermark</a></li>
<li><a href="#text-watermark">Text Watermark</a><ul>
<li><a href="#example-1">Example 1</a></li>
<li><a href="#example-2">Example 2</a></li>
<li><a href="#example-3">Example 3</a></li>
<li><a href="#example-4">Example 4</a></li>
<li><a href="#example-5">Example 5</a></li>
<li><a href="#example-6">Example 6</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#use-the--instruction-set-">Use the &quot;instruction set&quot;</a></li>
<li><a href="#font-fontfamily">Font (font_family)</a></li>
<li><a href="#how-to-use-video-and-audio-transcoding-service">How to use video and audio transcoding service</a><ul>
<li><a href="#function-list">Function list</a></li>
<li><a href="#supported-input-formats">Supported input formats</a></li>
<li><a href="#supported-output-formats"><strong>Supported output formats</strong></a></li>
<li><a href="#transform-method"><strong>Transform method</strong></a></li>
<li><a href="#transcoding-function"><strong>Transcoding function</strong></a></li>
</ul>
</li>
<li><a href="#noun-interpretation"><strong>Noun interpretation</strong></a><ul>
<li><a href="#transcoding-template&#xFF08;preset&#xFF09;"><strong>Transcoding template&#xFF08;Preset&#xFF09;</strong></a></li>
<li><a href="#task&#xFF08;job&#xFF09;"><strong>Task&#xFF08;Job&#xFF09;</strong></a></li>
<li><a href="#pipeline"><strong>Pipeline</strong></a></li>
</ul>
</li>
<li><a href="#how-to-use-transcoding-system"><strong>How to use transcoding system</strong></a><ul>
<li><a href="#create-transcoding-template"><strong>Create transcoding template</strong></a></li>
<li><a href="#create-pipe"><strong>Create pipe</strong></a></li>
<li><a href="#create-task"><strong>Create task</strong></a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#transcoder-request-signature-method">Transcoder Request signature method</a></li>
<li><a href="#create-pipe">Create pipe</a><ul>
<li><a href="#description">Description</a></li>
<li><a href="#request">request</a></li>
<li><a href="#request-parameters">Request parameters</a></li>
<li><a href="#return">Return</a></li>
</ul>
</li>
<li><a href="#get-pipe">Get pipe</a><ul>
<li><a href="#description">Description</a></li>
<li><a href="#request">request</a></li>
<li><a href="#return">return</a></li>
</ul>
</li>
<li><a href="#view-pipe">View pipe</a><ul>
<li><a href="#description">Description</a></li>
<li><a href="#request">request</a></li>
<li><a href="#return">return</a></li>
</ul>
</li>
<li><a href="#delete-pipe">Delete pipe</a><ul>
<li><a href="#description">Description</a></li>
<li><a href="#request">Request</a></li>
<li><a href="#return">Return</a></li>
</ul>
</li>
<li><a href="#update-pipeline">Update pipeline</a><ul>
<li><a href="#describe">Describe</a></li>
<li><a href="#how-to-update-queue-parameters">How to update queue parameters</a></li>
<li><a href="#request">Request</a></li>
<li><a href="#request-parameters">Request parameters</a></li>
<li><a href="#return">return</a></li>
</ul>
</li>
<li><a href="#create-task">Create task</a><ul>
<li><a href="#description">Description</a></li>
<li><a href="#request">Request</a></li>
<li><a href="#request-parameters">Request parameters</a></li>
<li><a href="#return">Return</a></li>
<li><a href="#example">example</a></li>
<li><a href="#create-tasks-through-sdk">Create tasks through SDK</a></li>
</ul>
</li>
<li><a href="#get-task">Get task</a><ul>
<li><a href="#describe">Describe</a></li>
<li><a href="#request">Request</a></li>
<li><a href="#return">return</a></li>
</ul>
</li>
<li><a href="#lists-the-tasks-in-the-pipeline">Lists the tasks in the pipeline</a><ul>
<li><a href="#description">Description</a></li>
<li><a href="#request">Request</a></li>
<li><a href="#request-parameters">Request parameters</a></li>
<li><a href="#return">Return</a></li>
</ul>
</li>
<li><a href="#cancel-task">Cancel task</a><ul>
<li><a href="#description">Description</a></li>
<li><a href="#request">Request</a></li>
<li><a href="#return">Return</a></li>
</ul>
</li>
<li><a href="#obtain-audio-and-video-meta-information">Obtain audio and video meta information</a><ul>
<li><a href="#describe">Describe</a></li>
<li><a href="#request">Request</a></li>
<li><a href="#request-parameters">Request parameters</a></li>
<li><a href="#how-to-use-sdk-interface">How to use SDK interface</a></li>
<li><a href="#return">Return</a></li>
</ul>
</li>
<li><a href="#console-user-guide">Console User Guide</a></li>
<li><a href="#1--overview">2.  Overview</a></li>
<li><a href="#1-functional-features">3. Functional features</a><ul>
<li><a href="#1--my-storage">3.1.  My Storage</a><ul>
<li><a href="#1--new-bucket">3.1.1.  New Bucket</a></li>
<li><a href="#1--space-setting">3.1.2.  Space setting</a></li>
<li><a href="#1--image-processing">3.1.3.  Image processing</a></li>
<li><a href="#1--file-management">3.1.4.  File Management</a></li>
<li><a href="#1--delete-bucket">3.1.5.  Delete Bucket</a></li>
</ul>
</li>
<li><a href="#1--statistical-analysis">3.2.  Statistical Analysis</a></li>
<li><a href="#1--video-processing">3.3.  Video processing</a><ul>
<li><a href="#1--transcoding-template">3.3.1.  Transcoding template</a><ul>
<li><a href="#1--transcoding-template-management">3.3.1.1.  Transcoding template management</a></li>
<li><a href="#1--create-a-transcoding-template">3.3.1.2.  Create a transcoding template</a></li>
</ul>
</li>
<li><a href="#1--automatic-transcoding-configuration">3.3.2.  Automatic transcoding configuration</a></li>
</ul>
</li>
<li><a href="#1--key-management">3.4.  Key management</a></li>
<li><a href="#1--user-management">3.5.  User Management</a></li>
<li><a href="#1--help-documentation">3.6.  Help Documentation</a></li>
</ul>
</li>
</ul>
<!-- mdtoc end   -->
<p>&#xFEFF;<img src="http://ss.bscstorage.com/imgx-test/bsc_logo.jpg?AWSAccessKeyId=acc_drdrxp&amp;Expires=2470638306&amp;Signature=M4FHkWtF%2FEz%2FDlu5ru5DOahuRtQ%3D" alt="">
<br>
<br>
<br>
<br></p>
<h1 id="&#x767D;&#x5C71;&#x4E91;&#x5B58;&#x50A8;&#x670D;&#x52A1;baishancloud-storage-service"><font color="#0099ff" size="6" face="&#x9ED1;&#x4F53;">&#x767D;&#x5C71;&#x4E91;&#x5B58;&#x50A8;&#x670D;&#x52A1;(BaishanCloud storage service)</font></h1>
<p><br>
<br>
<br>
<br></p>
<font color="#0099ff" size="6" face="&#x9ED1;&#x4F53;"> BaishanCloud storage service Intro</font>

<p><br>
<strong>BaishanCloud Storage Service: It is a multi-data center, multi-copy, distributed architecture, object cloud storage service extended based on the advantages of BaishanCloud&apos;s powerful CDN-X service.</strong></p>
<h2 id="functionality-overview&#xFF1A;">Functionality Overview&#xFF1A;</h2>
<ol>
<li><p>High reliability and high performance: through multi-data center, multi-copy, distributed architecture, multi-device redundancy, cross-regional replication, off-site disaster recovery, internal intelligent scheduling of the system to ensure stable, durable and reliable for user data storage; through the CDN-X edge nodes for accelerated upload, through the whole network CDN for accelerated download. </p>
</li>
<li><p>High security and protection: There are multiple security, reliability and user resource isolation mechanisms inside the system; precise data authority management, multi-level decentralization, multiple authentication and multiple authorization management mechanisms to prevent hotlinking and protect data security.</p>
</li>
<li><p>Flexible expansion, focus on service: unlimited expansion, no migration, to meet the growth trend of unstructured data, distributed and analytical functions; configuration of exclusive technical service interface people to understand user needs in depth, follow up user services.</p>
</li>
<li><p>Fully functional, easy to use: the core members of the R&amp;D team have accumulated more than 7 years of experience in object cloud storage services, all independent intellectual property rights, self-developed core components, high concurrency production environment verification; user programming interface is simple, easy to use, stable and reliable
<br>
<br></p>
</li>
</ol>
<h2 id="technical-advantages&#xFF1A;">Technical advantages&#xFF1A;</h2>
<ol>
<li><p>Powerful CDN advantage: Accelerate uploading through BaishanCloud&apos;s CDN-X edge node, accelerate downloading through the whole BaishanCloud CDN network.</p>
</li>
<li><p>Follow compatible specifications: follow and compatible with Amazon S3 REST API interface, recommend users directly use the official SDK from Amazon S3, simple and easy to use, stable and reliable, users can use a variety of open-source tools, etc.</p>
</li>
<li><p>Audio and video transcoding and image processing: provide offline audio and video transcoding, and easy image processing interface (format conversion, rotation, scaling, cropping, compression, watermark, blur, and other filter operations), users can efficiently process static images online to avoid repeated upload/download images.</p>
</li>
<li><p>Powerful object cloud storage service architecture design: realize data temperature measurement, self-group edge storage, peer-to-peer multi-live, and self-activated quality control.</p>
</li>
</ol>
<hr>
<p><br>
<br></p>
<h2 id="4-technical-innovations">4 Technical innovations:</h2>
<h3 id="111--data-temperature-measurement">1.1.1.  Data temperature measurement</h3>
<p><img src="pic/1.png" alt=""></p>
<ol>
<li><p>Define data: Define data details in a total of six dimensions: data size, type, source, access frequency, and trustworthiness. Internal mechanism will schedule data grading based on access frequency. Hot data is automatically migrated and stored with high I/O.</p>
</li>
<li><p>Tiered data storage: After tiered hot and cold data, the hot data is provided with higher I/O by 3-copy strategy, while the cold data is provided with higher reliability. Through the data storage statistics, the data that carries 90% of the system&apos;s I/O is defined as hot data and the rest is defined as cold data, and the 3-copy of hot data is defined as cold data within the system periodically.</p>
</li>
<li><p>Asynchronous periodic merging: The hot/cold separation uses a hierarchical storage method, setting the newer data and the older data into different levels, and periodically merging the newer data from the upper level and the older data from the lower level into the lower level. This asynchronous periodic merging reduces the I/O updates consumption of cold data by 1 to 2 orders of magnitude.</p>
</li>
</ol>
<h3 id="2-self-organized-edge-nodes">2. Self-organized edge nodes</h3>
<p><img src="pic/2.png" alt=""></p>
<ol>
<li><p>Unified network planning: Through p2p broadcast network, our edge nodes are connected into one network to notify user&#x2019;s file uploads to every server in the country within 1000ms, to achieve the ultimate consistency of user data with low latency. It allows all remote users to quickly access to the files uploaded.</p>
</li>
<li><p>Fiber optic link access: Edge nodes maintain communication with 5 central storage server rooms at the same time, and asynchronously transfer user uploaded files to the central storage within seconds through the data transfer acceleration network, ensuring the reliability of data up to 99.99999999999%.</p>
</li>
<li><p>Isolation of network failure: When the central storage fails or the edge storage nodes cannot communicate with the central storage, the edge nodes can also support users&apos; upload and download requests within a certain period to isolate network failure to users.</p>
</li>
</ol>
<h3 id="3multi-layer-high-redundancy">3.Multi-layer high redundancy</h3>
<p><img src="pic/3.png" alt=""></p>
<ol>
<li><p>High-quality multi-data center interconnection: multiple central storage fiber interconnection, synchronization of large files in seconds. Provide database offsite multiple writes and reads: completely circumvent the service availability problem caused by server room failure. By deploying multiple primary and backup copies in multiple server rooms, the database can be read and written simultaneously in multiple locations to complete off-site data backup function.</p>
</li>
<li><p>Cross-server synchronization in seconds: Ensure that when any server fails, it will not affect the service, truly achieving network-wide redundancy and disaster recovery across multiple server rooms.</p>
</li>
<li><p>Outage response in seconds: The failure discovery mechanism provides fast response speed in seconds. Automatically isolate unavailable database services, change read and write functions to available service nodes.</p>
</li>
<li><p>Database detection in seconds: Detect the database instance availability every second, and when it is not connected, immediately switch the database and update the configuration information. Each database agent monitors the configuration changes in real time and reloads and takes effect in 10 milliseconds when the configuration changes. To achieve high availability of data connections. </p>
</li>
<li><p>Configuration decentralization: The backup configuration is deployed to multiple server rooms, so that when one server room fails, the system can still work normally for configuration changes and failure discovery.</p>
</li>
</ol>
<h3 id="4-self-excitation-quality-control">4. Self-excitation quality control</h3>
<p><img src="pic/4.png" alt=""></p>
<ol>
<li><p>paxos algorithm and automated data repair: paxos algorithm is used to automate the management of multiple copies, data self-repair, and consistency between multiple copies, etc. The entire storage system cluster is divided into 100,000 self-maintaining, self-repair groups, each group regularly detects the status of other nodes, data accuracy, and data repair at the granularity of minutes.</p>
</li>
<li><p>Improvements to paxos: First, the paxos algorithm guarantees the accuracy of automated data repair. paxos itself does not contain a description of the algorithm for paxos group management. Online environments using the paxos algorithm must also consider the handling of group member changes. The BaishanCloud Storage System introduces a self-designed and implemented paxos group management algorithm that enables group member changes through the operation of two phases of paxos instances. During the change process, the member change algorithm ensures data consistency, and the change result will not be affected by network or disk failure.</p>
</li>
<li><p>Ensure the security of operation process: Any network or disk failure during the process of member change will not cause the system error, and the service can continue to run after restart.</p>
</li>
<li><p>Comprehensive quality testing: 60 seconds to switch write points according to disk status; 5 minutes to check all copies status; 24 hours to complete copies data comparison and self-repair; 1 month for full data scanning and error correction.</p>
</li>
</ol>
<h2 id="scale-and-scalability-of-services">Scale and scalability of services:</h2>
<table>
<thead>
<tr>
<th>Service items</th>
<th style="text-align:center">Scalable numbers</th>
</tr>
</thead>
<tbody>
<tr>
<td>Number of users the service can carry</td>
<td style="text-align:center">1 million users</td>
</tr>
<tr>
<td>Service data storage capacity</td>
<td style="text-align:center">100+ PB level, 100+ billion files</td>
</tr>
<tr>
<td>Data write capacity (upload)</td>
<td style="text-align:center">500+ TB in 24 hours (currently 40TB)</td>
</tr>
<tr>
<td>Overall service throughput (download)</td>
<td style="text-align:center">10+ PB 24-hour downloads (currently 1PB)</td>
</tr>
<tr>
<td>Number of physical servers</td>
<td style="text-align:center">3000 (multiple data centers)</td>
</tr>
</tbody>
</table>
<h2 id="service-level-agreement-sla">Service-Level Agreement (SLA).</h2>
<p> Reliability: 99.9999999999999%.</p>
<h2 id="average-uploaddownload-speed-by-isps-for-internet-backbone-nodes">Average upload/download speed by ISPs for Internet backbone nodes.</h2>
<table>
<thead>
<tr>
<th>Transfer file size</th>
<th style="text-align:center">Upload speed</th>
<th>Download speed</th>
</tr>
</thead>
<tbody>
<tr>
<td>50KB</td>
<td style="text-align:center">300KB/s</td>
<td>900KB/s</td>
</tr>
<tr>
<td>2MB</td>
<td style="text-align:center">750KB/s</td>
<td>2MB/s</td>
</tr>
<tr>
<td>4MB</td>
<td style="text-align:center">1MB/s</td>
<td>2.5MB/s</td>
</tr>
</tbody>
</table>
<h2 id="compliant-and-compatible-with-amazon-s3s-interface-it-is-recommended-that-developers-can-directly-use-the-official-amazon-s3-sdk">Compliant and compatible with Amazon S3&apos;s interface, it is recommended that developers can directly use the official Amazon S3 SDK:</h2>
<table>
<thead>
<tr>
<th>Instruction documentation</th>
<th style="text-align:center">SDK package download</th>
</tr>
</thead>
<tbody>
<tr>
<td>Android documentation&#xFF1A;<a href="https://aws.amazon.com/cn/documentation/sdk-for-android/" target="_blank">AWS Mobile SDK for Android Documentation</a></td>
<td style="text-align:center">SDK download:<a href="https://sdk-for-android.amazonwebservices.com/latest/aws-android-sdk.zip" target="_blank">aws-android-sdk</a></td>
</tr>
<tr>
<td>Browser documentation<a href="http://docs.aws.amazon.com/AWSJavaScriptSDK/guide/browser-intro.html" target="_blank">Getting Started with the SDK in the Browser</a></td>
<td style="text-align:center">SDK download:<a href="https://bower.io/" target="_blank">Bower</a></td>
</tr>
<tr>
<td>IOS documentation&#xFF1A;<a href="http://docs.aws.amazon.com/mobile/sdkforios/developerguide/aws-ios-dg.pdf" target="_blank">AWS Mobile SDK iOS Developer Guid</a></td>
<td style="text-align:center">SDK download: <a href="https://sdk-for-ios.amazonwebservices.com/latest/aws-ios-sdk.zip" target="_blank">aws-ios-sdk</a></td>
</tr>
<tr>
<td>Java documentation&#xFF1A;<a href="http://docs.aws.amazon.com/sdk-for-java/v1/developer-guide/aws-sdk-java-dg.pdf" target="_blank">AWS SDK for Java Developer Guide</a></td>
<td style="text-align:center">SDK download: <a href="https://sdk-for-java.amazonwebservices.com/latest/aws-java-sdk.zip" target="_blank">aws-java-sdk</a></td>
</tr>
<tr>
<td>.NET documentation&#xFF1A;<a href="https://aws.amazon.com/cn/documentation/sdk-for-net/" target="_blank">AWS SDK for .NET Documentation</a></td>
<td style="text-align:center">SDK download: <a href="https://sdk-for-net.amazonwebservices.com/latest/AWSToolsAndSDKForNet.msi" target="_blank">AWSToolsAndSDKForNet.msi</a></td>
</tr>
<tr>
<td>Node.js documentation&#xFF1A;<a href="https://aws.amazon.com/cn/documentation/sdk-for-javascript/" target="_blank">AWS SDK for JavaScript Documentation</a></td>
<td style="text-align:center">SDK download: <a href="http://docs.aws.amazon.com/AWSJavaScriptSDK/guide/node-intro.html" target="_blank">Getting Started with the SDK in Node.js</a></td>
</tr>
<tr>
<td>PHP documentation&#xFF1A;<a href="https://aws.amazon.com/cn/documentation/sdk-for-php/" target="_blank">AWS SDK for PHP Documentation</a></td>
<td style="text-align:center">SDK download: <a href="http://docs.aws.amazon.com/aws-sdk-php/v3/guide/getting-started/installation.html" target="_blank">Installing via Composer</a></td>
</tr>
<tr>
<td>Python documentation&#xFF1A;<a href="http://boto3.readthedocs.io/en/latest/index.html" target="_blank">Boto 3 Documentation</a></td>
<td style="text-align:center">SDK Download link and description:<a href="https://github.com/boto/boto3#quick-start" target="_blank">Boto 3 - The AWS SDK for Python</a></td>
</tr>
<tr>
<td>Ruby documentation&#xFF1A;<a href="https://aws.amazon.com/cn/documentation/sdk-for-ruby/" target="_blank">AWS SDK for Ruby</a></td>
<td style="text-align:center">SDK download&#xFF1A;<a href="http://docs.aws.amazon.com/sdk-for-ruby/v2/developer-guide/" target="_blank">AWS SDK for Ruby Developer Guide v2.16.8</a></td>
</tr>
<tr>
<td>Go documentation&#xFF1A;<a href="http://docs.aws.amazon.com/sdk-for-go/api/" target="_blank">AWS SDK for Go</a></td>
<td style="text-align:center">SDK download&#xFF1A;<a href="https://github.com/aws/aws-sdk-go/wiki" target="_blank">aws-sdk-go</a></td>
</tr>
<tr>
<td>C++ documentation&#xFF1A;<a href="https://aws.amazon.com/cn/documentation/sdk-for-cpp/" target="_blank">AWS SDK for C++ Documentation</a></td>
<td style="text-align:center">SDK download&#xFF1A;<a href="https://github.com/aws/aws-sdk-cpp" target="_blank">aws-sdk-cpp</a></td>
</tr>
</tbody>
</table>
<hr>
<p><br>
<br>
<br></p>
<h2 id="advanced-technology-explanation-"><font color="#0099ff" size="6" face="&#x9ED1;&#x4F53;"> Advanced technology explanation </font></h2>
<h2 id="12--baishancloud-storage-service--baishancloud-cdn-x">1.2.  BaishanCloud Storage Service &amp; BaishanCloud CDN-X</h2>
<h3 id="cdn-x-acceleration-supports">CDN-X acceleration supports:</h3>
<ul>
<li><p>CDN upload acceleration</p>
</li>
<li><p>CDN virtual domain name back to the origin</p>
</li>
<li><p>CDN token to protect users&apos; data security.</p>
</li>
<li><p>Third-party CDN back to origin</p>
</li>
</ul>
<h3 id="cdn-edge-nodes-upload">CDN Edge nodes upload:</h3>
<p>BaishanCloud Storage enhances the speed of uploads by working with CDN edge nodes. <br></p>
<p>Users request an accelerated upload of their domain name, and the DNS server intelligently returns the IP of the nearest CDN edge node to the user. <br></p>
<p>Users upload files to the nearest edge node, and the edge node transfers data to the storage center through the optimal routing. <br></p>
<p>By comparing the speed of uploading by edge nodes with directly uploading to the storage center, the average speed is more than doubled, which greatly improves the upload experience. <br></p>
<p>Configure to use accelerated upload domain to accelerate upload function. <br></p>
<h3 id="configuration-methods-for-cdn-x-and-cloud-storage">Configuration methods for CDN-X and cloud storage:</h3>
<p>To test the download acceleration through CDN, you need to point your domain to the CNAME that CDN provides.</p>
<p>For example CNAME: www.qq.com.i.qingcdn.com, origin is ss.bscstorage.com.</p>
<p>Suggestions for creating a bucket:</p>
<ol>
<li><p>Create a bucket with the same name as the user&apos;s domain name. e.g. if the user&apos;s website domain name is www.baishancloud.com, then create a bucket with the name of www.baishancloud.com, then there is no need to modify the host header when the CDN is configured.</p>
</li>
<li><p>Create a bucket with user-defined name: for example, the user website domain name is www.baishancloud.com, the user wants to create a bucket named QQ, then on CDN acceleration acceleration, when user requests www.baishancloud.com.s2.i.baishancloud.com, you need to change the host header to qq.ss.bscstorage.com.</p>
</li>
</ol>
<h3 id="404-status-and-how-to-pull-the-file-from-origin">404 status and how to pull the file from origin:</h3>
<p>If the file does not exist on BaishanCloud Storage, you can configure to go to one specific domain to pull the content.</p>
<p>The file pull is asynchronous, and the completion time is related to the size of the file.</p>
<p>The request also returns a 302, and the value of the location response header is the domain where the file to be pulled.</p>
<p>When using the pull function, you need to provide&#xFF1A;</p>
<ul>
<li><p>The domain we use to go back to origin.</p>
</li>
<li><p>The mapping rule from request uri to origin file uri.</p>
</li>
<li><p>The token verification method on back to origin request (optional).</p>
</li>
<li><p>Whether to enable the HEAD request to pull the file from origin.</p>
</li>
</ul>
<h3 id="how-to-set-the-caching-policy-for-origin-storage">How to set the caching policy for origin storage:</h3>
<ul>
<li>BaiShanCloud Storage can configure HTTP request headers such as Cache-Control of the stored files and deploy the caching policy together with HTTP access requests.</li>
<li>BaishanCloud CDN can enforce the caching policy according to origin on the Cache-Control setting in the HTTP request header.</li>
</ul>
<p><br>
<br></p>
<h2 id="2-concept-of-object-storage-directory-structure-permission-setting-transfer-import">2. Concept of object storage, directory structure, permission setting, transfer import</h2>
<h3 id="concept-of-bucket-and-object">Concept of Bucket and Object</h3>
<ul>
<li><p>Bucket is the basic container that holds the data. Everything that you store in Cloud Storage such as objects must be contained in a bucket.</p>
</li>
<li><p>Each piece of data is an object, for instance we can treat each file as an object.</p>
</li>
<li><p>Users can create buckets, delete buckets, query objects in buckets, and set bucket properties.</p>
</li>
<li><p>The user can create an object (this object is the file uploaded by the user), delete an object, download the object, set the access rights of the object, etc.</p>
</li>
<li><p>For example: 1. Create a bucket, the bucket name is: baishan_yun, and the requested url is: PUT /baishan_yun.</p>
</li>
</ul>
<h3 id="directory-structure-of-object-storage">Directory structure of object storage:</h3>
<p>The object stored in BaishanCloud is not a file in the traditional sense, as well as the storage method of how file stored in the file system. Each Object looks like a file under a directory, but is just a directory-like string for cloud storage. This doesn&apos;t affect how the user list files from the specified directory:
<br></p>
<p>When sending a request to list files, set the prefix parameter to the name of the directory prefix, you can only list the files in this directory, for example: </p>
<ul>
<li>bucket/1.mp4</li>
<li>bucket/cc/2.mp4</li>
<li>bucket/cc/3 .mp4</li>
<li>bucket/dd/ee/ff/3.mp4 </li>
</ul>
<p>When the requested <code>prefix</code> is specified as <code>cc</code>, it will list:</p>
<ul>
<li>2.mp4</li>
<li>3.mp4</li>
</ul>
<p>This process is as same as listing files from a directory. In addition to simulating directory listing files, 
it also provides functions such as specifying the maximum number of files to list, 
specifying to list files after a certain file name (sorted in alphabetical order), and merging files according to common prefixes.
For details, please refer to the API documentation. </p>
<p>Things to pay attention to when using:</p>
<ul>
<li><p>Object name should not start with &apos;/&apos;.</p>
<p>For example: You need to upload a file called file.txt, bucket is <code>sandbox</code>.</p>
<ul>
<li>Object is set to <code>file.txt</code>, when accessing it should be <code>http://ss. bscstorage.com/sandbox/file.txt</code> (recommended)</li>
<li>If object is set to <code>/file.txt</code>, it should be <code>http://ss.bscstorage.com/sandbox//file.txt</code> when accessing (strongly not recommended)</li>
</ul>
</li>
<li><p>It is best not to have two consecutive &apos;/&apos; in the object name. For example: You need to upload a file called file.txt in the folder directory, and the bucket is <code>sandbox</code>,</p>
<ul>
<li><p>Object is set to <code>folder/file.txt</code>, when accessing it should be <code>http://ss.bscstorage.com/sandbox/folder/file.txt</code> (recommended method)</p>
</li>
<li><p>If object is set to <code>folder//file.txt</code>, it should be <code>http://ss.bscstorage.com/sandbox/folder//file.txt</code> when accessing (strongly not recommended)</p>
</li>
<li><p>Why does BaishanCloud Storage not recommend two &apos;//&apos; in the URL: some CDN cache servers may combine two consecutive &apos;//&apos; in the URL into one &apos;/&apos; round-trip source, in this case, the Authentication failed or 404</p>
</li>
</ul>
</li>
</ul>
<h3 id="&#x5982;&#x4F55;&#x5220;&#x9664;&#x767D;&#x5C71;&#x4E91;&#x5B58;&#x50A8;&#x4E2D;&#x7684;&#x76EE;&#x5F55;&#xFF1A;">&#x5982;&#x4F55;&#x5220;&#x9664;&#x767D;&#x5C71;&#x4E91;&#x5B58;&#x50A8;&#x4E2D;&#x7684;&#x76EE;&#x5F55;&#xFF1A;</h3>
<p>&#x767D;&#x5C71;&#x4E91;&#x5B58;&#x50A8;&#x5220;&#x9664;&#x76EE;&#x5F55;&#x7684;&#x65B9;&#x6CD5;&#x4E3A;&#xFF1A;
&#x767D;&#x5C71;&#x4E91;&#x5B58;&#x50A8;&#x4E0D;&#x652F;&#x6301;&#x76F4;&#x63A5;&#x5220;&#x9664;&#x4E00;&#x4E2A;&#x76EE;&#x5F55;,
&#x56E0;&#x4E3A; Amazon S3 API &#x6CA1;&#x6709;&#x4E25;&#x683C;&#x610F;&#x4E49;&#x4E0A;&#x7684;&#x76EE;&#x5F55;&#x7684;&#x6982;&#x5FF5;(&#x6CA1;&#x6709;&#x76EE;&#x5F55;&#x5C42;&#x7EA7;&#x7684;&#x7ED3;&#x6784;,&#x4F46;&#x4E60;&#x60EF;&#x4E0A;&#x628A; Object &#x6309;&#x7167;&quot;/&quot;&#x5206;&#x9694;&#x5F53;&#x505A;&#x76EE;&#x5F55;&#x6765;&#x4F7F;&#x7528;),&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x4E0B;,&#x5BF9;&#x591A;&#x4E2A;&#x6587;&#x4EF6;&#x64CD;&#x4F5C;&#x7684;&#x539F;&#x5B50;&#x6027;&#x65B9;&#x9762;&#x6CA1;&#x6CD5;&#x4FDD;&#x8BC1;&#xFF0C;&#x6240;&#x4EE5;&#x8FD9;&#x65B9;&#x9762;&#x90FD;&#x662F;&#x5199;&#x811A;&#x672C;&#x5B9E;&#x73B0;&#x7684;&#x3002;</p>
<p>&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x4EE5;&#x4E0B;&#x65B9;&#x5F0F;&#x5B8C;&#x6210;&#x8BE5;&#x64CD;&#x4F5C;&#xFF1A;</p>
<ul>
<li>&#x901A;&#x8FC7;List Objects&#x63A5;&#x53E3;&#x5217;&#x51FA;&#x8BE5;&#x76EE;&#x5F55;&#x7684;&#x6240;&#x6709;&#x6587;&#x4EF6;&#x3002;</li>
<li>&#x901A;&#x8FC7;Delete Object&#x63A5;&#x53E3;&#x9010;&#x4E00;&#x8FDB;&#x884C;&#x5220;&#x9664;&#x3002;</li>
<li>&#x5220;&#x9664;&#x76EE;&#x5F55;&#x3002;</li>
</ul>
<p>&#x8BF7;&#x6CE8;&#x610F;&#xFF1A;</p>
<ul>
<li><p>List Objects&#x63A5;&#x53E3;&#x8FD4;&#x56DE;&#x7684;&#x6587;&#x4EF6;&#x5217;&#x8868;&#x4E0D;&#x5168;&#x90E8;&#x662F;&#x8BE5;&#x76EE;&#x5F55;&#x4E0B;&#x7684;&#x6587;&#x4EF6;&#xFF08;&#x5217;&#x8868;&#x662F;&#x6839;&#x636E;&#x6587;&#x4EF6;&#x540D;&#x5B57;&#x7B26;&#x6392;&#x5E8F;&#x7684;&#xFF09;&#xFF0C;
&#x53EF;&#x80FD;&#x5305;&#x542B;&#x4E0B;&#x4E00;&#x4E2A;&#x6216;&#x51E0;&#x4E2A;&#x76EE;&#x5F55;&#xFF1B;&#x6240;&#x4EE5;&#x9700;&#x8981;&#x6839;&#x636E;&#x5B9E;&#x9645;&#x60C5;&#x51B5;&#x8C03;&#x6574;max-keys&#x53C2;&#x6570;&#x7684;&#x503C;&#xFF0C;
&#x5E76;&#x4E14;&#x9700;&#x8981;&#x5BF9;&#x6BCF;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;&#x8FDB;&#x884C;&#x7B5B;&#x9009;&#xFF0C;&#x786E;&#x8BA4;&#x662F;&#x8BE5;&#x76EE;&#x5F55;&#x7684;&#x6587;&#x4EF6;;
&#x5982;&#x679C;&#x8BBE;&#x7F6E; <code>prefix</code> &#x53C2;&#x6570;&#x7684;&#x8BDD;&#xFF0C;&#x5C31;&#x53EF;&#x4EE5;&#x4E25;&#x683C;&#x7684;&#x5217;&#x51FA;&#x4EE5;&#x8BE5; <code>prefix</code> &#x4E0B;&#x6240;&#x6709;&#x6587;&#x4EF6;.</p>
</li>
<li><p>&#x4E00;&#x6B21;&#x5220;&#x9664;&#xFF08;&#x5217;&#x51FA;&#x6240;&#x6709;&#x6587;&#x4EF6;&#xFF0C;&#x9010;&#x4E00;&#x5220;&#x9664;&#xFF09;&#x4E0D;&#x80FD;&#x4FDD;&#x969C;&#x8BE5;&#x76EE;&#x5F55;&#x7684;&#x6587;&#x4EF6;&#x90FD;&#x88AB;&#x6E05;&#x7406;&#x5B8C;&#x6210;
&#x5728;&#x5220;&#x9664;&#x7684;&#x8FC7;&#x7A0B;&#x4E2D;&#x53EF;&#x80FD;&#x4F1A;&#x6709;&#x65B0;&#x4E0A;&#x4F20;&#xFF0C;&#x6240;&#x4EE5;&#x6574;&#x4E2A;&#x8FC7;&#x7A0B;&#x4E0D;&#x80FD;&#x4FDD;&#x6301;&#x539F;&#x5B50;&#x6027;&#x3002;</p>
</li>
</ul>
<h3 id="access-control-permission-details">Access control permission details:</h3>
<p>the authorized person can be a user, a group, or all users.</p>
<ol>
<li>Control permission for the Bucket:</li>
</ol>
<pre><code>Read: allow the authorized person to list all objects in the bucket. 
Writable: Allows the grantee to create, overwrite, and delete objects in the bucket. 
Readable ACL: Allows the grantee to read the bucket&apos;s ACL. 
Writable ACL: Allows the grantee to modify the bucket&apos;s ACL. 
All permissions: Allows the authorized person to read, write, read ACL, and write ACL on the bucket.
</code></pre><ol>
<li>Control permission for Object: </li>
</ol>
<pre><code>Readable: Allows the authorized person to read the data and meta information of the object. 
Readable ACL: Allows the grantee to read the ACL of the object. 
Writable ACL: Allows the grantee to modify the object&apos;s ACL. 
Full Permissions: Allows the authorized person to read, read ACL, and write ACL on the object. 
</code></pre><h3 id="how-to-operate-buckets-and-objects-without-signatures">How to operate buckets and objects without signatures:</h3>
<p>Normal operations require signatures to verify user permissions, but it is also allowed to set common attributes to allow users to operate without signatures.</p>
<ul>
<li><p>After the bucket permission is set to public-read, any user can list the files under the bucket, and the request does not require a signature.</p>
</li>
<li><p>After the bucket permission is set to public-read-write, any user can list the files in the bucket and upload files to the bucket. The request does not require a signature.</p>
</li>
<li><p>When uploading a file, after specifying the object&apos;s permission as public-read, any user can download the file without a signature, it is called anonymous download.</p>
</li>
<li><p>When a user accesses the storage through the CDN back-to-source, because the CDN is configured with super permissions, the request does not require a signature to access the files on the storage.</p>
</li>
</ul>
<h3 id="4-ways-to-import-data">4 ways to import data:</h3>
<ol>
<li><p>The user uses the SDK upload file interface to upload the file to the storage.</p>
</li>
<li><p>The user uses the SDK to generate the offline download task, and the offline download subsystem of the storage is responsible for downloading the data from the origin site and synchronizing it to the storage.</p>
</li>
<li><p>The user configures the 404 back-to-origin rule. When the end-user accesses the bucket, it will automatically go back to the origin site to capture the data and synchronize it to the storage.</p>
</li>
<li><p>The user provides the file download list, and BaishanCloud Storage platform downloads and synchronizes the data to storage through the file list.</p>
</li>
</ol>
<h3 id="https-setting-up">HTTPS setting up:</h3>
<ol>
<li><p>Before setting up the HTTPS for a domain, the domain must acquire an ICP license. And users can submit the SSL certificate of the domain name to BaishanCloud console, after the uploading is completed and the SSL certificate is associated with the domain, the HTTPS is enabled for the domain.</p>
</li>
<li><p>If you use the domain name provided by BaishanCloud Storage, for example: <a href="https://ss.bscstorage.com" target="_blank">https://ss.bscstorage.com</a>, note: the bucket must be placed in the url request instead of the domain name.</p>
</li>
</ol>
<h3 id="support-for-ftp-and-rsync-upload">Support for FTP and rsync upload:</h3>
<p>BaishanCloud storage service does not directly support the FTP and rsync protocols because of the control of file permissions of the interface. <br></p>
<p>But users can use the following tools to achieve FTP, rsync upload. <br></p>
<ul>
<li><p>A graphical FTP alternative can use <a href="https://cyberduck.io/" target="_blank">cyberduck</a> for Mac or <a href="http://s3browser.com" target="_blank">s3browser</a> for Windows.</p>
</li>
<li><p>An alternative to command line FTP or rsync can use <a href="http://s3tools.org/s3cmd" target="_blank">s3cmd</a>. <a href="http://s3tools.org/s3cmd" target="_blank">s3cmd</a>: <a href="http://s3tools.org/s3cmd[boto" target="_blank">http://s3tools.org/s3cmd[boto</a>]: <a href="http://boto.cloudhackers.com/en/latest/[cyberduck" target="_blank">http://boto.cloudhackers.com/en/latest/[cyberduck</a>]: <a href="https://cyberduck.io/[s3browser" target="_blank">https://cyberduck.io/[s3browser</a>]: http:/ /s3browser.com</p>
</li>
</ul>
<h3 id="3-steps-for-large-file-upload">3 steps for large file upload:</h3>
<ol>
<li><p>First call the range upload initialization interface, and the request returns an &#x2018;uploadId&#x2019;. The next 2 steps require this &#x2018;uploadId&#x2019; to identify each range file to be uploaded.</p>
</li>
<li><p>Divide the large file into several pieces, call the piece upload interface, upload each piece, and identify the order of the pieces through the &#x2018;partNmuber&#x2019; parameter in the request.</p>
</li>
<li><p>After the upload is complete, call the range completion interface to notify the storage that the large file upload is complete. </p>
</li>
</ol>
<p>The total data capacity and number of data objects stored in BaishanCloud are not limited. Individual data objects can be between 1 byte and 1 TB in size. The maximum data object that can be uploaded in a single PUT is 1TB. It is recommended to use the range upload interface to upload large files. The specifications for range upload are:</p>
<ul>
<li><p>The maximum size of each slice is 512MB.</p>
</li>
<li><p>The maximum number of slice is 2000.</p>
</li>
<li><p>The maximum size of a single file is 1TB.</p>
</li>
</ul>
<h3 id="how-to-use-offline-download-to-synchronize-data">How to use offline download to synchronize data:</h3>
<p>The offline download service supports HTTP protocol, BT protocol, magnet link, etc. <br></p>
<p>By submitting an offline download task, the offline download service will download the file from the website according to the file address provided in the task and synchronize it to the storage. After the synchronization is completed, the operation result is sent to the user. <br></p>
<p>Supports various functions such as download task status query, task cancellation, download data corruption check, and fast message transmission within seconds, the performance can reach up to 2000 rps/s . <br></p>
<p>How to use: </p>
<ul>
<li><p>Using the SDK, send a request to offline.bscstorage.com. The requested url is: <a href="http://offline_domain/" target="_blank">http://offline_domain/</a><bucket>, fill in the desired bucket name in the <bucket> section.</bucket></bucket></p>
</li>
<li><p>Send the request body as an offline task, for example:</p>
<pre><code>  {   &quot;Url&quot;:&quot;http://www.abc.com/download/movie.mp4&quot;,
      &quot;Key&quot;:&quot;movies/2016/movie.mp4&quot;,
      &quot;SHA1&quot;:&quot;abcdeabcdeabcdeabcdeabcdeabcdeabcdeabcde&quot;,
      &quot;MD5&quot;:&quot;abcdabcdabcdabcdabcdabcdabcdabcd&quot;,
      &quot;CRC32&quot;:&quot;abcdef&quot;,
      &quot;SuccessCallbackUrl&quot;:&quot;http://website/succ/&quot;,
      &quot;FailureCallbackUrl&quot;:&quot;http://website/fail/&quot;,
  }
</code></pre></li>
<li><p>The user needs to start a service to receive the offline download results sent by the offline download service. <br><br></p>
</li>
</ul>
<h2 id="3-audio-and-video-transcoding-static-image-processing-self-service-management-console">3. Audio and video transcoding, static image processing, self-service management console</h2>
<h3 id="audio-and-video-transcoding-support-transcoding-between-formats-such-as-flv-mp4-mov-etc">Audio and video transcoding: support transcoding between formats such as flv, mp4, mov, etc.</h3>
<p>Support reducing bit rate, resolution, modifying gop (key frame interval), video screenshots and other functions.</p>
<h3 id="baishancloud-cloud-storage-static-file-processing">BaishanCloud cloud storage static file processing:</h3>
<ul>
<li>Supports format conversion, rotation, scaling, cropping, image-text mixing, watermarking and custom image processing of static images, see imgx_manual documentation for details.</li>
<li>After the requested image is processed and cached, the next request will not enable the processing procedure repeatedly. The default coaching time is 7 days.</li>
<li>If a CDN service is configured and enabled, the processed images will be automatically pushed to the CDN edge nodes.</li>
<li>If the original image is modified, you can use the v command to regenerate the image and link.</li>
</ul>
<h3 id="account-and-testing-environment-creation">Account and testing environment creation:</h3>
<p> Please provide enterprise information and contact information for each account, the account team will manually audit the provided information.</p>
<ul>
<li>BaishanCloud console creates a user, generates the accseskey and secretkey corresponding to the user, and creates a bucket corresponding to the user.</li>
<li>Users can also enable service by using the accseskey and secretkey, and encode according to the instruction given in the SDK demo to proceed. Users can submit more requirements such as:</li>
<li>upload file type, picture video text. </li>
<li>Average file size range. </li>
<li>Approximate storage space requirements. </li>
<li>Whether you need to use CDN. - Whether upload acceleration is required.</li>
</ul>
<h3 id="users-can-view-the-following-information-in-real-time-through-the-self-service-management-console">Users can view the following information in real-time through the self-service management console</h3>
<ul>
<li>User space information, including usage, number of files used.</li>
<li>Historical logs such as bandwidth, traffic, and number of requests used by users.</li>
<li>Users can view file size distribution, file type distribution, etc.</li>
<li>Provide billing information, including billing details for used traffic, space, and number of requests.</li>
<li>BaishanCloud storage service user manual, audio and video conversion, image processing and other documents.</li>
<li>Key management, password management.</li>
</ul>
<p>&#xFEFF;[TOC]</p>
<h2 id="basic-knowledge-popularization">Basic knowledge popularization</h2>
<h3 id="the-concept-of-bucket-and-object">The concept of Bucket and Object</h3>
<ul>
<li>Bucket&#xFF0C; we store many files in one bucket. </li>
<li>Object, we consider each file as an object.</li>
<li>Users can create buckets, delete buckets, query objects inside buckets, set bucket properties, etc.</li>
<li>The user can create objects (object is the file uploaded by the user), delete objects, download objects, set the access rights of the objects, etc. </li>
<li>One example:
```` </li>
<li>Create a bucket, bucket name: baishan_yun, request url: PUT /baishan_yun. </li>
<li>Upload a file to the bucket of baishan_yun, object name: hello_world, each file is uniquely identified by bucket name and object name, requested url: PUT /baishan_yun/hello_world. </li>
<li>To download this file, request the url: GET /baishan_yun/hello_world. </li>
<li>To delete this file, the requested url: DELETE /baishan_yun/hello_world </li>
<li>To delete the bucket, the requested url: DELETE /baishan_yun 
```` </li>
</ul>
<h2 id="programming-interface-and-users-guide-related">Programming interface and user&#x2019;s guide related</h2>
<h3 id="what-are-the-technical-advantages-of-baishancloud-storage">What are the technical advantages of BaishanCloud Storage?</h3>
<ul>
<li><p>BaishanCloud Storage is a product that closely combines CDN and cloud storage. BaishanCloud Storage accelerates uploads via CDN edge nodes and downloads via whole CDN networks. Users can also use the cloud storage service separately. </p>
</li>
<li><p>BaishanCloud Storage is a multi-copy, multi-IDC, distributed architecture that ensures high reliability and availability. </p>
</li>
<li><p>BaishanCloud Storage provides rich and convenient image processing features that help customers also avoid the cost of duplicate uploads/downloads. </p>
</li>
<li><p>BaishanCloud Storage is a completely self-developed system, supporting storage needs in various scenarios, and providing higher performance and rich features. </p>
</li>
<li><p>BaishanCloud Storage adheres to the user-oriented principle and can be customized according to user needs, helping users to use the storage more conveniently and providing 24*7 technical staff online service to help users solve problems quickly. </p>
</li>
<li><p>BaishanCloud Storage provides a variety of user data import mechanisms to facilitate the migration of data to the storage. </p>
</li>
<li><p>BaishanCloud Storage follows and is compatible with the Amazon S3 interface; it supports the official Amazon S3 SDK, and users can also use various open-source tools. </p>
</li>
<li><p>BaishanCloud follows the Amazon S3 REST API interface and strictly adheres to the HTTP protocol to avoid various problems caused by inconsistent interfaces and standards, and the Amazon S3 REST API interface, as the industry standard, has not been modified for more than 10 years and is very stable. </p>
</li>
<li><p>BaishanCloud supports Amazon S3 ACL access control, which can manage the access permissions of buckets and objects. Each bucket and object have an additional ACL sub-resource, which defines which users or groups will be granted access. </p>
</li>
</ul>
<h3 id="list-of-languages-and-sdks-supported-by-baishancloud-storage">List of languages and SDKs supported by BaishanCloud Storage</h3>
<ul>
<li><p>BaishanCloud Storage is compatible with the Amazon S3 interface. It includes all major development languages, such as Python, Php, Browser, Node.js, etc. </p>
</li>
<li><p>In the document baishancloud_storage_api, there are detailed example descriptions of SDKs for Python, Php, Browser, Node.js and other languages, which can help developers get started quickly. For the rest of the rules, you can refer to the Amazon S3 API documentation. </p>
</li>
<li><p>Android  Documentation:<a href="https://aws.amazon.com/cn/documentation/sdk-for-android/" target="_blank">AWS Mobile SDK for Android Documentation</a>    SDK Download:<a href="https://sdk-for-android.amazonwebservices.com/latest/aws-android-sdk.zip" target="_blank">aws-android-sdk</a></p>
</li>
<li><p>Browser  Documentation: <a href="http://docs.aws.amazon.com/AWSJavaScriptSDK/guide/browser-intro.html" target="_blank">Getting Started with the SDK in the Browser</a>    SDK Download: <a href="https://bower.io/" target="_blank">Bower</a></p>
</li>
<li><p>ISO      Documentation: <a href="http://docs.aws.amazon.com/mobile/sdkforios/developerguide/aws-ios-dg.pdf" target="_blank">AWS Mobile SDK iOS Developer Guid</a>    SDK Download: <a href="https://sdk-for-ios.amazonwebservices.com/latest/aws-ios-sdk.zip" target="_blank">aws-ios-sdk</a></p>
</li>
<li><p>Java     Documentation: <a href="http://docs.aws.amazon.com/sdk-for-java/v1/developer-guide/aws-sdk-java-dg.pdf" target="_blank">AWS SDK for Java Developer Guide</a> SDK Download: <a href="https://sdk-for-java.amazonwebservices.com/latest/aws-java-sdk.zip" target="_blank">aws-java-sdk</a></p>
</li>
<li><p>.NET     Documentation: <a href="https://aws.amazon.com/cn/documentation/sdk-for-net/" target="_blank">AWS SDK for .NET Documentation</a>    SDK Download: <a href="https://sdk-for-net.amazonwebservices.com/latest/AWSToolsAndSDKForNet.msi" target="_blank">AWSToolsAndSDKForNet.msi</a></p>
</li>
<li><p>Node.js  Documentation: <a href="https://aws.amazon.com/cn/documentation/sdk-for-javascript/" target="_blank">AWS SDK for JavaScript Documentation</a>    SDK Download: <a href="http://docs.aws.amazon.com/AWSJavaScriptSDK/guide/node-intro.html" target="_blank">Getting Started with the SDK in Node.js</a></p>
</li>
<li><p>PHP      Documentation: <a href="https://aws.amazon.com/cn/documentation/sdk-for-php/" target="_blank">AWS SDK for PHP Documentation</a>    SDK Download: <a href="http://docs.aws.amazon.com/aws-sdk-php/v3/guide/getting-started/installation.html" target="_blank">Installing via Composer</a></p>
</li>
<li><p>Python   Documentation: <a href="http://boto3.readthedocs.io/en/latest/index.html" target="_blank">Boto 3 Documentation</a>    SDK Download&amp;Description: <a href="https://github.com/boto/boto3#quick-start" target="_blank">Boto 3 - The AWS SDK for Python</a></p>
</li>
<li><p>Ruby     Documentation: <a href="https://aws.amazon.com/cn/documentation/sdk-for-ruby/" target="_blank">AWS SDK for Ruby</a>    SDK Download:<a href="http://docs.aws.amazon.com/sdk-for-ruby/v2/developer-guide/" target="_blank">AWS SDK for Ruby Developer Guide v2.16.8</a></p>
</li>
<li><p>Go       Documentation: <a href="http://docs.aws.amazon.com/sdk-for-go/api/" target="_blank">AWS SDK for Go</a>    SDK Download:<a href="https://github.com/aws/aws-sdk-go/wiki" target="_blank">aws-sdk-go</a></p>
</li>
<li><p>C++      Documentation: <a href="https://aws.amazon.com/cn/documentation/sdk-for-cpp/" target="_blank">AWS SDK for C++ Documentation</a>    SDK Download:<a href="https://github.com/aws/aws-sdk-cpp" target="_blank">aws-sdk-cpp</a></p>
</li>
</ul>
<h3 id="is-the-cloud-storage-object-stored-in-a-directory-structure">Is the Cloud Storage Object stored in a directory structure?</h3>
<p>A BaishanCloud Storage Object is not a file in the traditional sense, and the storage method is not the same as saving in a file system.</p>
<p>Each Object appears to be a file in a directory, but for cloud storage it is just a directory-like string.</p>
<p>However, this does not affect the way users want to list files from the specified directory:<br> </p>
<p>When sending a request to list files, set the prefix parameter to the name of the directory prefix, you can only list the files in this directory, for example: </p>
<ul>
<li>bucket/1.mp4</li>
<li>bucket/cc/2.mp4</li>
<li>bucket/cc/3 .mp4</li>
<li>bucket/dd/ee/ff/3.mp4 </li>
</ul>
<p>When the requested <code>prefix</code> is specified as <code>cc</code>, it will list:</p>
<ul>
<li>2.mp4</li>
<li>3.mp4</li>
</ul>
<p>This process is as same as listing files from a directory. In addition to simulating directory listing files, 
it also provides functions such as specifying the maximum number of files to list, 
specifying to list files after a certain file name (sorted in alphabetical order), and merging files according to common prefixes.
For details, please refer to the API documentation. </p>
<p>Things to pay attention to when using:</p>
<ul>
<li><p>Object name should not start with &apos;/&apos;.</p>
<p>For example: You need to upload a file called file.txt, bucket is <code>sandbox</code>.</p>
<ul>
<li>Object is set to <code>file.txt</code>, when accessing it should be <code>http://ss. bscstorage.com/sandbox/file.txt</code> (recommended)</li>
<li>If object is set to <code>/file.txt</code>, it should be <code>http://ss.bscstorage.com/sandbox//file.txt</code> when accessing (strongly not recommended)</li>
</ul>
</li>
<li><p>It is best not to have two consecutive &apos;/&apos; in the object name. For example: You need to upload a file called file.txt in the folder directory, and the bucket is <code>sandbox</code>,</p>
<ul>
<li><p>Object is set to <code>folder/file.txt</code>, when accessing it should be <code>http://ss.bscstorage.com/sandbox/folder/file.txt</code> (recommended method)</p>
</li>
<li><p>If object is set to <code>folder//file.txt</code>, it should be <code>http://ss.bscstorage.com/sandbox/folder//file.txt</code> when accessing (strongly not recommended)</p>
</li>
<li><p>Why does BaishanCloud Storage not recommend two &apos;//&apos; in the URL: some CDN cache servers may combine two consecutive &apos;//&apos; in the URL into one &apos;/&apos; round-trip source, in this case, the Authentication failed or 404</p>
</li>
</ul>
</li>
</ul>
<h3 id="how-to-delete-a-directory">How to delete a directory?</h3>
<p>BaishanCloud Storage does not support deleting a directory directly, </p>
<p>Because the Amazon S3 API does not have the concept of directories in the strict sense (there is no directory hierarchy, but it is customary to separate objects by &quot;/&quot; as directories), there is no guarantee for multiple file operations in this case, so it is done by scripts. </p>
<p>This can be done in the following way:</p>
<ul>
<li><p>List all the files in the directory via the List Objects interface. </p>
</li>
<li><p>Deleting them one by one through the Delete Object interface. </p>
</li>
<li><p>Deleting a directory.</p>
</li>
</ul>
<p>Please note:</p>
<ul>
<li>The list of files returned by the List Objects interface is not all the files in that directory (the list is sorted by filename characters). It may contain the next directory or several directories; so you need to adjust the value of the max-keys parameter, and filter each file to make sure it is a file in that directory. 
If you set the <code>prefix</code> parameter, you can strictly list all files under that <code>prefix</code>. </li>
</ul>
<ul>
<li>Deleting all files at once (listing all files and deleting them one by one) does not guarantee that all files in the directory will be cleaned up. 
`(There may be new uploads during the deletion process.)</li>
</ul>
<h3 id="is-it-possible-to-use-baishancloud-storage-for-whole-site-backup">Is it possible to use BaishanCloud Storage for whole site backup?</h3>
<p>BaishanCloud CDN provides a whole-site backup service, but it is not yet integrated with cloud storage.</p>
<h3 id="how-do-users-import-data">How do users import data</h3>
<p>BaishanCloud Storage provides multiple ways for users to import data.</p>
<ul>
<li><p>End users use the SDK interface to upload files to the storage. </p>
</li>
<li><p>End users use the SDK to generate offline download tasks, and the storage&apos;s offline download subsystem is responsible for downloading data from the origin and synchronizing it to the storage.</p>
</li>
<li><p>End users configure the rules for 404 back to the origin, and when end user accesses the bucket, it will automatically go to the origin site to grab the data and synchronize it to the storage.</p>
</li>
<li><p>End users provide the download list of files, and BaishanCloud Storage will download and synchronize the data to the storage through the file list.</p>
</li>
<li><p>End users can mail the hard disk.</p>
</li>
</ul>
<h3 id="if-the-file-does-not-exist-in-the-storage-can-i-automatically-have-the-storage-go-to-a-specific-place-to-pull-it">If the file does not exist in the storage, can I automatically have the storage go to a specific place to pull it?</h3>
<p>If the file does not exist in BaishanCloud Storage, you can configure it to go to a specific domain to pull the file. <br> </p>
<p>The file pulling is asynchronous, and the pulling completion time is related to the size of the file being pulled. <br> </p>
<p>The request also returns a 302, and the value of the location response header is the address where the file was pulled. <br>
To use the pull function, you need to provide: </p>
<ul>
<li><p>The origin domain name.</p>
</li>
<li><p>The mapping rule from request uri to the uri where the file is pulled.</p>
</li>
<li><p>The validation method for the origin request (optional).</p>
</li>
<li><p>Whether to enable the HEAD request to the origin.</p>
</li>
</ul>
<h3 id="how-to-use-offline-download-to-synchronize-data">How to use offline download to synchronize data?</h3>
<p>The offline download service supports HTTP protocol, BitTorrent protocol, Magnet URI scheme, etc. <br> </p>
<p>By submitting an offline download task, the offline download service will download the file from the address provided in the task and synchronize it to the storage. Once the synchronization is complete, the result of the operation will be sent to the user. <br></p>
<p>It supports download task status inquiry, task cancellation, download data corruption check, message transmission, etc. High performance with more than 2000 rps/s.<br> </p>
<p>How to use:</p>
<ul>
<li><p>Use SDK, send request to offline.bscstorage.com, request url: <a href="http://offline\_domain/" target="_blank">http://offline\_domain/</a><bucket>, bucket name is the bucket to store the file.</bucket></p>
</li>
<li><p>Send the request for the offline task, e.g.</p>
</li>
</ul>
<pre><code>{   &quot;Url&quot;:&quot;http://www.abc.com/download/movie.mp4&quot;,
    &quot;Key&quot;:&quot;movies/2016/movie.mp4&quot;,
    &quot;SHA1&quot;:&quot;abcdeabcdeabcdeabcdeabcdeabcdeabcdeabcde&quot;,
    &quot;MD5&quot;:&quot;abcdabcdabcdabcdabcdabcdabcdabcd&quot;,
    &quot;CRC32&quot;:&quot;abcdef&quot;,
    &quot;SuccessCallbackUrl&quot;:&quot;http://website/succ/&quot;,
    &quot;FailureCallbackUrl&quot;:&quot;http://website/fail/&quot;,
    }
</code></pre><ul>
<li>The user needs to start a service for receiving offline download results.</li>
</ul>
<h3 id="does-it-support-multi-file-uploads">Does it support multi-file uploads?</h3>
<p>Multiple file submissions in a single request are not supported. <br> </p>
<p>If the user wants to submit multiple files in one request for efficiency reasons, it is recommended that the user uses TCP long connections to send multiple requests for uploading files,<br>.</p>
<p>This avoids establishing multiple connections and is about as efficient as submitting multiple files in a single request.</p>
<h3 id="how-to-upload-large-files-and-what-are-the-limitations">How to upload large files and what are the limitations?</h3>
<ul>
<li><p>There is no limit to the total data capacity or the number of data objects on BaishanCloud Storage. The size of each data object can range from 1 byte to 1 TB. </p>
</li>
<li><p>The maximum data objects that can be uploaded in a single PUT request is 1TB. </p>
</li>
<li><p>For large files it is recommended to use the Slice Upload interface for uploading large files in slices, the limits for slice uploads are </p>
<ul>
<li><p>Maximum 512MB per slice. </p>
</li>
<li><p>The maximum number of slices is 2000. </p>
</li>
<li><p>The maximum upload file size is 1TB. </p>
</li>
</ul>
</li>
</ul>
<ul>
<li><p>Large file uploads are divided into 3 steps:</p>
<ul>
<li><p>First initializate interface for slice uploads, the request returns an uploadId, the subsequent 2 steps need this uploadId to identify each slice to upload. </p>
</li>
<li><p>The large file is divided into several pieces to be uploaded, and the order of the pieces is identified in the request by the partNmuber parameter.</p>
</li>
<li><p>When the upload is complete, the slice completion interface is called to notify storage that the file slice upload is complete. </p>
</li>
</ul>
</li>
</ul>
<h3 id="what-are-the-access-control-permissions">What are the access control permissions?</h3>
<ul>
<li><p>The authorized person can be a user, a group or all users </p>
</li>
<li><p>For Bucket control permissions:</p>
<ul>
<li><p>Read only: allows the authorized person to list all objects in the bucket.</p>
</li>
<li><p>Write: allows the authorized person to create, overwrite and delete objects in the bucket. </p>
</li>
<li><p>Read ACL(Access Control List): Allows the authorized person to read the ACL of the bucket. </p>
</li>
<li><p>Write ACL: Allows the authorized person to modify the ACL of the bucket. </p>
</li>
<li><p>All permissions: Allows the authorized person to read, write, read ACL, and write ACL of the storage bucket.</p>
</li>
</ul>
</li>
<li><p>For Object control permissions:</p>
<ul>
<li><p>Read: Allows the authorized person to read the data and meta information of the object. </p>
</li>
<li><p>Read ACL(Access Control List): allows the authorized person to read the ACL of the object. </p>
</li>
<li><p>Write ACL: allows the authorized person to modify the ACL of the object. </p>
</li>
<li><p>All permissions: allow the authorized person to read, read ACL, write ACL on the object.</p>
</li>
</ul>
</li>
</ul>
<h3 id="is-it-possible-to-modify-bucket-and-object-without-signature-anonymous-access">Is it possible to modify bucket and object without signature (anonymous access)?</h3>
<p>Normal operations require a signature to verify user permissions, but it is possible to set a common attribute that allows users to operate without a signature. </p>
<ul>
<li><p>By setting the bucket permissions to public-read, any user can list the files under the bucket and request them without a signature. </p>
</li>
<li><p>After setting the bucket permission to public-read-write, any user can list the files under this bucket and upload files to this bucket, and the request does not require a signature. </p>
</li>
<li><p>When uploading a file, after specifying object permissions as public-read, any user can download the file without a signature, which is called anonymous download. </p>
</li>
<li><p>When a user accesses the storage through a CDN request, the request does not require a signature to access the files on the storage because the CDN nodes are configured with full permissions.</p>
</li>
</ul>
<h3 id="does-storage-support-decompression-of-users-file-packages">Does storage support decompression of user&apos;s file packages?</h3>
<ul>
<li>It is not supported for now, however, it can be developed if required.</li>
</ul>
<h3 id="does-it-support-restore-downloads">Does it support restore downloads?</h3>
<ul>
<li>Support, use HTTP1.1 protocol (RFC2616) Range and Content-Range header field to restore download, specific header field settings refer to <a href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.35" target="_blank">rfc2616</a></li>
</ul>
<hr>
<h2 id="video-processing">Video processing</h2>
<h3 id="is-there-a-requirement-for-origin-file-format-for-transcoding">Is there a requirement for origin file format for transcoding?</h3>
<p>There are no requirements, basically all formats are supported. </p>
<h3 id="does-the-transcoding-template-describe-the-input-file-or-the-output-file">Does the transcoding template describe the input file or the output file?</h3>
<p>The transcoding template is to configure the format and other information of the output file, there is no need to configure anything for the input file.</p>
<h3 id="what-does-transcoding-templates-include">What does transcoding templates include?</h3>
<ul>
<li><p>Encapsulation formats, flv, mp4, ts, etc. </p>
</li>
<li><p>Video encoding format, h265, h264, mpeg2, etc. </p>
</li>
<li><p>Video bitrate </p>
</li>
<li><p>Video resolution </p>
</li>
<li><p>Video keyframe interval </p>
</li>
<li><p>Video frame rate</p>
</li>
<li><p>Audio encoding format, aac, mp2, mp3, etc. </p>
</li>
<li><p>Audio bitrate </p>
</li>
<li><p>Number of audio channels</p>
</li>
</ul>
<h3 id="what-output-formats-are-supported">What output formats are supported:</h3>
<ul>
<li><p>flv</p>
</li>
<li><p>fmp4</p>
</li>
<li><p>mp4</p>
</li>
<li><p>ts</p>
</li>
<li><p>mp3</p>
</li>
<li><p>wma</p>
</li>
<li><p>wmv</p>
</li>
<li><p>mp2</p>
</li>
<li><p>aac</p>
</li>
<li><p>gif</p>
</li>
</ul>
<h3 id="does-it-support-video-slicing">Does it support video slicing?</h3>
<p>Yes, you can create a transcoding task and specify the duration of the slice segment, provided that the package format ts of the template configuration is used.</p>
<h3 id="does-it-support-video-watermark">Does it support video watermark?</h3>
<p>Yes, the watermark location information is configured in the transcoding template, and you can create a transcoding task and add a watermark image.</p>
<h3 id="are-video-clips-supported">Are video clips supported?</h3>
<p>Yes, you can create a transcoding task and specify the start time and duration.</p>
<h3 id="does-hls-slice-support-aes128-encryption">Does hls slice support AES128 encryption?</h3>
<p>Support, create transcoding and provide encrypted key, decrypted url, and encrypted iv vector (optional).</p>
<h3 id="does-it-support-4k-transcoding">Does it support 4K transcoding?</h3>
<p>Support, you can configure 4k resolution in the template</p>
<p>automatic transcoding</p>
<p>Automatic transcoding means that a transcoding task is automatically created for this file system while uploading a file.</p>
<p>The path where the output file is stored, for example, the source file is a/b/xx.mp4</p>
<p>If the configuration is consistent with the source file path, the file suffix is configured as foo.ts, and the key in the storage is a/b/xxfoo.ts</p>
<p>If there is no configuration and the source file path is consistent, the file suffix is configured as foo.ts, and the key in the storage is xxfoo.ts</p>
<h3 id="how-long-does-it-take-to-transcode-a-1h-video">How long does it take to transcode a 1h video?</h3>
<p>Transcoding takes about 45 &#x2013; 60 minutes. If the video encoding and audio encoding remain unchanged (Also known as transcoding, which only the suffix name has changed), it will take 3 - 5 minutes. This is only the estimated time, high resolution and special format time will take longer.</p>
<h3 id="can-the-m3u8-file-generated-by-video-slicing-be-played-directly-through-cloud-storage">Can the m3u8 file generated by video slicing be played directly through cloud storage?</h3>
<p>Normally it cannot be played. The m3u8 file stores a list of a bunch of small ts files. When playing, the player needs to download the small ts files from the storage, but the download needs to be signed.</p>
<p>Set all small ts files to be anonymous and accessible, and they can be played.</p>
<p>Through CDN, when cloud storage is set as the origin, the file can be played.</p>
<h3 id="manually-created-a-transcoding-task-but-cant-find-the-target-file-after-completion">Manually created a transcoding task, but can&apos;t find the target file after completion?</h3>
<p>It is possible that the output file prefix is not specified, and the target file is placed in the bucket root directory</p>
<h2 id="image-processing">Image processing</h2>
<h3 id="does-baishancloud-storage-support-real-time-image-conversion-rotation-scaling-cutting-and-watermarking">Does BaishanCloud Storage support real-time image conversion, rotation, scaling, cutting, and watermarking?</h3>
<ul>
<li>Yes, we support those functions, please see imgx_manual documentation for details.</li>
</ul>
<ul>
<li>The processed image is generated and cached, and the next request will not be repeated, and the default cache period is 7 days.</li>
</ul>
<ul>
<li>If a CDN acceleration is configured, the processed images will be automatically pushed to the CDN node.</li>
</ul>
<ul>
<li>If the original image is modified, you can use the v command to regenerate the image and link.</li>
</ul>
<h3 id="is-it-possible-to-let-the-storage-automatically-determine-that-the-user-agent-triggers-a-specific-image-cropping-output">Is it possible to let the storage automatically determine that the user-agent triggers a specific image cropping output?</h3>
<p>Not supported currently, please contact your account team to submit development request if needed.</p>
<h3 id="is-there-a-video-transcoding-function">Is there a video transcoding function?</h3>
<ul>
<li>Support conversion between flv, mp4, mov and other formats</li>
</ul>
<ul>
<li>Support for reducing bit rate, resolution, modifying gop (key frame interval) and other functions</li>
</ul>
<ul>
<li>Support video screenshots.</li>
</ul>
<p>This feature is currently under development and will be provided in the future. Please contact the support team for more details.</p>
<hr>
<h2 id="user-management-storage-resource-related-management-console">User management storage resource related, management console</h2>
<h3 id="what-information-can-storage-users-view-through-the-background">What information can storage users view through the background?</h3>
<p>The information that can be viewed in the background includes:</p>
<ul>
<li>User space information, including usage, number of files used.</li>
</ul>
<ul>
<li>You can view the user&apos;s bandwidth, traffic, number of requests, etc.</li>
</ul>
<ul>
<li>You can view file size distribution, file type distribution, etc.</li>
</ul>
<ul>
<li>Provide billing information, including billing details for used traffic, space, and number of requests.</li>
</ul>
<ul>
<li>Provide documents such as image processing to help users use.</li>
</ul>
<ul>
<li>Provides key management.</li>
</ul>
<h3 id="whether-the-storage-console-has-the-function-of-searching-for-files-for-example-the-full-path-of-a-file-in-a-bucket-is-abcdef123png-can-you-use-the-file-name-123png-to-search-for-the-file-without-knowing-the-full-path-">Whether the storage console has the function of searching for files. For example, the full path of a file in a bucket is abc/def/123.png. Can you use the file name 123.png to search for the file without knowing the full path? ?</h3>
<p>Currently, there is no search function developed in the console. You can use the head command to find files under each bucket.</p>
<h3 id="can-i-count-the-number-of-files-under-a-bucket">Can I count the number of files under a bucket?</h3>
<p>The number of files can be viewed from the number of files in the bucket in the database.</p>
<h3 id="does-baishan-cloud-storage-provide-log-download">Does Baishan Cloud Storage provide log download?</h3>
<p>It is currently not supported from the console, please contact the support team for assistance.</p>
<hr>
<h2 id="performance-reliability-availability">Performance, Reliability, Availability</h2>
<h3 id="does-baishan-cloud-storage-do-upload-acceleration">Does Baishan Cloud Storage do upload acceleration?</h3>
<p>Yes, Baishan cloud storage uses its robust  network with the edge nodes of CDN to improve the upload speed. <br></p>
<p>When the user requests accelerated upload of the domain name, the DNS server intelligently returns the IP of the CDN edge node closest to the user to the user. <br></p>
<p>The user uploads the file to the nearest edge node, and the edge node transmits the data to the storage center through the optimal path. <br></p>
<p>Compared with the accelerated upload by the edge node and the direct upload to the storage center, the average speed is more than doubled, which greatly improves the upload experience. <br></p>
<p>Using upload acceleration is very simple, you only need to use acceleration to upload the domain name.</p>
<h3 id="does-baishan-cloud-storage-integrate-cdn-support">Does Baishan Cloud Storage integrate CDN support?</h3>
<p>Baishan cloud storage and Baishan CDN are perfectly integrated, application for storage and CDN can be carried out at the same time, and there is a complete configuration process</p>
<ul>
<li>CDN upload acceleration</li>
</ul>
<ul>
<li>CDN supports virtual domain name back-to-origin</li>
</ul>
<ul>
<li>CDN supports signature back-to-source to protect user data security</li>
</ul>
<ul>
<li>At the same time, Baishan Cloud Storage also supports third-party CDN back-to-origin</li>
</ul>
<ul>
<li>How to configure CDN and cloud storage:</li>
</ul>
<pre><code>


If you want to test the download acceleration through CDN, you need to change the CNAME of the domain name from your DNS provider to start,&lt;br/&gt;



For example, www.qq.com.i.qingcdn.com, the CDN returns to ss.bscstorage.com.





Suggestions for creating buckets:



1. Create a bucket with the same name as the user domain name.



For example, if the user website domain name is www.qq.com, then create a bucket such as www.qq.com. Then when the CDN is configured to accelerate, there is no need to modify the host.



2. User-defined bucket name:



For example, if the user website domain name is www.qq.com, and the user wants to create a qq bucket, when the CDN is configured for acceleration, the user accesses www.qq.com.ss.bscstorage.com, and when returning to the origin, the host needs to be changed to qq. ss.bscstorage.com
</code></pre><h3 id="is-https-supported-how-to-use">Is HTTPS supported? How to use?</h3>
<ul>
<li><p>Support HTTPS method.</p>
</li>
<li><p>If it is a user domain name, first, the user domain name needs to have ICP license, and the user needs to apply for an SSL certificate for the domain name, and then upload the certificate to BaishanCloud console, please contact support team if you need any assistance with aquiring SSL certificate.</p>
</li>
<li><p>If you use the domain name provided by Baishan Cloud Storage, for example: <a href="https://ss.bscstorage.com" target="_blank">https://ss.bscstorage.com</a>, Note: The bucket must be placed in the url request, not the domain name.</p>
</li>
</ul>
<h3 id="is-encrypted-storage-supported">Is encrypted storage supported?</h3>
<p>Not currently supported</p>
<h3 id="how-reliable-is-it">How reliable is it?</h3>
<ul>
<li>Baishan Cloud Storage ensures reliability up to 99.999% through mechanisms such as multiple data center, multiple cached files, and fast failover.</li>
</ul>
<hr>
<h2 id="pre-sales-support-poc-testing-etc">Pre-sales support, POC testing, etc.</h2>
<h3 id="is-there-an-environment-for-quick-poc-testing-what-is-the-application-process">Is there an environment for quick POC testing? What is the application process?</h3>
<p>Currently it is manually reviewed and opened. Please provide the following information when applying:</p>
<ul>
<li><p>The full company name of the applicant client.</p>
</li>
<li><p>The user is required to provide an email address (login email).</p>
</li>
<li><p>The initial password for the user to log in to the storage console.</p>
</li>
</ul>
<ul>
<li><p>In order to better cooperate with the test, the user is also required to provide the following information:</p>
<ul>
<li><p>Upload file type, image video text.</p>
</li>
<li><p>Average file size range.</p>
</li>
<li><p>Approximate storage space requirements.</p>
</li>
<li><p>Whether you need to use CDN.</p>
</li>
<li><p>Whether upload acceleration is required.</p>
</li>
</ul>
</li>
</ul>
<ul>
<li>BaishanCloud support team will create a user, generate the accseskey and secretkey corresponding to the user, and create a bucket corresponding to the user.</li>
</ul>
<ul>
<li>Users can use accseskey and secretkey, and encode according to the demo given in the SDK.</li>
</ul>
<h3 id="how-to-apply-for-upload-acceleration">How to apply for upload acceleration?</h3>
<p>Use the upload acceleration domain name and call the SDK for uploading files.</p>
<h3 id="how-to-apply-for-storage-and-cdn-service-at-the-same-time">How to apply for storage and CDN service at the same time?</h3>
<ul>
<li>CDN user application address: <a href="http://www.qingcdn.com/account/index/login" target="_blank">http://www.qingcdn.com/account/index/login</a></li>
</ul>
<ul>
<li>Cloud storage users, manual application.</li>
</ul>
<h3 id="how-does-the-origin-set-the-cache-time">How does the origin set the cache time?</h3>
<p>BaishanCloud Storage can set the settings of HTTP request headers such as Cache-Control of stored files and send the cache settings together with HTTP access requests. <br></p>
<p>BaishanCloud CDN can execute the cache policy according to the Cache-Control setting in the HTTP request header returned by the origin site.</p>
<hr>
<h2 id="related-to-third-party-service-integration">Related to third-party service integration</h2>
<h3 id="is-there-an-integrated-text-editor-for-uploading-images">Is there an integrated text editor for uploading images?</h3>
<p>Some customers have proposed the whole page upload function, but this function is not supported currently.</p>
<hr>
<h2 id="daily-use-related">Daily use related</h2>
<h3 id="does-baishancloud-storage-provide-a-web-management-interface-for-users-to-manage-their-own-files">Does BaishanCloud Storage provide a web management interface for users to manage their own files?</h3>
<p>Provide, management interface login address: <a href="https://cwn-ss.portal.baishancloud.com" target="_blank">https://cwn-ss.portal.baishancloud.com</a></p>
<h3 id="how-to-upload-files-is-it-possible-to-upload-via-ftp-or-rsync-is-there-a-client-can-be-used">How to upload files? Is it possible to upload via FTP or rsync? Is there a client can be used?</h3>
<p>BaishanCloud Storage follows and is compatible with Amazon S3 REST API. <br></p>
<p>There are many mature and reliable SDKs and command-line tools in the community, which are compatible with Amazon S3 REST API, so they can be used directly, which can completely save the development work of the interface layer.</p>
<p>For example the popular:</p>
<ul>
<li><p><a href="http://s3tools.org/s3cmd" target="_blank">s3cmd</a></p>
</li>
<li><p><a href="http://boto.cloudhackers.com/en/latest/" target="_blank">boto</a></p>
</li>
</ul>
<p>Baishan cloud storage does not support FTP or rsync protocol. Because amazon s3 has more fine-grained control over file permissions.</p>
<p>Graphical FTP alternatives can use cyberduck and crossftp for Mac or s3browser and crossftp for Windows.</p>
<p>Alternatives to command line ftp or rsync can use <a href="http://s3tools.org/s3cmd" target="_blank">s3cmd</a></p>
<p>or <a href="https://aws.amazon.com/cn/cli/" target="_blank">aws cli</a></p>
<p>To support mounting a bucket on a Linux host, so that files in the bucket can be accessed like local files, the following third-party tools can be used</p>
<ul>
<li><p>s3fs</p>
</li>
<li><p>riofs</p>
</li>
<li><p>googys</p>
</li>
</ul>
<hr>
<h2 id="sdk-related">SDK Related</h2>
<h3 id="error-when-uploading-file-using-java-sdk-&#xFF1A;unable-to-verify-integrity-of-data-upload--client-calculated-content-hash-contentmd5-e6ks0b2pnpj272xbg92fw-in-base-64-didnt-match-hash-etag-359740e5918c395b6e35a2c612582e42-in-hex-calculated-by-amazon-s3">Error when uploading file using java SDK &#xFF1A;Unable to verify integrity of data upload.  Client calculated content hash (contentMD5: E+6KS0B2pNPJ272XbG92fw== in base 64) didn&apos;t match hash (etag: 359740e5918c395b6e35a2c612582e42 in hex) calculated by Amazon S3</h3>
<p>When uploading files, the Java SDK uses the &quot;ChunkedEncoding&quot; method by default. We do not support this method at the moment. You can disable this upload method through parameter settings. Please refer to the following example.</p>
<pre><code class="lang-java">BasicAWSCredentials awsCreds = <span class="hljs-keyword">new</span> BasicAWSCredentials(
        accessKey, secretKey);
AmazonS3 s3 = <span class="hljs-keyword">new</span> AmazonS3Client(awsCreds);

s3.setS3ClientOptions(S3ClientOptions.builder().disableChunkedEncoding().build());
</code></pre>
<h3 id="error-when-uploading-file-using-android-sdk-&#xFF1A;unable-to-verify-integrity-of-data-upload-client-calculated-content-hash-didnt-match-hash-calculated-by-amazon-s3-you-may-need-to-delete-the-data-stored-in-amazon-s3">Error when uploading file using android SDK &#xFF1A;Unable to verify integrity of data upload. Client calculated content hash didn&apos;t match hash calculated by Amazon S3. You may need to delete the data stored in Amazon S3</h3>
<p>When uploading files, the android SDK uses the &quot;ChunkedEncoding&quot; method by default. We do not support this method for the time being. Although the android SDK provides an interface to disable this method, it still cannot take effect after setting it to disable, so it needs to be signed by using v2. to circumvent this problem. &quot;ChunkedEncoding&quot; is only used for v4 signatures.</p>
<p>To set the method to use v2 signature, please refer to the following code.</p>
<pre><code class="lang-java">AWSCredentials credentials = <span class="hljs-keyword">new</span> BasicAWSCredentials(
        accessKey, secretKey);

ClientConfiguration configuration = <span class="hljs-keyword">new</span> ClientConfiguration();
configuration.setSignerOverride(<span class="hljs-string">&quot;S3SignerType&quot;</span>);

AmazonS3 s3 = <span class="hljs-keyword">new</span> AmazonS3Client(credentials, configuration);
</code></pre>
<h3 id="when-uploading-and-downloading-files-using-the-ios-sdk-an-error-occurs-code-403-error-code-signaturedoesnotmatch-request-id-23e338d9-1706-1410-3759-a0369fd80cca">When uploading and downloading files using the ios SDK, an error occurs: Code: 403; Error Code: SignatureDoesNotMatch; Request ID: 23e338d9-1706-1410-3759-a0369fd80cca</h3>
<p>The iOS SDK will determine the service type according to the domain name specified by the endpoint. For example, if the domain name starts with &apos;s3&apos; (s3.amazonaws.com), it means that the request is for s3 service, and the corresponding signature method is used. Therefore, when specifying a non-AWS standard When the domain name is used, it will result in the use of an incorrect signature method. In addition, there are few configurable parameters in the ios SDK, and the behavior of the SDK can only be changed by modifying the source code. Source code github address: &apos;<a href="https://github.com/aws/aws-sdk-ios.git" target="_blank">https://github.com/aws/aws-sdk-ios.git</a>&apos;. A new line needs to be inserted at line 319 of the file AWSCore/Authentication/AWSSignature.m: &apos;[request setValue:contentSha256 forHTTPHeaderField:@&quot;x-amz-content-sha256&quot;];&apos;. Then execute the following command in the source code root directory to compile the source code:</p>
<pre><code class="lang-shell">chmod +x Scripts/SdkPackage.sh
sh Scripts/Package.sh
</code></pre>
<p>Since you only need to recompile AWSCore, you can edit the Scripts/Package.sh file and delete the code for compiling other modules. After deletion, the end of the file is as follows:</p>
<pre><code class="lang-shell">if [ -x &quot;Scripts/SdkPackage.sh&quot; ]; then
    Scripts/SdkPackage.sh AWSCore
fi
</code></pre>
<p>The compiled framework is located in the builtFramework/framework directory. Use the newly compiled AWSCore.framework to replace the original one in the project.</p>
<h3 id="downloading-aws-sdk-from-maven-repository-is-too-slow-and-easily-lead-to-disconnection-you-can-add-the-following-configuration-to-pomxml-to-replace-the-mirror">Downloading AWS SDK from Maven Repository is too slow and easily lead to disconnection. You can add the following configuration to pom.xml to replace the mirror.</h3>
<pre><code class="lang-java">&lt;repositories&gt;
    &lt;repository&gt;
        &lt;id&gt;my-repo1&lt;/id&gt;
        &lt;name&gt;your custom repo&lt;/name&gt;
        &lt;url&gt;http://mirrors.redv.com/maven2&lt;/url&gt;
    &lt;/repository&gt;
&lt;/repositories&gt;
</code></pre>
<h3 id="how-to-set-up-signature-version-for-sdk">How to set up signature version for SDK</h3>
<h4 id="java-sdk">java SDK</h4>
<p>java SDK default using signature version 4, to use signature version 2, please add the following script:</p>
<pre><code class="lang-java"><span class="hljs-keyword">import</span> com.amazonaws.ClientConfiguration;

ClientConfiguration clientconfiguration = <span class="hljs-keyword">new</span> ClientConfiguration();
clientconfiguration.setSignerOverride(<span class="hljs-string">&quot;S3SignerType&quot;</span>);
AmazonS3 client = <span class="hljs-keyword">new</span> AmazonS3Client(awsCreds, clientconfiguration);
</code></pre>
<h4 id="python-sdk">python SDK</h4>
<p>python SDK(boto3) default using signature version 2, to use signature version 4, please add the following script:</p>
<pre><code class="lang-python"><span class="hljs-keyword">from</span> botocore.client <span class="hljs-keyword">import</span> Config

config = Config(signature_version=<span class="hljs-string">&apos;s3v4&apos;</span>)
client = boto3.client(
    <span class="hljs-string">&apos;s3&apos;</span>,
    aws_access_key_id = access_key,
    aws_secret_access_key = secret_key,
    config = config,
    region_name = <span class="hljs-string">&apos;us-east-1&apos;</span>,
    endpoint_url = <span class="hljs-string">&apos;http://bscstorage.com&apos;</span>,
)
</code></pre>
<h4 id="php-sdk">php SDK</h4>
<p>php SDK only support signature version 4, signature version 2 not supported. </p>
<h4 id="go-sdk">go SDK</h4>
<p>go SDK only support signature version 4, signature version 2 not supported.</p>
<h4 id="javascript-sdk">JavaScript SDK</h4>
<p>JavaScript SDK default using signature version 2, to use signature version 4, please add the following script:</p>
<pre><code class="lang-javasrcript">AWS.config.signatureVersion = &apos;v4&apos;;
</code></pre>
<h2 id="obeject-storage">Obeject Storage</h2>
<hr>
<h2 id="instance&#xFF08;-compatible-amazon-sdk&#xFF09;">Instance&#xFF08; Compatible Amazon SDK&#xFF09;</h2>
<hr>
<h2 id="python-demo">Python Demo</h2>
<h3 id="install-the-aws-python-client-&#x2013;-boto3">Install the AWS Python client &#x2013; boto3</h3>
<pre><code>pip install boto3
</code></pre><h3 id="initialization--account-and-domain-setup">Initialization &amp; account and domain setup</h3>
<pre><code class="lang-python">
<span class="hljs-keyword">import</span> boto3
<span class="hljs-keyword">from</span> boto3.s3.transfer <span class="hljs-keyword">import</span> TransferConfig

cli = boto3.client(
    <span class="hljs-string">&apos;s3&apos;</span>,
    aws_access_key_id=<span class="hljs-string">&apos;ziw5dp1alvty9n47qksu&apos;</span>, <span class="hljs-comment">#please replace with your access_key</span>
    aws_secret_access_key=<span class="hljs-string">&apos;V+ZTZ5u5wNvXb+KP5g0dMNzhMeWe372/yRKx4hZV&apos;</span>, <span class="hljs-comment">#please replace with your secret_key</span>
    endpoint_url=<span class="hljs-string">&apos;http://ss.bscstorage.com&apos;</span>
)
</code></pre>
<h3 id="file-operation-api">File operation API</h3>
<h4 id="file-upload">File Upload</h4>
<h5 id="using-the-putobject-interface">Using the put_object interface</h5>
<p>ACL can set as&#xFF1A;&apos;private&apos; or &apos;public-read&apos; or &apos;public-read-write&apos; or &apos;authenticated-read&apos;</p>
<pre><code class="lang-python">resp = cli.put_object(
    ACL=<span class="hljs-string">&apos;public-read&apos;</span>,
    Bucket=<span class="hljs-string">&apos;test-bucket-xxx&apos;</span>,
    Key=<span class="hljs-string">&apos;test-key-xxx&apos;</span>,
    ContentType=<span class="hljs-string">&apos;image/jpeg&apos;</span>, <span class="hljs-comment"># please replace with applicable content type</span>
    Body=<span class="hljs-string">&apos;the content of the file as a string&apos;</span>
)
</code></pre>
<h5 id="using-uploadfile-interface-it-suits-to-upload-the-large-file-it-supports-dividing-the-file-into-different-blocks-automatically-and-uploading-those-blocks-simultaneously">Using upload_file interface (It suits to upload the large File, it supports dividing the File into different blocks automatically and uploading those blocks simultaneously.)</h5>
<pre><code class="lang-python">config = TransferConfig(
    multipart_threshold=<span class="hljs-number">30</span> * <span class="hljs-number">1024</span> * <span class="hljs-number">1024</span>,
    multipart_chunksize=<span class="hljs-number">8</span> * <span class="hljs-number">1024</span> * <span class="hljs-number">1024</span>,
    max_concurrency=<span class="hljs-number">10</span>
)
resp = cli.upload_file(
    <span class="hljs-string">&apos;/root/test.mp4&apos;</span>,
    <span class="hljs-string">&apos;test-bucket-xxx&apos;</span>,
    <span class="hljs-string">&apos;test-key-xxx&apos;</span>,
    ExtraArgs={
        <span class="hljs-string">&apos;ContentType&apos;</span>: <span class="hljs-string">&apos;image/jpeg&apos;</span>, <span class="hljs-comment"># please replace with applicable content type</span>
        <span class="hljs-string">&apos;ACL&apos;</span>: <span class="hljs-string">&apos;private&apos;</span>,
    },
    Config=config
)
</code></pre>
<h4 id="file-copy">File Copy</h4>
<p>Copy all files in the source bucket prefixed with <code>aa</code> to the target bucket</p>
<pre><code class="lang-python">marker = <span class="hljs-string">&apos;&apos;</span>

<span class="hljs-keyword">while</span> <span class="hljs-keyword">True</span>:
    resp = s3.list_objects(
        Bucket=<span class="hljs-string">&apos;src-bucket&apos;</span>,
        Prefix=<span class="hljs-string">&apos;aa&apos;</span>,
        Marker=marker,
    )

    <span class="hljs-keyword">if</span> <span class="hljs-string">&apos;Contents&apos;</span> <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> resp:
        <span class="hljs-keyword">break</span>

    <span class="hljs-keyword">for</span> content <span class="hljs-keyword">in</span> resp[<span class="hljs-string">&apos;Contents&apos;</span>]:
        s3.copy_object(Bucket=<span class="hljs-string">&apos;dst-bucket&apos;</span>, Key=content[<span class="hljs-string">&apos;key&apos;</span>], CopySource=<span class="hljs-string">&apos;/%s/%s&apos;</span> % (<span class="hljs-string">&apos;src-bucket&apos;</span>, content[<span class="hljs-string">&apos;key&apos;</span>]))

    marker = resp[<span class="hljs-string">&apos;Contents&apos;</span>][<span class="hljs-number">-1</span>][<span class="hljs-string">&apos;Key&apos;</span>]
</code></pre>
<h4 id="file-download">File Download</h4>
<pre><code class="lang-python">resp = cli.get_object(
    Bucket=<span class="hljs-string">&apos;test-bucket-xxx&apos;</span>,
    Key=<span class="hljs-string">&apos;test-key-xxx&apos;</span>
)
</code></pre>
<h4 id="get-file-url">Get File URL</h4>
<p>&#x83B7;&#x53D6;&#x5DF2;&#x7B7E;&#x540D;&#x7684;URL&#x7528;&#x6765;&#x4E0B;&#x8F7D;&#x6587;&#x4EF6;&#xFF0C;&#x53EF;&#x901A;&#x8FC7;&#x53C2;&#x6570;ExpiresIn&#x8BBE;&#x7F6E;&#x7B7E;&#x540D;&#x8FC7;&#x671F;&#x65F6;&#x95F4;&#x3002;</p>
<pre><code class="lang-python">url = cli.generate_presigned_url(
    <span class="hljs-string">&apos;get_object&apos;</span>,
    Params={
        <span class="hljs-string">&apos;Bucket&apos;</span>: <span class="hljs-string">&apos;test-bucket-xxx&apos;</span>,
        <span class="hljs-string">&apos;Key&apos;</span>: <span class="hljs-string">&apos;test-key-xxx&apos;</span>
    },
    ExpiresIn=<span class="hljs-number">60</span>
)
<span class="hljs-keyword">print</span> url
</code></pre>
<h4 id="file-delete">File Delete</h4>
<pre><code class="lang-python">resp = cli.delete_object(
    Bucket=<span class="hljs-string">&apos;test-bucket-xxx&apos;</span>,
    Key=<span class="hljs-string">&apos;test-key-xxx&apos;</span>
)
</code></pre>
<h4 id="get-file-acl">Get File ACL</h4>
<pre><code class="lang-python">resp = cli.get_object_acl(
    Bucket=<span class="hljs-string">&apos;test-bucket-xxx&apos;</span>,
    Key=<span class="hljs-string">&apos;test-key-xxx&apos;</span>
)
</code></pre>
<h4 id="set-file-acl">Set File ACL</h4>
<h5 id="using-the-pre-defined-acl">Using the pre-defined ACL</h5>
<p>Support pre-defined ACL&#xFF1A;&apos;private&apos;, &apos;public-read&apos;, &apos;public-read-write&apos; &#x6216; &apos;authenticated-read&apos;</p>
<pre><code class="lang-python">resp = cli.put_object_acl(
    ACL=<span class="hljs-string">&apos;public-read&apos;</span>,
    Bucket=<span class="hljs-string">&apos;test-bucket-xxx&apos;</span>,
    Key=<span class="hljs-string">&apos;test-key-xxx&apos;</span>
)
</code></pre>
<h5 id="using-the-custom-acl">Using the custom ACL</h5>
<p>Permission includes&#xFF1A;&apos;FULL_CONTROL&apos;, &apos;WRITE&apos;, &apos;WRITE_ACP&apos;, &apos;READ&apos;, &apos;READ_ACP&apos;</p>
<pre><code class="lang-python">resp = cli.put_object_acl(
    AccessControlPolicy={
        <span class="hljs-string">&apos;Grants&apos;</span>: [
            {
                <span class="hljs-string">&apos;Grantee&apos;</span>: {
                    <span class="hljs-string">&apos;ID&apos;</span>: <span class="hljs-string">&apos;user_foo&apos;</span>, <span class="hljs-comment"># &#x8BF7;&#x66FF;&#x6362;&#x4E3A;&#x771F;&#x5B9E;&#x5B58;&#x5728;&#x7684;&#x7528;&#x6237;</span>
                    <span class="hljs-string">&apos;Type&apos;</span>: <span class="hljs-string">&apos;CanonicalUser&apos;</span>,
                },
                <span class="hljs-string">&apos;Permission&apos;</span>: <span class="hljs-string">&apos;WRITE&apos;</span>,
            },
            {
                <span class="hljs-string">&apos;Grantee&apos;</span>: {
                    <span class="hljs-string">&apos;ID&apos;</span>: <span class="hljs-string">&apos;your-user-name&apos;</span>,
                    <span class="hljs-string">&apos;Type&apos;</span>: <span class="hljs-string">&apos;CanonicalUser&apos;</span>,
                },
                <span class="hljs-string">&apos;Permission&apos;</span>: <span class="hljs-string">&apos;FULL_CONTROL&apos;</span>,
            },
        ],
        <span class="hljs-string">&apos;Owner&apos;</span>: {
            <span class="hljs-string">&apos;ID&apos;</span>: <span class="hljs-string">&apos;your-user-name&apos;</span>,
        },
    },
    Bucket=<span class="hljs-string">&apos;test-bucket-xxx&apos;</span>,
    Key=<span class="hljs-string">&apos;test-key-xxx&apos;</span>
)
</code></pre>
<h3 id="bucket-operation-api">Bucket operation API</h3>
<h4 id="bucket-create">Bucket Create</h4>
<p>ACL can be set as&#xFF1A;&apos;private&apos; or &apos;public-read&apos; or &apos;public-read-write&apos; or &apos;authenticated-read&apos;</p>
<pre><code class="lang-python">resp = cli.create_bucket(
    ACL=<span class="hljs-string">&apos;public-read&apos;</span>,
    Bucket=<span class="hljs-string">&apos;test-bucket-xxx&apos;</span>
)
</code></pre>
<h4 id="list-bucket-file-list-all-the-files-contained-on-the-bucket-the-max-number-of-returning-files-each-time-is-1000">List Bucket File (List all the files contained on the bucket. The max number of returning files each time is 1000)</h4>
<pre><code class="lang-python">resp = cli.list_objects(
    Bucket=<span class="hljs-string">&apos;test-bucket-xxx&apos;</span>,
    Prefix=<span class="hljs-string">&apos;&apos;</span>,
    Marker=<span class="hljs-string">&apos;&apos;</span>,
)
</code></pre>
<h4 id="list-all-the-files-contained-in-the-bucket">List all the files contained in the bucket</h4>
<pre><code class="lang-python">marker = <span class="hljs-string">&apos;&apos;</span>

<span class="hljs-keyword">while</span> <span class="hljs-keyword">True</span>:
    resp = s3.list_objects(
        Bucket=<span class="hljs-string">&apos;test-bucket-xxx&apos;</span>,
        Marker=marker,
    )

    <span class="hljs-keyword">if</span> <span class="hljs-string">&apos;Contents&apos;</span> <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> resp:
        <span class="hljs-keyword">break</span>

    <span class="hljs-keyword">for</span> content <span class="hljs-keyword">in</span> resp[<span class="hljs-string">&apos;Contents&apos;</span>]:
        <span class="hljs-keyword">print</span> <span class="hljs-string">&apos;key: %s, size: %d&apos;</span> % (content[<span class="hljs-string">&apos;Key&apos;</span>], content[<span class="hljs-string">&apos;Size&apos;</span>])

    marker = resp[<span class="hljs-string">&apos;Contents&apos;</span>][<span class="hljs-number">-1</span>][<span class="hljs-string">&apos;Key&apos;</span>]
</code></pre>
<h4 id="bucket-delete">Bucket Delete</h4>
<pre><code class="lang-python">resp = cli.delete_bucket(
    Bucket=<span class="hljs-string">&apos;test-bucket-xxx&apos;</span>
)
</code></pre>
<h4 id="get-bucket-acl">Get Bucket ACL</h4>
<pre><code class="lang-python">resp = cli.get_bucket_acl(
    Bucket=<span class="hljs-string">&apos;test-bucket-xxx&apos;</span>
)
</code></pre>
<h4 id="set-bucket-acl">Set Bucket ACL</h4>
<h5 id="using-the-pre-defined-acl">Using the pre-defined ACL</h5>
<p>Support pre-defined ACL&#xFF1A;&apos;private&apos;, &apos;public-read&apos;, &apos;public-read-write&apos; or &apos;authenticated-read&apos;</p>
<pre><code class="lang-python">resp = cli.put_bucket_acl(
    ACL=<span class="hljs-string">&apos;public-read&apos;</span>,
    Bucket=<span class="hljs-string">&apos;test-bucket-xxx&apos;</span>,
)
</code></pre>
<h5 id="using-the-custom-acl">Using the custom ACL</h5>
<p>Permission includes&#xFF1A;&apos;FULL_CONTROL&apos;, &apos;WRITE&apos;, &apos;WRITE_ACP&apos;, &apos;READ&apos;, &apos;READ_ACP&apos;</p>
<pre><code class="lang-python">resp = cli.put_bucket_acl(
    AccessControlPolicy={
        <span class="hljs-string">&apos;Grants&apos;</span>: [
            {
                <span class="hljs-string">&apos;Grantee&apos;</span>: {
                    <span class="hljs-string">&apos;ID&apos;</span>: <span class="hljs-string">&apos;user_foo&apos;</span>, <span class="hljs-comment"># &#x8BF7;&#x66FF;&#x6362;&#x4E3A;&#x771F;&#x5B9E;&#x5B58;&#x5728;&#x7684;&#x7528;&#x6237;</span>
                    <span class="hljs-string">&apos;Type&apos;</span>: <span class="hljs-string">&apos;CanonicalUser&apos;</span>,
                },
                <span class="hljs-string">&apos;Permission&apos;</span>: <span class="hljs-string">&apos;WRITE&apos;</span>,
            },
            {
                <span class="hljs-string">&apos;Grantee&apos;</span>: {
                    <span class="hljs-string">&apos;ID&apos;</span>: <span class="hljs-string">&apos;your-user-name&apos;</span>,
                    <span class="hljs-string">&apos;Type&apos;</span>: <span class="hljs-string">&apos;CanonicalUser&apos;</span>,
                },
                <span class="hljs-string">&apos;Permission&apos;</span>: <span class="hljs-string">&apos;FULL_CONTROL&apos;</span>,
            },
        ],
        <span class="hljs-string">&apos;Owner&apos;</span>: {
            <span class="hljs-string">&apos;ID&apos;</span>: <span class="hljs-string">&apos;your-user-name&apos;</span>,
        },
    },
    Bucket=<span class="hljs-string">&apos;test-bucket-xxx&apos;</span>
)
</code></pre>
<h3 id="service-operation-api">Service operation API</h3>
<h4 id="list-all-buckets">List all buckets</h4>
<pre><code class="lang-python">resp = cli.list_buckets()
</code></pre>
<p>AWS Official SDK <a href="https://aws.amazon.com/sdk-for-python/" target="_blank">aws-sdk-python</a></p>
<p>API doc <a href="https://boto3.readthedocs.io/en/latest/reference/services/s3.html" target="_blank">api-reference</a></p>
<h2 id="php-demo">PHP Demo</h2>
<p>System Requirement: </p>
<ul>
<li>PHP&gt;=5.5.0</li>
</ul>
<h3 id="install-the-aws-sdk-for-php">Install the AWS SDK for PHP</h3>
<pre><code>curl -O http://docs.aws.amazon.com/aws-sdk-php/v3/download/aws.phar
</code></pre><p>Initialization &amp; Set the account information and the domain name</p>
<h2 id="request-syntax">Request Syntax</h2>
<pre><code class="lang-php"> <span class="hljs-keyword">require</span> <span class="hljs-string">&apos;aws.phar&apos;</span>;
 $cli = <span class="hljs-keyword">new</span> Aws\S3\S3Client([
     <span class="hljs-string">&apos;version&apos;</span> =&gt; <span class="hljs-string">&apos;latest&apos;</span>,
    <span class="hljs-string">&apos;region&apos;</span> =&gt; <span class="hljs-string">&apos;us-east-1&apos;</span>,
     <span class="hljs-string">&apos;credentials&apos;</span> =&gt; [
         <span class="hljs-string">&apos;key&apos;</span> =&gt; <span class="hljs-string">&apos;z2qutjf718d0i9gw6skc&apos;</span>,  <span class="hljs-comment">//Please fill in it with your own access\_key</span>
        <span class="hljs-string">&apos;secret&apos;</span> =&gt; <span class="hljs-string">&apos;SEQgcc1ppH7uXPG4ZPIcrCv2cWz8grcReMfFABCn&apos;</span>, <span class="hljs-comment">// Please fill in it with your own secret\_key</span>
    ],
    <span class="hljs-string">&apos;endpoint&apos;</span> =&gt; <span class="hljs-string">&apos;http://ss.bscstorage.com&apos;</span>,
]);
</code></pre>
<h3 id="file-operation-api">File Operation API</h3>
<h4 id="file-upload">File Upload</h4>
<p>The permitted values of ACL are &apos;private&apos;, &apos;public-read&apos;, &apos;public-read-write&apos;, and &apos;authenticated-read&apos;. 
If the file already exists in the storage, the developer could use &apos;Body&apos; to call it. 
If the file is on disk, the developer could use &apos;SourceFile&apos; to name the file. 
&apos;Body&apos; and &apos;SourceFile&apos; cannot be used simultaneously.</p>
<pre><code class="lang-php">$resp = $cli-&gt;putObject([
    <span class="hljs-string">&apos;ACL&apos;</span> =&gt; <span class="hljs-string">&apos;public-read&apos;</span>,
    <span class="hljs-string">&apos;Bucket&apos;</span> =&gt; <span class="hljs-string">&apos;test-bucket-xxx&apos;</span>,
    <span class="hljs-string">&apos;Key&apos;</span> =&gt; <span class="hljs-string">&apos;test-key-xxx&apos;</span>,
    <span class="hljs-string">&apos;ContentType&apos;</span> =&gt; <span class="hljs-string">&apos;image/jpeg&apos;</span>,  <span class="hljs-comment">//Please fill in it with the proper file type</span>
    <span class="hljs-string">&apos;Body&apos;</span> =&gt; <span class="hljs-string">&apos;file content as a string&apos;</span>,
    <span class="hljs-comment">//&apos;SourceFile&apos; =&gt; &apos;/root/test.jpg&apos;,</span>
]);
</code></pre>
<h4 id="file-download">File Download</h4>
<pre><code class="lang-php">$resp = $cli-&gt;getObject([
    <span class="hljs-string">&apos;Bucket&apos;</span> =&gt; <span class="hljs-string">&apos;test-bucket-xxx&apos;</span>,
    <span class="hljs-string">&apos;Key&apos;</span> =&gt; <span class="hljs-string">&apos;test-key-xxx&apos;</span>,
]);
</code></pre>
<h4 id="get-file-url">Get File URL</h4>
<p>Get the pre-signed URL to download the File, and the developer could set an expired time.</p>
<pre><code class="lang-php">
$cmd = $cli-&gt;getCommand(<span class="hljs-string">&apos;GetObject&apos;</span>, [
    <span class="hljs-string">&apos;Bucket&apos;</span> =&gt; <span class="hljs-string">&apos;test-bucket-xxx&apos;</span>,
    <span class="hljs-string">&apos;Key&apos;</span> =&gt; <span class="hljs-string">&apos;test-key-xxx&apos;</span>,
]);
$req = $cli-&gt;createPresignedRequest($cmd, <span class="hljs-string">&apos;+10 seconds&apos;</span>);
$url = (string) $req-&gt;getUri();
</code></pre>
<h4 id="file-delete">File Delete</h4>
<pre><code class="lang-php">$resp = $cli-&gt;deleteObject([
    <span class="hljs-string">&apos;Bucket&apos;</span> =&gt; <span class="hljs-string">&apos;test-bucket-xxx&apos;</span>,
    <span class="hljs-string">&apos;Key&apos;</span> =&gt; <span class="hljs-string">&apos;test-key-xxx&apos;</span>,
]);
</code></pre>
<h4 id="get-file-acl">Get File ACL</h4>
<pre><code class="lang-php">$resp = $cli-&gt;getObjectAcl([
    <span class="hljs-string">&apos;Bucket&apos;</span> =&gt; <span class="hljs-string">&apos;test-bucket-xxx&apos;</span>,
    <span class="hljs-string">&apos;Key&apos;</span> =&gt; <span class="hljs-string">&apos;test-key-xxx&apos;</span>,
]);
</code></pre>
<h4 id="set-file-acl">Set File ACL</h4>
<h5 id="using-the-pre-defined-acl">Using the pre-defined ACL</h5>
<p>The permitted values of ACL are private, public-read, public-read-write, and authentication-read.</p>
<pre><code class="lang-php">$resp = $cli-&gt;putObjectAcl([
    <span class="hljs-string">&apos;ACL&apos;</span> =&gt; <span class="hljs-string">&apos;public-read-write&apos;</span>,
    <span class="hljs-string">&apos;Bucket&apos;</span> =&gt; <span class="hljs-string">&apos;test-bucket-xxx&apos;</span>,
    <span class="hljs-string">&apos;Key&apos;</span> =&gt; <span class="hljs-string">&apos;test-key-xxx&apos;</span>,
]);
</code></pre>
<h5 id="using-the-custom-acl">Using the custom ACL</h5>
<p>The permitted values of Permission are &apos;FULL_CONTROL&apos;, &apos;WRITE&apos;, &apos;WRITE_ACP&apos;, &apos;READ&apos;, and &apos;READ_ACP&apos;</p>
<pre><code class="lang-php">$resp = $cli-&gt;putObjectAcl([
    <span class="hljs-string">&apos;AccessControlPolicy&apos;</span> =&gt; [
        <span class="hljs-string">&apos;Grants&apos;</span> =&gt; [
            [
                <span class="hljs-string">&apos;Grantee&apos;</span> =&gt; [
                    <span class="hljs-string">&apos;ID&apos;</span> =&gt; <span class="hljs-string">&apos;user_foo&apos;</span>, <span class="hljs-comment">//Please fill it with the existing user information.</span>
                    <span class="hljs-string">&apos;Type&apos;</span> =&gt; <span class="hljs-string">&apos;CanonicalUser&apos;</span>,
                ],
                <span class="hljs-string">&apos;Permission&apos;</span> =&gt; <span class="hljs-string">&apos;WRITE&apos;</span>,
            ],
            [
                <span class="hljs-string">&apos;Grantee&apos;</span> =&gt; [
                    <span class="hljs-string">&apos;ID&apos;</span> =&gt; <span class="hljs-string">&apos;your-user-name&apos;</span>,
                    <span class="hljs-string">&apos;Type&apos;</span> =&gt; <span class="hljs-string">&apos;CanonicalUser&apos;</span>,
                ],
                <span class="hljs-string">&apos;Permission&apos;</span> =&gt; <span class="hljs-string">&apos;FULL_CONTROL&apos;</span>,
            ],

        ],
        <span class="hljs-string">&apos;Owner&apos;</span> =&gt; [
            <span class="hljs-string">&apos;ID&apos;</span> =&gt; <span class="hljs-string">&apos;your-user-name&apos;</span>,
        ],
    ],
    <span class="hljs-string">&apos;Bucket&apos;</span> =&gt; <span class="hljs-string">&apos;test-bucket-xxx&apos;</span>,
    <span class="hljs-string">&apos;Key&apos;</span> =&gt; <span class="hljs-string">&apos;test-key-xxx&apos;</span>,
]);
</code></pre>
<h3 id="bucket-operation-api">Bucket operation API</h3>
<h4 id="bucket-create">Bucket Create</h4>
<p>The permitted values of ACL are &apos;private&apos;, &apos;public-read&apos;, &apos;public-read-write&apos;, and &apos;authentication-read&apos;.</p>
<pre><code class="lang-php">$resp = $cli-&gt;createBucket([
    <span class="hljs-string">&apos;Bucket&apos;</span> =&gt; <span class="hljs-string">&apos;test-bucket-xxx&apos;</span>,
    <span class="hljs-string">&apos;ACL&apos;</span> =&gt; <span class="hljs-string">&apos;public-read&apos;</span>,
]);
</code></pre>
<h4 id="list-all-the-files-contained-on-the-bucket-the-max-number-of-returning-files-at-the-same-time-is-1000">List all the files contained on the bucket. The max number of returning files at the same time is 1000</h4>
<pre><code class="lang-php">$resp = $cli-&gt;listObjects([
    <span class="hljs-string">&apos;Bucket&apos;</span> =&gt; <span class="hljs-string">&apos;test-bucket-xxx&apos;</span>,
    <span class="hljs-string">&apos;Prefix&apos;</span> =&gt; <span class="hljs-string">&apos;&apos;</span>,
    <span class="hljs-string">&apos;Marker&apos;</span> =&gt; <span class="hljs-string">&apos;&apos;</span>,
]);
</code></pre>
<h4 id="list-all-the-files-contained-on-the-bucket">List all the files contained on the bucket.</h4>
<pre><code class="lang-php">$marker = <span class="hljs-string">&apos;&apos;</span>;
<span class="hljs-keyword">while</span> (<span class="hljs-keyword">true</span>):
    $resp = $cli-&gt;listObjects([
    <span class="hljs-string">&apos;Bucket&apos;</span> =&gt; <span class="hljs-string">&apos;test-bucket-xxx&apos;</span>,
    <span class="hljs-string">&apos;Marker&apos;</span> =&gt; $marker,
    ]);

    <span class="hljs-keyword">if</span>($resp[<span class="hljs-string">&apos;Contents&apos;</span>] == <span class="hljs-keyword">NULL</span>)
    {
        <span class="hljs-keyword">break</span>;
    }
    <span class="hljs-keyword">foreach</span>($resp[<span class="hljs-string">&apos;Contents&apos;</span>] <span class="hljs-keyword">as</span> $content)
    {
        var_dump($content[<span class="hljs-string">&apos;Key&apos;</span>]);
        $marker = $content[<span class="hljs-string">&apos;Key&apos;</span>];
    }

<span class="hljs-keyword">endwhile</span>;
</code></pre>
<h4 id="bucket-delete">Bucket Delete</h4>
<pre><code class="lang-php">$resp = $cli-&gt;deleteBucket([
    <span class="hljs-string">&apos;Bucket&apos;</span> =&gt; <span class="hljs-string">&apos;test-bucket-xxx&apos;</span>,
]);
</code></pre>
<h4 id="get-bucket-acl">Get Bucket ACL</h4>
<pre><code class="lang-php">$resp = $cli-&gt;getBucketAcl([
    <span class="hljs-string">&apos;Bucket&apos;</span> =&gt; <span class="hljs-string">&apos;test-bucket-xxx&apos;</span>,
]);
</code></pre>
<h4 id="set-bucket-acl">Set Bucket ACL</h4>
<h5 id="using-the-pre-defined-acl">Using the pre-defined ACL</h5>
<p>The permitted values of ACL are &apos;private&apos;, &apos;public-read&apos;, &apos;public-read-write&apos;, and &apos;authentication-read&apos;.</p>
<pre><code class="lang-php">$resp = $cli-&gt;putBucketAcl([
    <span class="hljs-string">&apos;ACL&apos;</span> =&gt; <span class="hljs-string">&apos;public-read-write&apos;</span>,
    <span class="hljs-string">&apos;Bucket&apos;</span> =&gt; <span class="hljs-string">&apos;test-bucket-xxx&apos;</span>,
]);
</code></pre>
<h5 id="using-the-custom-acl">Using the custom ACL</h5>
<p>The permitted values of Permission are &apos;FULL_CONTROL&apos;, &apos;WRITE&apos;, &apos;WRITE_ACP&apos;, &apos;READ&apos;, and &apos;READ_ACP&apos;</p>
<pre><code class="lang-php">$resp = $cli-&gt;putBucketAcl([
    <span class="hljs-string">&apos;AccessControlPolicy&apos;</span> =&gt; [
    <span class="hljs-string">&apos;Grants&apos;</span> =&gt; [
            [
                <span class="hljs-string">&apos;Grantee&apos;</span> =&gt; [
                    <span class="hljs-string">&apos;ID&apos;</span> =&gt; <span class="hljs-string">&apos;user\_foo&apos;</span>, <span class="hljs-comment">// Please fill it with the existing user information.</span>
                    <span class="hljs-string">&apos;Type&apos;</span> =&gt; <span class="hljs-string">&apos;CanonicalUser&apos;</span>,
                ],
                <span class="hljs-string">&apos;Permission&apos;</span> =&gt; <span class="hljs-string">&apos;WRITE&apos;</span>,
            ],
            [
                <span class="hljs-string">&apos;Grantee&apos;</span> =&gt; [
                    <span class="hljs-string">&apos;ID&apos;</span> =&gt; <span class="hljs-string">&apos;your-user-name&apos;</span>,
                    <span class="hljs-string">&apos;Type&apos;</span> =&gt; <span class="hljs-string">&apos;CanonicalUser&apos;</span>,
                ],
                <span class="hljs-string">&apos;Permission&apos;</span> =&gt; <span class="hljs-string">&apos;FULL\_CONTROL&apos;</span>,
            ],

        ],
        <span class="hljs-string">&apos;Owner&apos;</span> =&gt; [
            <span class="hljs-string">&apos;ID&apos;</span> =&gt; <span class="hljs-string">&apos;your-user-name&apos;</span>,
        ],
    ],
    <span class="hljs-string">&apos;Bucket&apos;</span> =&gt; <span class="hljs-string">&apos;test-bucket-xxx&apos;</span>,
]);
</code></pre>
<h3 id="service-operation-api">Service Operation API</h3>
<h4 id="buckets-list-list-all-the-buckets-of-your-service">Buckets List (List all the Buckets of your service)</h4>
<pre><code class="lang-php">$resp = $cli-&gt;listBuckets([
]);
</code></pre>
<p>Note:
1.Official AWS SDK for PHP: <a href="https://aws.amazon.com/sdk-for-php/" target="_blank">aws-sdk-php</a> 
1.API documentation: <a href="http://docs.aws.amazon.com/aws-sdk-php/v3/api/class-Aws.S3.S3Client.html" target="_blank">api-reference</a></p>
<h2 id="python-demo">Python Demo</h2>
<h3 id="install-the-aws-python-client-&#x2013;-boto3">Install the AWS Python client &#x2013; boto3</h3>
<pre><code>pip install boto3
</code></pre><h3 id="initialization--account-and-domain-setup">Initialization &amp; account and domain setup</h3>
<pre><code class="lang-python">
<span class="hljs-keyword">import</span> boto3
<span class="hljs-keyword">from</span> boto3.s3.transfer <span class="hljs-keyword">import</span> TransferConfig

cli = boto3.client(
    <span class="hljs-string">&apos;s3&apos;</span>,
    aws_access_key_id=<span class="hljs-string">&apos;ziw5dp1alvty9n47qksu&apos;</span>, <span class="hljs-comment">#please replace with your access_key</span>
    aws_secret_access_key=<span class="hljs-string">&apos;V+ZTZ5u5wNvXb+KP5g0dMNzhMeWe372/yRKx4hZV&apos;</span>, <span class="hljs-comment">#please replace with your secret_key</span>
    endpoint_url=<span class="hljs-string">&apos;http://ss.bscstorage.com&apos;</span>
)
</code></pre>
<h3 id="file-operation-api">File operation API</h3>
<h4 id="file-upload">File Upload</h4>
<h5 id="using-the-putobject-interface">Using the put_object interface</h5>
<p>ACL can set as&#xFF1A;&apos;private&apos; or &apos;public-read&apos; or &apos;public-read-write&apos; or &apos;authenticated-read&apos;</p>
<pre><code class="lang-python">resp = cli.put_object(
    ACL=<span class="hljs-string">&apos;public-read&apos;</span>,
    Bucket=<span class="hljs-string">&apos;test-bucket-xxx&apos;</span>,
    Key=<span class="hljs-string">&apos;test-key-xxx&apos;</span>,
    ContentType=<span class="hljs-string">&apos;image/jpeg&apos;</span>, <span class="hljs-comment"># please replace with applicable content type</span>
    Body=<span class="hljs-string">&apos;the content of the file as a string&apos;</span>
)
</code></pre>
<h5 id="using-uploadfile-interface-it-suits-to-upload-the-large-file-it-supports-dividing-the-file-into-different-blocks-automatically-and-uploading-those-blocks-simultaneously">Using upload_file interface (It suits to upload the large File, it supports dividing the File into different blocks automatically and uploading those blocks simultaneously.)</h5>
<pre><code class="lang-python">config = TransferConfig(
    multipart_threshold=<span class="hljs-number">30</span> * <span class="hljs-number">1024</span> * <span class="hljs-number">1024</span>,
    multipart_chunksize=<span class="hljs-number">8</span> * <span class="hljs-number">1024</span> * <span class="hljs-number">1024</span>,
    max_concurrency=<span class="hljs-number">10</span>
)
resp = cli.upload_file(
    <span class="hljs-string">&apos;/root/test.mp4&apos;</span>,
    <span class="hljs-string">&apos;test-bucket-xxx&apos;</span>,
    <span class="hljs-string">&apos;test-key-xxx&apos;</span>,
    ExtraArgs={
        <span class="hljs-string">&apos;ContentType&apos;</span>: <span class="hljs-string">&apos;image/jpeg&apos;</span>, <span class="hljs-comment"># please replace with applicable content type</span>
        <span class="hljs-string">&apos;ACL&apos;</span>: <span class="hljs-string">&apos;private&apos;</span>,
    },
    Config=config
)
</code></pre>
<h4 id="file-copy">File Copy</h4>
<p>Copy all files in the source bucket prefixed with <code>aa</code> to the target bucket</p>
<pre><code class="lang-python">marker = <span class="hljs-string">&apos;&apos;</span>

<span class="hljs-keyword">while</span> <span class="hljs-keyword">True</span>:
    resp = s3.list_objects(
        Bucket=<span class="hljs-string">&apos;src-bucket&apos;</span>,
        Prefix=<span class="hljs-string">&apos;aa&apos;</span>,
        Marker=marker,
    )

    <span class="hljs-keyword">if</span> <span class="hljs-string">&apos;Contents&apos;</span> <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> resp:
        <span class="hljs-keyword">break</span>

    <span class="hljs-keyword">for</span> content <span class="hljs-keyword">in</span> resp[<span class="hljs-string">&apos;Contents&apos;</span>]:
        s3.copy_object(Bucket=<span class="hljs-string">&apos;dst-bucket&apos;</span>, Key=content[<span class="hljs-string">&apos;key&apos;</span>], CopySource=<span class="hljs-string">&apos;/%s/%s&apos;</span> % (<span class="hljs-string">&apos;src-bucket&apos;</span>, content[<span class="hljs-string">&apos;key&apos;</span>]))

    marker = resp[<span class="hljs-string">&apos;Contents&apos;</span>][<span class="hljs-number">-1</span>][<span class="hljs-string">&apos;Key&apos;</span>]
</code></pre>
<h4 id="file-download">File Download</h4>
<pre><code class="lang-python">resp = cli.get_object(
    Bucket=<span class="hljs-string">&apos;test-bucket-xxx&apos;</span>,
    Key=<span class="hljs-string">&apos;test-key-xxx&apos;</span>
)
</code></pre>
<h4 id="get-file-url">Get File URL</h4>
<p>&#x83B7;&#x53D6;&#x5DF2;&#x7B7E;&#x540D;&#x7684;URL&#x7528;&#x6765;&#x4E0B;&#x8F7D;&#x6587;&#x4EF6;&#xFF0C;&#x53EF;&#x901A;&#x8FC7;&#x53C2;&#x6570;ExpiresIn&#x8BBE;&#x7F6E;&#x7B7E;&#x540D;&#x8FC7;&#x671F;&#x65F6;&#x95F4;&#x3002;</p>
<pre><code class="lang-python">url = cli.generate_presigned_url(
    <span class="hljs-string">&apos;get_object&apos;</span>,
    Params={
        <span class="hljs-string">&apos;Bucket&apos;</span>: <span class="hljs-string">&apos;test-bucket-xxx&apos;</span>,
        <span class="hljs-string">&apos;Key&apos;</span>: <span class="hljs-string">&apos;test-key-xxx&apos;</span>
    },
    ExpiresIn=<span class="hljs-number">60</span>
)
<span class="hljs-keyword">print</span> url
</code></pre>
<h4 id="file-delete">File Delete</h4>
<pre><code class="lang-python">resp = cli.delete_object(
    Bucket=<span class="hljs-string">&apos;test-bucket-xxx&apos;</span>,
    Key=<span class="hljs-string">&apos;test-key-xxx&apos;</span>
)
</code></pre>
<h4 id="get-file-acl">Get File ACL</h4>
<pre><code class="lang-python">resp = cli.get_object_acl(
    Bucket=<span class="hljs-string">&apos;test-bucket-xxx&apos;</span>,
    Key=<span class="hljs-string">&apos;test-key-xxx&apos;</span>
)
</code></pre>
<h4 id="set-file-acl">Set File ACL</h4>
<h5 id="using-the-pre-defined-acl">Using the pre-defined ACL</h5>
<p>Support pre-defined ACL&#xFF1A;&apos;private&apos;, &apos;public-read&apos;, &apos;public-read-write&apos; &#x6216; &apos;authenticated-read&apos;</p>
<pre><code class="lang-python">resp = cli.put_object_acl(
    ACL=<span class="hljs-string">&apos;public-read&apos;</span>,
    Bucket=<span class="hljs-string">&apos;test-bucket-xxx&apos;</span>,
    Key=<span class="hljs-string">&apos;test-key-xxx&apos;</span>
)
</code></pre>
<h5 id="using-the-custom-acl">Using the custom ACL</h5>
<p>Permission includes&#xFF1A;&apos;FULL_CONTROL&apos;, &apos;WRITE&apos;, &apos;WRITE_ACP&apos;, &apos;READ&apos;, &apos;READ_ACP&apos;</p>
<pre><code class="lang-python">resp = cli.put_object_acl(
    AccessControlPolicy={
        <span class="hljs-string">&apos;Grants&apos;</span>: [
            {
                <span class="hljs-string">&apos;Grantee&apos;</span>: {
                    <span class="hljs-string">&apos;ID&apos;</span>: <span class="hljs-string">&apos;user_foo&apos;</span>, <span class="hljs-comment"># &#x8BF7;&#x66FF;&#x6362;&#x4E3A;&#x771F;&#x5B9E;&#x5B58;&#x5728;&#x7684;&#x7528;&#x6237;</span>
                    <span class="hljs-string">&apos;Type&apos;</span>: <span class="hljs-string">&apos;CanonicalUser&apos;</span>,
                },
                <span class="hljs-string">&apos;Permission&apos;</span>: <span class="hljs-string">&apos;WRITE&apos;</span>,
            },
            {
                <span class="hljs-string">&apos;Grantee&apos;</span>: {
                    <span class="hljs-string">&apos;ID&apos;</span>: <span class="hljs-string">&apos;your-user-name&apos;</span>,
                    <span class="hljs-string">&apos;Type&apos;</span>: <span class="hljs-string">&apos;CanonicalUser&apos;</span>,
                },
                <span class="hljs-string">&apos;Permission&apos;</span>: <span class="hljs-string">&apos;FULL_CONTROL&apos;</span>,
            },
        ],
        <span class="hljs-string">&apos;Owner&apos;</span>: {
            <span class="hljs-string">&apos;ID&apos;</span>: <span class="hljs-string">&apos;your-user-name&apos;</span>,
        },
    },
    Bucket=<span class="hljs-string">&apos;test-bucket-xxx&apos;</span>,
    Key=<span class="hljs-string">&apos;test-key-xxx&apos;</span>
)
</code></pre>
<h3 id="bucket-operation-api">Bucket operation API</h3>
<h4 id="bucket-create">Bucket Create</h4>
<p>ACL can be set as&#xFF1A;&apos;private&apos; or &apos;public-read&apos; or &apos;public-read-write&apos; or &apos;authenticated-read&apos;</p>
<pre><code class="lang-python">resp = cli.create_bucket(
    ACL=<span class="hljs-string">&apos;public-read&apos;</span>,
    Bucket=<span class="hljs-string">&apos;test-bucket-xxx&apos;</span>
)
</code></pre>
<h4 id="list-bucket-file-list-all-the-files-contained-on-the-bucket-the-max-number-of-returning-files-each-time-is-1000">List Bucket File (List all the files contained on the bucket. The max number of returning files each time is 1000)</h4>
<pre><code class="lang-python">resp = cli.list_objects(
    Bucket=<span class="hljs-string">&apos;test-bucket-xxx&apos;</span>,
    Prefix=<span class="hljs-string">&apos;&apos;</span>,
    Marker=<span class="hljs-string">&apos;&apos;</span>,
)
</code></pre>
<h4 id="list-all-the-files-contained-in-the-bucket">List all the files contained in the bucket</h4>
<pre><code class="lang-python">marker = <span class="hljs-string">&apos;&apos;</span>

<span class="hljs-keyword">while</span> <span class="hljs-keyword">True</span>:
    resp = s3.list_objects(
        Bucket=<span class="hljs-string">&apos;test-bucket-xxx&apos;</span>,
        Marker=marker,
    )

    <span class="hljs-keyword">if</span> <span class="hljs-string">&apos;Contents&apos;</span> <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> resp:
        <span class="hljs-keyword">break</span>

    <span class="hljs-keyword">for</span> content <span class="hljs-keyword">in</span> resp[<span class="hljs-string">&apos;Contents&apos;</span>]:
        <span class="hljs-keyword">print</span> <span class="hljs-string">&apos;key: %s, size: %d&apos;</span> % (content[<span class="hljs-string">&apos;Key&apos;</span>], content[<span class="hljs-string">&apos;Size&apos;</span>])

    marker = resp[<span class="hljs-string">&apos;Contents&apos;</span>][<span class="hljs-number">-1</span>][<span class="hljs-string">&apos;Key&apos;</span>]
</code></pre>
<h4 id="bucket-delete">Bucket Delete</h4>
<pre><code class="lang-python">resp = cli.delete_bucket(
    Bucket=<span class="hljs-string">&apos;test-bucket-xxx&apos;</span>
)
</code></pre>
<h4 id="get-bucket-acl">Get Bucket ACL</h4>
<pre><code class="lang-python">resp = cli.get_bucket_acl(
    Bucket=<span class="hljs-string">&apos;test-bucket-xxx&apos;</span>
)
</code></pre>
<h4 id="set-bucket-acl">Set Bucket ACL</h4>
<h5 id="using-the-pre-defined-acl">Using the pre-defined ACL</h5>
<p>Support pre-defined ACL&#xFF1A;&apos;private&apos;, &apos;public-read&apos;, &apos;public-read-write&apos; or &apos;authenticated-read&apos;</p>
<pre><code class="lang-python">resp = cli.put_bucket_acl(
    ACL=<span class="hljs-string">&apos;public-read&apos;</span>,
    Bucket=<span class="hljs-string">&apos;test-bucket-xxx&apos;</span>,
)
</code></pre>
<h5 id="using-the-custom-acl">Using the custom ACL</h5>
<p>Permission includes&#xFF1A;&apos;FULL_CONTROL&apos;, &apos;WRITE&apos;, &apos;WRITE_ACP&apos;, &apos;READ&apos;, &apos;READ_ACP&apos;</p>
<pre><code class="lang-python">resp = cli.put_bucket_acl(
    AccessControlPolicy={
        <span class="hljs-string">&apos;Grants&apos;</span>: [
            {
                <span class="hljs-string">&apos;Grantee&apos;</span>: {
                    <span class="hljs-string">&apos;ID&apos;</span>: <span class="hljs-string">&apos;user_foo&apos;</span>, <span class="hljs-comment"># &#x8BF7;&#x66FF;&#x6362;&#x4E3A;&#x771F;&#x5B9E;&#x5B58;&#x5728;&#x7684;&#x7528;&#x6237;</span>
                    <span class="hljs-string">&apos;Type&apos;</span>: <span class="hljs-string">&apos;CanonicalUser&apos;</span>,
                },
                <span class="hljs-string">&apos;Permission&apos;</span>: <span class="hljs-string">&apos;WRITE&apos;</span>,
            },
            {
                <span class="hljs-string">&apos;Grantee&apos;</span>: {
                    <span class="hljs-string">&apos;ID&apos;</span>: <span class="hljs-string">&apos;your-user-name&apos;</span>,
                    <span class="hljs-string">&apos;Type&apos;</span>: <span class="hljs-string">&apos;CanonicalUser&apos;</span>,
                },
                <span class="hljs-string">&apos;Permission&apos;</span>: <span class="hljs-string">&apos;FULL_CONTROL&apos;</span>,
            },
        ],
        <span class="hljs-string">&apos;Owner&apos;</span>: {
            <span class="hljs-string">&apos;ID&apos;</span>: <span class="hljs-string">&apos;your-user-name&apos;</span>,
        },
    },
    Bucket=<span class="hljs-string">&apos;test-bucket-xxx&apos;</span>
)
</code></pre>
<h3 id="service-operation-api">Service operation API</h3>
<h4 id="list-all-buckets">List all buckets</h4>
<pre><code class="lang-python">resp = cli.list_buckets()
</code></pre>
<p>AWS Official SDK <a href="https://aws.amazon.com/sdk-for-python/" target="_blank">aws-sdk-python</a></p>
<p>API doc <a href="https://boto3.readthedocs.io/en/latest/reference/services/s3.html" target="_blank">api-reference</a></p>
<h2 id="javascript--demo">JavaScript  Demo</h2>
<pre><code class="lang-html">
<span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span>
<span class="hljs-comment">&lt;!--Upload the data in the input text box as a file, list the files that have been uploaded, example of downloading a file--&gt;</span>
<span class="hljs-comment">&lt;!--It is not recommended to put the account information into the browser-side code--&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">textarea</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;data&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">textarea</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;upload-button&quot;</span>&gt;</span>Upload to S3<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;results&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&apos;https://sdk.amazonaws.com/js/aws-sdk-2.5.0.min.js&apos;</span>&gt;</span><span class="undefined"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/javascript&quot;</span>&gt;</span><span class="actionscript">
    AWS.config.update({
        accessKeyId: <span class="hljs-string">&apos;ziw5dp1alvty9n47qksu&apos;</span>,    &lt;!--Please replce <span class="hljs-keyword">with</span> your own access key--&gt;
        secretAccessKey: <span class="hljs-string">&apos;V+ZTZ5u5wNvXb+KP5g0dMNzhMeWe372/yRKx4hZV&apos;</span>    &lt;!--Please replace <span class="hljs-keyword">with</span> your own secret key--&gt;
    });
    AWS.config.region = <span class="hljs-string">&apos;us-west-1&apos;</span>;
    AWS.config.endpoint = <span class="hljs-string">&apos;http://ss.bscstorage.com&apos;</span>;
    AWS.config.s3ForcePathStyle = <span class="hljs-literal">true</span>

    <span class="hljs-keyword">var</span> bucket_name = <span class="hljs-string">&apos;test-bucket&apos;</span>    &lt;!--Please replace <span class="hljs-keyword">with</span> your own bucket name--&gt;

    <span class="hljs-keyword">var</span> s3 = <span class="hljs-keyword">new</span> AWS.S3({
        params: {
            Bucket: bucket_name
        }
    });

    <span class="hljs-keyword">var</span> textarea = document.getElementById(<span class="hljs-string">&apos;data&apos;</span>);
    <span class="hljs-keyword">var</span> button = document.getElementById(<span class="hljs-string">&apos;upload-button&apos;</span>);
    <span class="hljs-keyword">var</span> results = document.getElementById(<span class="hljs-string">&apos;results&apos;</span>);

    button.addEventListener(<span class="hljs-string">&apos;click&apos;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
        results.innerHTML = <span class="hljs-string">&apos;&apos;</span>;

        <span class="hljs-keyword">var</span> params = {
            Key: <span class="hljs-string">&apos;data.txt&apos;</span>,
            Body: textarea.value
        };
        s3.upload(params, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(err, data)</span> </span>{
            results.innerHTML = err ? <span class="hljs-string">&apos;ERROR!&apos;</span> : <span class="hljs-string">&apos;SAVED.&apos;</span>;

            s3.listObjects({
                Bucket: bucket_name
            }, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(err, data)</span> </span>{
                <span class="hljs-keyword">if</span> (err) {
                    console.log(err);
                } <span class="hljs-keyword">else</span> {
                    console.log(data);
                }

            });
            s3.getObject({
                Bucket: bucket_name,
                Key: <span class="hljs-string">&apos;data.txt&apos;</span>
            }, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(err, data)</span> </span>{
                <span class="hljs-keyword">if</span> (err) {
                    console.log(err);
                } <span class="hljs-keyword">else</span> {
                    console.log(data);
                }
            });

        });

    }, <span class="hljs-literal">false</span>);
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
</code></pre>
<pre><code class="lang-html">
<span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span>
<span class="hljs-comment">&lt;!--Example of uploading a user&apos;s local file and generating the URL of the file--&gt;</span>
<span class="hljs-comment">&lt;!--It is not recommended to put the account information into the browser-side code--&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;file&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;file-chooser&quot;</span> /&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;upload-button&quot;</span>&gt;</span>Upload to S3<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;results&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;signed_url&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&apos;https://sdk.amazonaws.com/js/aws-sdk-2.5.0.min.js&apos;</span>&gt;</span><span class="undefined"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/javascript&quot;</span>&gt;</span><span class="javascript">

  &lt;!--Please replce <span class="hljs-keyword">with</span> your own access key and secret key--&gt;
  AWS.config.update({accessKeyId: <span class="hljs-string">&apos;ziw5dp1alvty9n47qksu&apos;</span>, secretAccessKey: <span class="hljs-string">&apos;V+ZTZ5u5wNvXb+KP5g0dMNzhMeWe372/yRKx4hZV&apos;</span>});
  AWS.config.region = <span class="hljs-string">&apos;us-west-1&apos;</span>;
  AWS.config.endpoint = <span class="hljs-string">&apos;http://ss.bscstorage.com&apos;</span>;
  AWS.config.s3ForcePathStyle = <span class="hljs-literal">true</span>

  <span class="hljs-keyword">var</span> bucket_name = <span class="hljs-string">&apos;test-bucket&apos;</span>    &lt;!--Please replace <span class="hljs-keyword">with</span> your own bucket name--&gt;

  <span class="hljs-keyword">var</span> s3 = <span class="hljs-keyword">new</span> AWS.S3({params: {Bucket: bucket_name}});

  <span class="hljs-keyword">var</span> fileChooser = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">&apos;file-chooser&apos;</span>);
  <span class="hljs-keyword">var</span> button = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">&apos;upload-button&apos;</span>);
  <span class="hljs-keyword">var</span> results = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">&apos;results&apos;</span>);
  <span class="hljs-keyword">var</span> signed_url = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">&apos;signed_url&apos;</span>)

  button.addEventListener(<span class="hljs-string">&apos;click&apos;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> file = fileChooser.files[<span class="hljs-number">0</span>];
    <span class="hljs-keyword">if</span> (file) {
      results.innerHTML = <span class="hljs-string">&apos;&apos;</span>;
      signed_url.innerHTML = <span class="hljs-string">&apos;&apos;</span>;

      <span class="hljs-keyword">var</span> params = {Key: file.name, ContentType: file.type, Body: file};
      s3.upload(params, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">err, data</span>) </span>{
        <span class="hljs-keyword">var</span> params_get = { Bucket: bucket_name, Key: file.name, Expires: <span class="hljs-number">60</span> };
        <span class="hljs-keyword">var</span> url = s3.getSignedUrl(<span class="hljs-string">&apos;getObject&apos;</span>, params_get, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">err, url</span>) </span>{
            signed_url.innerHTML = err ? <span class="hljs-string">&apos;ERROR!&apos;</span> : <span class="hljs-string">&apos;retrive the file use this signed url: &apos;</span> + url;
            });
        results.innerHTML = err ? <span class="hljs-string">&apos;ERROR!&apos;</span> : <span class="hljs-string">&apos;UPLOADED.&apos;</span>;
      });
    } <span class="hljs-keyword">else</span> {
      results.innerHTML = <span class="hljs-string">&apos;Nothing to upload.&apos;</span>;
    }
  }, <span class="hljs-literal">false</span>);
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
</code></pre>
<p>AWS Official SDK <a href="https://aws.amazon.com/sdk-for-browser/" target="_blank">aws-sdk-browser</a></p>
<h2 id="nodejs-demo">Node.js Demo</h2>
<h3 id="install-the-aws-sdk-for-javascript-in-nodejs">Install the AWS SDK for JavaScript in Node.js</h3>
<pre><code>npm install aws-sdk
</code></pre><h3 id="initialization--set-the-account-information-and-the-domain-name">Initialization &amp; Set the account information and the domain name</h3>
<pre><code class="lang-javascript">
<span class="hljs-keyword">var</span> AWS = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;aws-sdk&apos;</span>);
<span class="hljs-keyword">var</span> fs = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;fs&apos;</span>);

AWS.config.accessKeyId = <span class="hljs-string">&apos;ziw5dp1alvty9n47qksu&apos;</span>; <span class="hljs-comment">// Please change the example value to your access_key</span>
AWS.config.secretAccessKey = <span class="hljs-string">&apos;V+ZTZ5u5wNvXb+KP5g0dMNzhMeWe372/yRKx4hZV&apos;</span>; <span class="hljs-comment">// Please change the example value to your secret_key</span>
AWS.config.region = <span class="hljs-string">&apos;us-west-1&apos;</span>;
AWS.config.endpoint = <span class="hljs-string">&apos;http://ss.bscstorage.com&apos;</span>;
AWS.config.s3ForcePathStyle = <span class="hljs-literal">true</span>

<span class="hljs-keyword">var</span> s3 = <span class="hljs-keyword">new</span> AWS.S3();
</code></pre>
<h3 id="file-operation-api">File Operation API</h3>
<h4 id="file-upload">File Upload</h4>
<h5 id="using-putobject-api-to-upload-the-file">Using &#x2018;putObject&#x2019; API to upload the File</h5>
<p>The permitted values of ACL are private, public-read, public-read-write, and authenticated-read. </p>
<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> params = {
    Bucket: <span class="hljs-string">&apos;test-bucket-xxx&apos;</span>,
    Key: <span class="hljs-string">&apos;test-key-xxx&apos;</span>,
    ACL: <span class="hljs-string">&apos;public-read&apos;</span>,
    Body: <span class="hljs-keyword">new</span> Buffer(<span class="hljs-string">&apos;blablabla&apos;</span>)
};
s3.putObject(params, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">err, data</span>) </span>{
    <span class="hljs-keyword">if</span> (err) <span class="hljs-built_in">console</span>.log(err, err.stack);
    <span class="hljs-keyword">else</span> <span class="hljs-built_in">console</span>.log(data);
});
</code></pre>
<h5 id="using-the-upload-interface-it-suits-to-upload-the-large-file-it-supports-dividing-the-file-into-different-blocks-automatically-and-uploading-those-blocks-simultaneously">Using the &apos;upload&apos; interface (It suits to upload the large File, it supports dividing the File into different blocks automatically and uploading those blocks simultaneously.)</h5>
<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> file_stream = fs.createReadStream(<span class="hljs-string">&apos;/root/test.mp4&apos;</span>)
<span class="hljs-keyword">var</span> params = {
    Bucket: <span class="hljs-string">&apos;test-bucket-xxx&apos;</span>,
    Key: <span class="hljs-string">&apos;test-key-xxx&apos;</span>,
    Body: file_stream,
    ACL: <span class="hljs-string">&apos;public-read&apos;</span>
}
<span class="hljs-keyword">var</span> options = {partSize: <span class="hljs-number">10</span> * <span class="hljs-number">1024</span> * <span class="hljs-number">1024</span>, queueSize: <span class="hljs-number">10</span>}
s3.upload(params, options, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">err, data</span>) </span>{
    <span class="hljs-keyword">if</span> (err) <span class="hljs-built_in">console</span>.log(err, err.stack);
    <span class="hljs-keyword">else</span> <span class="hljs-built_in">console</span>.log(data);
});
</code></pre>
<h4 id="file-download">File Download</h4>
<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> params = {
    Bucket: <span class="hljs-string">&apos;test-bucket-xxx&apos;</span>,
    Key: <span class="hljs-string">&apos;test-key-xxx&apos;</span>
};
s3.getObject(params, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">err, data</span>) </span>{
    <span class="hljs-keyword">if</span> (err) <span class="hljs-built_in">console</span>.log(err, err.stack);
    <span class="hljs-keyword">else</span> <span class="hljs-built_in">console</span>.log(data);
});
</code></pre>
<h4 id="get-file-url">Get File URL</h4>
<p>Get the pre-signed URL to download the File, and the developer could set an expired time.</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> params = {
    Bucket: <span class="hljs-string">&apos;test-bucket-xxx&apos;</span>,
    Key: <span class="hljs-string">&apos;test-key-xxx&apos;</span>,
    Expires: <span class="hljs-number">60</span>
};
<span class="hljs-keyword">var</span> url = s3.getSignedUrl(<span class="hljs-string">&apos;getObject&apos;</span>, params);
<span class="hljs-built_in">console</span>.log(<span class="hljs-string">&apos;The URL is&apos;</span>, url);
</code></pre>
<h4 id="file-delete">File Delete</h4>
<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> params = {
    Bucket: <span class="hljs-string">&apos;test-bucket-xxx&apos;</span>,
    Key: <span class="hljs-string">&apos;test-key-xxx&apos;</span>
};
s3.deleteObject(params, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">err, data</span>) </span>{
    <span class="hljs-keyword">if</span> (err) <span class="hljs-built_in">console</span>.log(err, err.stack);
    <span class="hljs-keyword">else</span> <span class="hljs-built_in">console</span>.log(data);
});
</code></pre>
<h4 id="get-file-acl">Get File ACL</h4>
<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> params = {
    Bucket: <span class="hljs-string">&apos;test-bucket-xxx&apos;</span>,
    Key: <span class="hljs-string">&apos;test-key-xxx&apos;</span>
};
s3.getObjectAcl(params, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">err, data</span>) </span>{
    <span class="hljs-keyword">if</span> (err) <span class="hljs-built_in">console</span>.log(err, err.stack);
    <span class="hljs-keyword">else</span> <span class="hljs-built_in">console</span>.log(data);
});
</code></pre>
<h4 id="set-file-acl">Set File ACL</h4>
<h5 id="using-pre-defined-acl">Using pre-defined ACL</h5>
<p>The permitted values of ACL are private, public-read, public-read-write, and authentication-read</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> params = {
    Bucket: <span class="hljs-string">&apos;test-bucket-xxx&apos;</span>,
    Key: <span class="hljs-string">&apos;test-key-xxx&apos;</span>,
    ACL: <span class="hljs-string">&apos;public-read&apos;</span>
};
s3.putObjectAcl(params, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">err, data</span>) </span>{
    <span class="hljs-keyword">if</span> (err) <span class="hljs-built_in">console</span>.log(err, err.stack);
    <span class="hljs-keyword">else</span> <span class="hljs-built_in">console</span>.log(data);
});
</code></pre>
<h5 id="using-custom-acl">Using custom ACL</h5>
<p>The permitted values of Permission are FULL_CONTROL, WRITE, WRITE_ACP, READ, and READ_ACP</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> params = {
    Bucket: <span class="hljs-string">&apos;test-bucket-xxx&apos;</span>,
    Key: <span class="hljs-string">&apos;test-key-xxx&apos;</span>,
    AccessControlPolicy: {
        Grants: [
            {
                Grantee: {
                    Type: <span class="hljs-string">&apos;CanonicalUser&apos;</span>,
                    ID: <span class="hljs-string">&apos;user-foo&apos;</span>
                },
                Permission: <span class="hljs-string">&apos;WRITE&apos;</span>
            },
            {
                Grantee: {
                    Type: <span class="hljs-string">&apos;CanonicalUser&apos;</span>,
                    ID: <span class="hljs-string">&apos;your-user-name&apos;</span>
                },
                Permission: <span class="hljs-string">&apos;FULL_CONTROL&apos;</span>
            },
        ],
        Owner: {
            ID: <span class="hljs-string">&apos;your-user-name&apos;</span>
        }
    }
};
s3.putObjectAcl(params, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">err, data</span>) </span>{
    <span class="hljs-keyword">if</span> (err) <span class="hljs-built_in">console</span>.log(err, err.stack);
    <span class="hljs-keyword">else</span> <span class="hljs-built_in">console</span>.log(data);
});
</code></pre>
<h3 id="bucket-operation-api">Bucket Operation API</h3>
<h4 id="bucket-create">Bucket Create</h4>
<p>The permitted values of ACL are private, public-read, public-read-write, and authentication-read</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> params = {
    Bucket: <span class="hljs-string">&apos;test-bucket-xxx&apos;</span>,
    ACL: <span class="hljs-string">&apos;public-read&apos;</span>
};
s3.createBucket(params, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">err, data</span>) </span>{
    <span class="hljs-keyword">if</span> (err) <span class="hljs-built_in">console</span>.log(err, err.stack);
    <span class="hljs-keyword">else</span> <span class="hljs-built_in">console</span>.log(data);
});
</code></pre>
<h4 id="list-all-the-files-contained-on-the-bucket">List all the files contained on the bucket.</h4>
<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> params = {
    Bucket: <span class="hljs-string">&apos;test-bucket-xxx&apos;</span>,
};
s3.listObjects(params, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">err, data</span>) </span>{
    <span class="hljs-keyword">if</span> (err) <span class="hljs-built_in">console</span>.log(err, err.stack);
    <span class="hljs-keyword">else</span> <span class="hljs-built_in">console</span>.log(data);
});
</code></pre>
<h4 id="bucket-delete">Bucket Delete</h4>
<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> params = {
    Bucket: <span class="hljs-string">&apos;test-bucket-xxx&apos;</span>,
};
s3.deleteBucket(params, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">err, data</span>) </span>{
    <span class="hljs-keyword">if</span> (err) <span class="hljs-built_in">console</span>.log(err, err.stack);
    <span class="hljs-keyword">else</span> <span class="hljs-built_in">console</span>.log(data);
});
</code></pre>
<h4 id="get-bucket-acl">Get Bucket ACL</h4>
<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> params = {
    Bucket: <span class="hljs-string">&apos;test-bucket-xxx&apos;</span>,
};
s3.getBucketAcl(params, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">err, data</span>) </span>{
    <span class="hljs-keyword">if</span> (err) <span class="hljs-built_in">console</span>.log(err, err.stack);
    <span class="hljs-keyword">else</span> <span class="hljs-built_in">console</span>.log(data);
});
</code></pre>
<h4 id="set-bucket-acl">Set Bucket ACL</h4>
<h5 id="using-pre-defined-acl">Using pre-defined ACL</h5>
<p>The permitted values of ACL are private, public-read, public-read-write, and authentication-read.</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> params = {
    Bucket: <span class="hljs-string">&apos;test-bucket-xxx&apos;</span>,
    ACL: <span class="hljs-string">&apos;public-read&apos;</span>
};
s3.putBucketAcl(params, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">err, data</span>) </span>{
    <span class="hljs-keyword">if</span> (err) <span class="hljs-built_in">console</span>.log(err, err.stack);
    <span class="hljs-keyword">else</span> <span class="hljs-built_in">console</span>.log(data);
});
</code></pre>
<h5 id="using-custom-acl">Using custom ACL</h5>
<p>The permitted values of Permission are FULL_CONTROL, WRITE, WRITE_ACP, READ, and READ_ACP</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> params = {
    Bucket: <span class="hljs-string">&apos;test-bucket-xxx&apos;</span>,
    AccessControlPolicy: {
        Grants: [
            {
                Grantee: {
                    Type: <span class="hljs-string">&apos;CanonicalUser&apos;</span>,
                    ID: <span class="hljs-string">&apos;user-foo&apos;</span>
                },
                Permission: <span class="hljs-string">&apos;WRITE&apos;</span>
            },
            {
                Grantee: {
                    Type: <span class="hljs-string">&apos;CanonicalUser&apos;</span>,
                    ID: <span class="hljs-string">&apos;your-user-name&apos;</span>
                },
                Permission: <span class="hljs-string">&apos;FULL_CONTROL&apos;</span>
            },
        ],
        Owner: {
            ID: <span class="hljs-string">&apos;your-user-name&apos;</span>
        }
    }
};
s3.putBucketAcl(params, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">err, data</span>) </span>{
    <span class="hljs-keyword">if</span> (err) <span class="hljs-built_in">console</span>.log(err, err.stack);
    <span class="hljs-keyword">else</span> <span class="hljs-built_in">console</span>.log(data);
});
</code></pre>
<h3 id="service-operation-api">Service Operation API</h3>
<h4 id="buckets-list-list-all-the-buckets-of-your-service">Buckets List (List all the Buckets of your service)</h4>
<pre><code class="lang-javascript">s3.listBuckets(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">err, data</span>) </span>{
    <span class="hljs-keyword">if</span> (err) <span class="hljs-built_in">console</span>.log(err, err.stack);
    <span class="hljs-keyword">else</span> <span class="hljs-built_in">console</span>.log(data);
});
</code></pre>
<p>The link of the official AWS SDK for Node.js: <a href="https://aws.amazon.com/sdk-for-node-js/" target="_blank">aws-sdk-node.js</a></p>
<p>The link of API documentation: <a href="http://docs.aws.amazon.com/AWSJavaScriptSDK/latest/AWS/S3.html" target="_blank">api-reference</a></p>
<h2 id="java-demo">Java Demo</h2>
<h3 id="install-aws-java-sdk">Install AWS Java SDK</h3>
<p>Using the maven and add the bellowing to the pom.xml</p>
<pre><code>&lt;dependencyManagement&gt;
    &lt;dependencies&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;
            &lt;artifactId&gt;aws-java-sdk-bom&lt;/artifactId&gt;
            &lt;version&gt;1.12.95&lt;/version&gt;
            &lt;type&gt;pom&lt;/type&gt;
            &lt;scope&gt;import&lt;/scope&gt;
        &lt;/dependency&gt;
    &lt;/dependencies&gt;
&lt;/dependencyManagement&gt;

&lt;dependencies&gt;
    &lt;dependency&gt;
        &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;
        &lt;artifactId&gt;aws-java-sdk-s3&lt;/artifactId&gt;
    &lt;/dependency&gt;
&lt;/dependencies&gt;
</code></pre><h3 id="initialization--set-the-account-information-and-the-domain-name">Initialization &amp; Set the account information and the domain name</h3>
<pre><code class="lang-java"><span class="hljs-keyword">package</span> com.baishancloud.sdk_test;

<span class="hljs-keyword">import</span> java.io.*;
<span class="hljs-keyword">import</span> java.util.ArrayList;
<span class="hljs-keyword">import</span> java.util.List;
<span class="hljs-keyword">import</span> com.google.gson.*;
<span class="hljs-keyword">import</span> com.amazonaws.auth.BasicAWSCredentials;
<span class="hljs-keyword">import</span> com.amazonaws.services.s3.AmazonS3;
<span class="hljs-keyword">import</span> com.amazonaws.services.s3.AmazonS3Client;
<span class="hljs-keyword">import</span> com.amazonaws.regions.Region;
<span class="hljs-keyword">import</span> com.amazonaws.regions.Regions;
<span class="hljs-keyword">import</span> com.amazonaws.services.s3.S3ClientOptions;
<span class="hljs-keyword">import</span> com.amazonaws.services.s3.model.*;
<span class="hljs-keyword">import</span> com.amazonaws.ClientConfiguration;

<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">App</span>
</span>{
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> String endPoint = <span class="hljs-string">&quot;http://ss.bscstorage.com&quot;</span>;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> String accessKey = <span class="hljs-string">&quot;ziw5dp1alvty9n47qksu&quot;</span>; <span class="hljs-comment">// please replace with your access_key</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> String secretKey = <span class="hljs-string">&quot;V+ZTZ5u5wNvXb+KP5g0dMNzhMeWe372/yRKx4hZV&quot;</span>; <span class="hljs-comment">// please replace with your secret_key</span>

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">( String[] args )</span>
    </span>{
        BasicAWSCredentials awsCreds = <span class="hljs-keyword">new</span> BasicAWSCredentials(
                accessKey, secretKey);

        ClientConfiguration clientconfiguration = <span class="hljs-keyword">new</span> ClientConfiguration();
        clientconfiguration.setSocketTimeout(<span class="hljs-number">60</span> * <span class="hljs-number">60</span> * <span class="hljs-number">1000</span>); <span class="hljs-comment">// in milliseconds</span>
        clientconfiguration.setConnectionTimeout(<span class="hljs-number">60</span> * <span class="hljs-number">60</span> * <span class="hljs-number">1000</span>); <span class="hljs-comment">// in milliseconds</span>

        AmazonS3 s3 = <span class="hljs-keyword">new</span> AmazonS3Client(awsCreds, clientconfiguration);

        s3.setRegion(Region.getRegion(Regions.US_EAST_1));
        s3.setEndpoint(endPoint);
        s3.setS3ClientOptions(S3ClientOptions.builder().setPathStyleAccess(<span class="hljs-keyword">true</span>)
                .disableChunkedEncoding().build());
    }
}
</code></pre>
<h3 id="file-operation-api">File Operation API</h3>
<h4 id="file-upload">File Upload</h4>
<pre><code class="lang-java">String file_content = <span class="hljs-string">&quot;bla bla&quot;</span>;
InputStream inputStream = <span class="hljs-keyword">new</span> ByteArrayInputStream(file_content.getBytes());

ObjectMetadata objectMetadata = <span class="hljs-keyword">new</span> ObjectMetadata();
objectMetadata.setContentType(<span class="hljs-string">&quot;image/jpeg&quot;</span>); 
objectMetadata.addUserMetadata(<span class="hljs-string">&quot;key-foo&quot;</span>, <span class="hljs-string">&quot;value_bar&quot;</span>);

PutObjectRequest putObjectrequest = <span class="hljs-keyword">new</span> PutObjectRequest(
        <span class="hljs-string">&quot;test-bucket&quot;</span>, <span class="hljs-string">&quot;test-key&quot;</span>, inputStream, objectMetadata);


putObjectrequest.setCannedAcl(CannedAccessControlList.PublicReadWrite);

<span class="hljs-comment">//AccessControlList accessControlList = new AccessControlList();</span>
<span class="hljs-comment">//accessControlList.setOwner(new Owner(&quot;your_user_id&quot;, &quot;&quot;));</span>
<span class="hljs-comment">//accessControlList.grantPermission(GroupGrantee.AllUsers, Permission.Read);</span>
<span class="hljs-comment">//accessControlList.grantPermission(GroupGrantee.AllUsers, Permission.ReadAcp);</span>
<span class="hljs-comment">//accessControlList.grantPermission(GroupGrantee.AuthenticatedUsers, Permission.Write);</span>
<span class="hljs-comment">//putObjectrequest.setAccessControlList(accessControlList);</span>

PutObjectResult putObjectResult = s3.putObject(putObjectrequest);
</code></pre>
<h4 id="file-copy">File Copy</h4>
<pre><code class="lang-java">CopyObjectResult res = s3.copyObject(<span class="hljs-string">&quot;srcBucketName&quot;</span>, <span class="hljs-string">&quot;srcKey&quot;</span>, <span class="hljs-string">&quot;dstBucketName&quot;</span>, <span class="hljs-string">&quot;dstKey&quot;</span>);
</code></pre>
<h4 id="file-download">File Download</h4>
<pre><code class="lang-java">GetObjectRequest getObjectRequest = <span class="hljs-keyword">new</span> GetObjectRequest(<span class="hljs-string">&quot;test-bucket&quot;</span>, <span class="hljs-string">&quot;test-key&quot;</span>);
S3Object s3Object = s3.getObject(getObjectRequest);

System.out.println(s3Object.getObjectMetadata().getUserMetadata().get(<span class="hljs-string">&quot;key-foo&quot;</span>));
<span class="hljs-keyword">byte</span>[] buf = <span class="hljs-keyword">new</span> <span class="hljs-keyword">byte</span>[<span class="hljs-number">1024</span>];
<span class="hljs-keyword">try</span> {
    <span class="hljs-keyword">int</span> n = s3Object.getObjectContent().read(buf, <span class="hljs-number">0</span>, <span class="hljs-number">1024</span>);
    System.out.println(<span class="hljs-keyword">new</span> String(buf, <span class="hljs-string">&quot;UTF-8&quot;</span>));
} <span class="hljs-keyword">catch</span> (IOException e) {
    System.out.println(<span class="hljs-string">&quot;errr&quot;</span>);
}
</code></pre>
<h4 id="download-to-local-file">Download to Local File</h4>
<pre><code class="lang-java">GetObjectRequest getObjectRequest = <span class="hljs-keyword">new</span> GetObjectRequest(<span class="hljs-string">&quot;test-bucket&quot;</span>, <span class="hljs-string">&quot;test-key&quot;</span>);
ObjectMetadata meta = s3.getObject(getObjectRequest, <span class="hljs-keyword">new</span> File(<span class="hljs-string">&quot;/root/test.down&quot;</span>));
</code></pre>
<h4 id="get-file-url">Get File URL</h4>
<p>Get the pre-signed URL to download the File, and the developer could set an expired time.</p>
<pre><code class="lang-java">URL url = s3.generatePresignedUrl(<span class="hljs-string">&quot;test-bucket&quot;</span>, <span class="hljs-string">&quot;test-key&quot;</span>,
                                  <span class="hljs-keyword">new</span> Date(<span class="hljs-number">116</span>, <span class="hljs-number">11</span>, <span class="hljs-number">17</span>)); <span class="hljs-comment">//2016&#x5E74;12&#x6708;17&#x65E5;&#x8FC7;&#x671F;</span>
System.out.println(url.toString());
</code></pre>
<h4 id="file-delete">File Delete</h4>
<pre><code class="lang-java">s3.deleteObject(<span class="hljs-string">&quot;test-bucket&quot;</span>, <span class="hljs-string">&quot;test_key&quot;</span>);
</code></pre>
<h4 id="get-file-acl">Get File ACL</h4>
<pre><code class="lang-java">AccessControlList accessControlList = s3.getObjectAcl(<span class="hljs-string">&quot;test-bucket&quot;</span>, <span class="hljs-string">&quot;test-key&quot;</span>);
</code></pre>
<h4 id="set-file-acl">Set File ACL</h4>
<h5 id="using-pre-defined-acl">Using pre-defined ACL</h5>
<pre><code class="lang-java">s3.setObjectAcl(bucketName, <span class="hljs-string">&quot;test-key&quot;</span>, CannedAccessControlList.AuthenticatedRead);
</code></pre>
<h5 id="using-custom-acl">Using Custom ACL</h5>
<pre><code class="lang-java">AccessControlList accessControlList = <span class="hljs-keyword">new</span> AccessControlList();
accessControlList.setOwner(<span class="hljs-keyword">new</span> Owner(<span class="hljs-string">&quot;your_user_id&quot;</span>, <span class="hljs-string">&quot;&quot;</span>));

accessControlList.grantPermission(GroupGrantee.AuthenticatedUsers, Permission.Write);
accessControlList.grantPermission(GroupGrantee.LogDelivery, Permission.FullControl);
accessControlList.grantPermission(<span class="hljs-keyword">new</span> CanonicalGrantee(<span class="hljs-string">&quot;some_user_id&quot;</span>), Permission.Read);
accessControlList.grantPermission(<span class="hljs-keyword">new</span> EmailAddressGrantee(<span class="hljs-string">&quot;some_email@some.com&quot;</span>), Permission.WriteAcp);

s3.setObjectAcl(<span class="hljs-string">&quot;test-bucket&quot;</span>, <span class="hljs-string">&quot;test-key&quot;</span>, accessControlList);
</code></pre>
<h3 id="bucket-operation-api">Bucket Operation API</h3>
<h4 id="bucket-create">Bucket Create</h4>
<pre><code class="lang-java">CreateBucketRequest createBucketRequest = <span class="hljs-keyword">new</span> CreateBucketRequest(<span class="hljs-string">&quot;test-bucket&quot;</span>);
createBucketRequest.withCannedAcl(CannedAccessControlList.PublicRead);

Bucket bucket = s3.createBucket(createBucketRequest);
</code></pre>
<h4 id="bucket-file-list-list-all-the-files-contained-on-the-bucket-the-max-number-of-returning-files-at-the-same-time-is-1000">Bucket File List (List all the files contained on the bucket. The max number of returning files at the same time is 1000)</h4>
<pre><code class="lang-java">ListObjectsRequest listObjectsRequest = <span class="hljs-keyword">new</span> ListObjectsRequest();
listObjectsRequest.setBucketName(<span class="hljs-string">&quot;test-bucket&quot;</span>);
listObjectsRequest.setMarker(<span class="hljs-string">&quot;foo&quot;</span>); <span class="hljs-comment">//&#x8BBE;&#x7F6E;&#x4ECE;&#x54EA;&#x4E2A;key&#x5F00;&#x59CB;&#x5217;</span>
listObjectsRequest.setPrefix(<span class="hljs-string">&quot;foo&quot;</span>); <span class="hljs-comment">//&#x53EA;&#x8FD4;&#x56DE;&#x4EE5;&#x201C;foo&#x201C;&#x4E3A;&#x524D;&#x7F00;&#x7684;key</span>
listObjectsRequest.setDelimiter(<span class="hljs-string">&quot;/&quot;</span>); <span class="hljs-comment">//&#x5BF9;&#x6709;&#x516C;&#x5171;&#x90E8;&#x5206;&#x7684;keys&#x8FDB;&#x884C;&#x5408;&#x5E76;</span>
listObjectsRequest.setMaxKeys(<span class="hljs-number">200</span>); <span class="hljs-comment">//&#x6700;&#x591A;&#x8FD4;&#x56DE;200&#x4E2A;</span>

ObjectListing objectListing = s3.listObjects(listObjectsRequest);
</code></pre>
<h4 id="list-all-the-files-contained-on-the-bucket">List all the files contained on the bucket</h4>
<pre><code class="lang-java">String marker = <span class="hljs-string">&quot;&quot;</span>;

ListObjectsRequest listObjectsRequest = <span class="hljs-keyword">new</span> ListObjectsRequest();
listObjectsRequest.setBucketName(<span class="hljs-string">&quot;test-bucket&quot;</span>);
listObjectsRequest.setMarker(marker);

<span class="hljs-keyword">while</span> (<span class="hljs-keyword">true</span>)
{
    ObjectListing objectListing = s3.listObjects(listObjectsRequest);

    List&lt;S3ObjectSummary&gt; contents = <span class="hljs-keyword">new</span> ArrayList&lt;S3ObjectSummary&gt;();
    contents = objectListing.getObjectSummaries();

    <span class="hljs-keyword">if</span> (contents.size() == <span class="hljs-number">0</span>)
    {
        <span class="hljs-keyword">break</span>;
    }

    <span class="hljs-keyword">for</span> (S3ObjectSummary content: contents)
    {
        String key = content.getKey();
        <span class="hljs-keyword">long</span> size = content.getSize();
        System.out.format(<span class="hljs-string">&quot;key: %s, size: %d\n&quot;</span>, key, size);
        listObjectsRequest.setMarker(key);
    }
}
</code></pre>
<h4 id="bucket-delete">Bucket Delete</h4>
<pre><code class="lang-java">s3.deleteBucket(<span class="hljs-string">&quot;test-bucket&quot;</span>);
</code></pre>
<h4 id="get-bucket-acl">Get Bucket ACL</h4>
<pre><code class="lang-java">AccessControlList accessControlList = s3.getBucketAcl(<span class="hljs-string">&quot;test-bucket&quot;</span>);
</code></pre>
<h4 id="set-bucket-acl">Set Bucket ACL</h4>
<h5 id="using-the-pre-defined-acl">Using the pre-defined ACL</h5>
<pre><code class="lang-java">s3.setBucketAcl(<span class="hljs-string">&quot;test-bucket&quot;</span>, CannedAccessControlList.AuthenticatedRead);
</code></pre>
<h5 id="using-the-custom-acl">Using the custom ACL</h5>
<pre><code class="lang-java">AccessControlList accessControlList = <span class="hljs-keyword">new</span> AccessControlList();
accessControlList.setOwner(<span class="hljs-keyword">new</span> Owner(<span class="hljs-string">&quot;your_user_id&quot;</span>, <span class="hljs-string">&quot;&quot;</span>));

accessControlList.grantPermission(GroupGrantee.AuthenticatedUsers, Permission.Write);
accessControlList.grantPermission(GroupGrantee.LogDelivery, Permission.FullControl);
accessControlList.grantPermission(<span class="hljs-keyword">new</span> CanonicalGrantee(<span class="hljs-string">&quot;some_user_id&quot;</span>), Permission.Read);
accessControlList.grantPermission(<span class="hljs-keyword">new</span> EmailAddressGrantee(<span class="hljs-string">&quot;some_email@some.com&quot;</span>), Permission.WriteAcp);

s3.setBucketAcl(<span class="hljs-string">&quot;test-bucket&quot;</span>, accessControlList);
</code></pre>
<h3 id="service-operation-api">Service Operation API</h3>
<h4 id="bucket-list">Bucket List</h4>
<pre><code class="lang-java">List&lt;Bucket&gt; allBuckets = <span class="hljs-keyword">new</span> ArrayList&lt;Bucket&gt;();
allBuckets = s3.listBuckets();
</code></pre>
<p>The link of the official AWS SDK for Java: <a href="https://aws.amazon.com/sdk-for-java/" target="_blank">aws-sdk-java</a></p>
<p>The link of API documentation: <a href="http://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/index.html" target="_blank">api-reference</a></p>
<h2 id="go-demo">Go Demo</h2>
<h3 id="install-the-aws-go-sdk">Install the AWS Go SDK</h3>
<pre><code>go get -u github.com/aws/aws-sdk-go/...
</code></pre><h3 id="initialization--set-the-account-information-and-the-domain-name">Initialization &amp; Set the account information and the domain name</h3>
<pre><code class="lang-go"><span class="hljs-keyword">package</span> main

<span class="hljs-keyword">import</span> <span class="hljs-string">&quot;fmt&quot;</span>
<span class="hljs-keyword">import</span> <span class="hljs-string">&quot;time&quot;</span>
<span class="hljs-keyword">import</span> <span class="hljs-string">&quot;bytes&quot;</span>
<span class="hljs-keyword">import</span> <span class="hljs-string">&quot;os&quot;</span>
<span class="hljs-keyword">import</span> <span class="hljs-string">&quot;github.com/aws/aws-sdk-go/aws&quot;</span>
<span class="hljs-keyword">import</span> <span class="hljs-string">&quot;github.com/aws/aws-sdk-go/service/s3&quot;</span>
<span class="hljs-keyword">import</span> <span class="hljs-string">&quot;github.com/aws/aws-sdk-go/service/s3/s3manager&quot;</span>
<span class="hljs-keyword">import</span> <span class="hljs-string">&quot;github.com/aws/aws-sdk-go/aws/session&quot;</span>
<span class="hljs-keyword">import</span> <span class="hljs-string">&quot;github.com/aws/aws-sdk-go/aws/credentials&quot;</span>

<span class="hljs-keyword">var</span> access_key = <span class="hljs-string">&quot;ziw5dp1alvty9n47qksu&quot;</span> <span class="hljs-comment">// please replace with your access_key</span>
<span class="hljs-keyword">var</span> secret_key = <span class="hljs-string">&quot;V+ZTZ5u5wNvXb+KP5g0dMNzhMeWe372/yRKx4hZV&quot;</span> <span class="hljs-comment">//please replace with your secret_key</span>
<span class="hljs-keyword">var</span> token = <span class="hljs-string">&quot;&quot;</span>
<span class="hljs-keyword">var</span> end_point = <span class="hljs-string">&quot;http://ss.bscstorage.com&quot;</span>

<span class="hljs-keyword">func</span> main() {
    credential := credentials.NewStaticCredentials(access_key, secret_key, token)

    config := aws.NewConfig().WithRegion(<span class="hljs-string">&quot;us-east-1&quot;</span>).
        WithEndpoint(end_point).
        WithCredentials(credential).WithS3ForcePathStyle(<span class="hljs-literal">true</span>)

    sess := session.New(config)
    svc := s3.New(sess)
    uploader := s3manager.NewUploader(sess)
    downloader := s3manager.NewDownloader(sess)
}
</code></pre>
<h3 id="file-operation-api">File Operation API</h3>
<h4 id="file-upload">File Upload</h4>
<p>The permitted values of ACL are private, public-read, public-read-write, and authenticated-read.</p>
<pre><code class="lang-go">params := &amp;s3.PutObjectInput{
    Bucket: aws.String(<span class="hljs-string">&quot;test-bucket&quot;</span>),
    Key: aws.String(<span class="hljs-string">&quot;test-key&quot;</span>),
    ACL: aws.String(<span class="hljs-string">&quot;public-read&quot;</span>),
    ContentType: aws.String(<span class="hljs-string">&quot;image/jpeg&quot;</span>), <span class="hljs-comment">//&#x8BF7;&#x66FF;&#x6362;&#x4E3A;&#x5408;&#x9002;&#x7684;&#x6587;&#x4EF6;&#x7C7B;&#x578B;</span>
    Body: bytes.NewReader([]<span class="hljs-keyword">byte</span>(<span class="hljs-string">&quot;bla bla&quot;</span>)),
    Metadata: <span class="hljs-keyword">map</span>[<span class="hljs-keyword">string</span>]*<span class="hljs-keyword">string</span>{
        <span class="hljs-string">&quot;key-foo&quot;</span>: aws.String(<span class="hljs-string">&quot;value-bar&quot;</span>),
    },
}

resp, err := svc.PutObject(params)
<span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
    fmt.Println(err.Error())
    <span class="hljs-keyword">return</span>
}
fmt.Println(resp)
</code></pre>
<h4 id="using-the-uploader-interface-to-upload-local-file">Using the uploader interface to upload local file</h4>
<pre><code class="lang-go">f, err := os.Open(<span class="hljs-string">&quot;/root/test.txt&quot;</span>)
<span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
    fmt.Println(<span class="hljs-string">&quot;open file error&quot;</span>)
    <span class="hljs-keyword">return</span>
}

params := &amp;s3manager.UploadInput{
    Bucket: aws.String(<span class="hljs-string">&quot;test-bucket&quot;</span>),
    Key: aws.String(<span class="hljs-string">&quot;test-key&quot;</span>),
    Body: f,
}

result, err := uploader.Upload(params)
<span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
    fmt.Println(<span class="hljs-string">&quot;upload file error&quot;</span>)
    <span class="hljs-keyword">return</span>
}
fmt.Printf(<span class="hljs-string">&quot;file uploaded to: %s\n&quot;</span>, result.Location)
</code></pre>
<h4 id="file-download">File Download</h4>
<pre><code class="lang-go">params := &amp;s3.GetObjectInput{
    Bucket: aws.String(<span class="hljs-string">&quot;test-bucket&quot;</span>),
    Key: aws.String(<span class="hljs-string">&quot;test-key&quot;</span>),
}

resp, err := svc.GetObject(params)
<span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
    fmt.Println(err.Error())
    <span class="hljs-keyword">return</span>
}
buf := <span class="hljs-built_in">new</span>(bytes.Buffer)
buf.ReadFrom(resp.Body)
fmt.Println(buf.String())
</code></pre>
<h4 id="using-the-downloader-interface-to-download-the-file">Using the downloader interface to download the file</h4>
<pre><code class="lang-go">f, err := os.Create(<span class="hljs-string">&quot;/root/test.txt.download&quot;</span>)
<span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
    fmt.Println(<span class="hljs-string">&quot;create file error&quot;</span>)
    <span class="hljs-keyword">return</span>
}

params := &amp;s3.GetObjectInput{
    Bucket: aws.String(<span class="hljs-string">&quot;test-bucket&quot;</span>),
    Key: aws.String(<span class="hljs-string">&quot;test-key&quot;</span>),
}

n, err := downloader.Download(f, params)
<span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
    fmt.Println(<span class="hljs-string">&quot;download file error&quot;</span>)
    <span class="hljs-keyword">return</span>
}
fmt.Printf(<span class="hljs-string">&quot;file download %d bytes\n&quot;</span>, n)
</code></pre>
<h4 id="get-file-url">Get File URL</h4>
<p>Get the pre-signed URL to download the File, and the developer could set an expired time.</p>
<pre><code class="lang-go">params := &amp;s3.GetObjectInput{
    Bucket: aws.String(<span class="hljs-string">&quot;test-bucket&quot;</span>),
    Key: aws.String(<span class="hljs-string">&quot;test-key&quot;</span>),
}
req, _ := svc.GetObjectRequest(params)
url, _ := req.Presign(<span class="hljs-number">300</span> * time.Second) <span class="hljs-comment">//300&#x79D2;&#x540E;&#x8FC7;&#x671F;</span>
fmt.Println(url)
</code></pre>
<h4 id="file-delete">File Delete</h4>
<pre><code class="lang-go">params := &amp;s3.DeleteObjectInput{
    Bucket: aws.String(<span class="hljs-string">&quot;test-bucket&quot;</span>),
    Key: aws.String(<span class="hljs-string">&quot;test-key&quot;</span>),
}
resp, err := svc.DeleteObject(params)
<span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
    fmt.Println(err.Error())
    <span class="hljs-keyword">return</span>
}
fmt.Println(resp)
</code></pre>
<h4 id="get-file-acl">Get File ACL</h4>
<pre><code class="lang-go">params := &amp;s3.GetObjectAclInput{
    Bucket: aws.String(<span class="hljs-string">&quot;test-bucket&quot;</span>),
    Key: aws.String(<span class="hljs-string">&quot;test-key&quot;</span>),
}

resp, err := svc.GetObjectAcl(params)
<span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
    fmt.Println(err.Error())
    <span class="hljs-keyword">return</span>
}
fmt.Println(resp)
</code></pre>
<h4 id="set-file-acl">Set File ACL</h4>
<h5 id="using-pre-defined-acl">Using pre-defined ACL</h5>
<p>&#x652F;&#x6301;&#x7684;&#x9884;&#x5B9A;&#x4E49;ACL&#x6709;&#xFF1A;&apos;private&apos;, &apos;public-read&apos;, &apos;public-read-write&apos; &#x548C; &apos;authenticated-read&apos;</p>
<pre><code class="lang-go">params := &amp;s3.PutObjectAclInput{
    Bucket: aws.String(<span class="hljs-string">&quot;test-bucket&quot;</span>),
    Key: aws.String(<span class="hljs-string">&quot;test-key&quot;</span>),
    ACL: aws.String(<span class="hljs-string">&quot;private&quot;</span>),
}

resp, err := svc.PutObjectAcl(params)
<span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
    fmt.Println(err.Error())
    <span class="hljs-keyword">return</span>
}
fmt.Println(resp)
</code></pre>
<h5 id="using-grant-header-to-set-acl">Using Grant header to Set ACL</h5>
<pre><code class="lang-go">params := &amp;s3.PutObjectAclInput{
    Bucket: aws.String(<span class="hljs-string">&quot;test-bucket&quot;</span>),
    Key: aws.String(<span class="hljs-string">&quot;test-key&quot;</span>),

    GrantFullControl: aws.String(<span class="hljs-string">&quot;id=your_user_id&quot;</span>),
    GrantRead: aws.String(<span class="hljs-string">&quot;uri=\&quot;http://acs.amazonaws.com/groups/global/AllUsers\&quot;&quot;</span>),
    GrantReadACP: aws.String(<span class="hljs-string">&quot;id=some_user_id, id=another_user_id&quot;</span>),
    GrantWrite: aws.String(<span class="hljs-string">&quot;uri=\&quot;http://acs.amazonaws.com/groups/global/AuthenticatedUsers\&quot;&quot;</span>),
    GrantWriteACP: aws.String(<span class="hljs-string">&quot;emailAddress=\&quot;some_email@some.com\&quot;, id=some_user_id&quot;</span>),
}

resp, err := svc.PutObjectAcl(params)
<span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
    fmt.Println(err.Error())
    <span class="hljs-keyword">return</span>
}
fmt.Println(resp)
</code></pre>
<h5 id="using-custom-acl">Using custom ACL</h5>
<p>The permitted values of Permission are FULL_CONTROL, WRITE, WRITE_ACP, READ, and READ_ACP</p>
<pre><code class="lang-go">params := &amp;s3.PutObjectAclInput{
    Bucket: aws.String(<span class="hljs-string">&quot;test-bucket&quot;</span>),
    Key: aws.String(<span class="hljs-string">&quot;test-key&quot;</span>),

    AccessControlPolicy: &amp;s3.AccessControlPolicy{
        Grants: []*s3.Grant{
            {
                Grantee: &amp;s3.Grantee{
                    Type: aws.String(<span class="hljs-string">&quot;CanonicalUser&quot;</span>),
                    DisplayName: aws.String(<span class="hljs-string">&quot;&quot;</span>),
                    ID: aws.String(<span class="hljs-string">&quot;some_user_id&quot;</span>),
                },
                Permission: aws.String(<span class="hljs-string">&quot;FULL_CONTROL&quot;</span>),
            },
            {
                Grantee: &amp;s3.Grantee{
                    Type: aws.String(<span class="hljs-string">&quot;Group&quot;</span>),
                    URI: aws.String(<span class="hljs-string">&quot;http://acs.amazonaws.com/groups/global/AllUsers&quot;</span>),
                },
                Permission: aws.String(<span class="hljs-string">&quot;READ&quot;</span>),
            },
            {
                Grantee: &amp;s3.Grantee{
                    Type: aws.String(<span class="hljs-string">&quot;AmazonCustomerByEmail&quot;</span>),
                    DisplayName: aws.String(<span class="hljs-string">&quot;&quot;</span>),
                    EmailAddress: aws.String(<span class="hljs-string">&quot;some_email@some.com&quot;</span>),
                },
                Permission: aws.String(<span class="hljs-string">&quot;READ&quot;</span>),
            },
        },
        Owner: &amp;s3.Owner{
            DisplayName: aws.String(<span class="hljs-string">&quot;&quot;</span>),
            ID: aws.String(<span class="hljs-string">&quot;your_user_id&quot;</span>),
        },
    },
}

resp, err := svc.PutObjectAcl(params)
<span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
    fmt.Println(err.Error())
    <span class="hljs-keyword">return</span>
}
fmt.Println(resp)
</code></pre>
<h3 id="bucket-operation-api">Bucket Operation API</h3>
<h4 id="bucket-create">Bucket Create</h4>
<p>The permitted values of ACL are private, public-read, public-read-write, and authentication-read</p>
<pre><code class="lang-go">params := &amp;s3.CreateBucketInput{
    Bucket: aws.String(<span class="hljs-string">&quot;test-bucket&quot;</span>),
    ACL: aws.String(<span class="hljs-string">&quot;public-read&quot;</span>),
}

resp, err := svc.CreateBucket(params)
<span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
    fmt.Println(err.Error())
    <span class="hljs-keyword">return</span>
}
fmt.Println(resp)
</code></pre>
<h4 id="list-all-the-files-contained-on-the-bucket-every-time-it-can-return-up-to-1000-files">List all the files contained on the bucket (every time it can return up to 1000 files)</h4>
<pre><code class="lang-go">params := &amp;s3.ListObjectsInput{
    Bucket: aws.String(<span class="hljs-string">&quot;test-bucket&quot;</span>),
    Marker: aws.String(<span class="hljs-string">&quot;foo&quot;</span>), <span class="hljs-comment">//&#x8BBE;&#x7F6E;&#x4ECE;&#x54EA;&#x4E2A;key&#x5F00;&#x59CB;&#x5217;</span>
    Prefix: aws.String(<span class="hljs-string">&quot;foo&quot;</span>), <span class="hljs-comment">//&#x53EA;&#x8FD4;&#x56DE;&#x4EE5;&#x201C;foo&#x201C;&#x4E3A;&#x524D;&#x7F00;&#x7684;key</span>
    Delimiter: aws.String(<span class="hljs-string">&quot;/&quot;</span>), <span class="hljs-comment">//&#x5BF9;&#x542B;&#x6709;&#x516C;&#x5171;&#x90E8;&#x5206;&#x7684;keys&#x8FDB;&#x884C;&#x5408;&#x5E76;</span>
    MaxKeys: aws.Int64(<span class="hljs-number">200</span>), <span class="hljs-comment">//&#x6700;&#x591A;&#x8FD4;&#x56DE;200&#x4E2A;</span>
}

resp, err := svc.ListObjects(params)
<span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
    fmt.Println(err.Error())
    <span class="hljs-keyword">return</span>
}
fmt.Println(resp)
</code></pre>
<h4 id="list-all-the-files-on-the-bucket">List all the files on the bucket</h4>
<pre><code class="lang-go">marker := <span class="hljs-string">&quot;&quot;</span>

<span class="hljs-keyword">for</span> {
    params := &amp;s3.ListObjectsInput{
        Bucket: aws.String(<span class="hljs-string">&quot;test-bucket&quot;</span>),
        Marker: aws.String(marker),
    }

    resp, err := svc.ListObjects(params)
    <span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
        fmt.Println(err.Error())
        <span class="hljs-keyword">return</span>
    }

    <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(resp.Contents) == <span class="hljs-number">0</span> {
        <span class="hljs-keyword">break</span>;
    }

    <span class="hljs-keyword">for</span> _, content := <span class="hljs-keyword">range</span> resp.Contents {
        fmt.Printf(<span class="hljs-string">&quot;key:%s, size:%d\n&quot;</span>, *content.Key, *content.Size)
        marker = *content.Key
    }
}
</code></pre>
<h4 id="bucket-delete">Bucket Delete</h4>
<pre><code class="lang-go">params := &amp;s3.DeleteBucketInput{
    Bucket: aws.String(<span class="hljs-string">&quot;test-bucket&quot;</span>),
}
resp, err := svc.DeleteBucket(params)
<span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
    fmt.Println(err.Error())
    <span class="hljs-keyword">return</span>
}
fmt.Println(resp)
</code></pre>
<h4 id="get-bucket-acl">Get Bucket ACL</h4>
<pre><code class="lang-go">params := &amp;s3.GetBucketAclInput{
    Bucket: aws.String(<span class="hljs-string">&quot;test-bucket&quot;</span>),
}
resp, err := svc.GetBucketAcl(params)
<span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
    fmt.Println(err.Error())
    <span class="hljs-keyword">return</span>
}
fmt.Println(resp)
</code></pre>
<h4 id="set-bucket-acl">Set Bucket ACL</h4>
<h5 id="using-the-pre-defined-acl">Using the pre-defined ACL</h5>
<p>The permitted values of ACL are private, public-read, public-read-write, and authentication-read.</p>
<pre><code class="lang-go">params := &amp;s3.PutBucketAclInput{
    Bucket: aws.String(<span class="hljs-string">&quot;test-bucket&quot;</span>),
    ACL: aws.String(<span class="hljs-string">&quot;public-read-write&quot;</span>),
}

resp, err := svc.PutBucketAcl(params)
<span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
    fmt.Println(err.Error())
    <span class="hljs-keyword">return</span>
}
fmt.Println(resp)
</code></pre>
<h5 id="set-acl-by-using-grant-header">Set ACL by using Grant header</h5>
<pre><code class="lang-go">params := &amp;s3.PutBucketAclInput{
    Bucket: aws.String(<span class="hljs-string">&quot;test-bucket&quot;</span>),

    GrantFullControl: aws.String(<span class="hljs-string">&quot;id=your_user_id&quot;</span>),
    GrantRead: aws.String(<span class="hljs-string">&quot;uri=\&quot;http://acs.amazonaws.com/groups/global/AllUsers\&quot;&quot;</span>),
    GrantReadACP: aws.String(<span class="hljs-string">&quot;id=some_user_id, id=another_user_id&quot;</span>),
    GrantWrite: aws.String(<span class="hljs-string">&quot;uri=\&quot;http://acs.amazonaws.com/groups/global/AuthenticatedUsers\&quot;&quot;</span>),
    GrantWriteACP: aws.String(<span class="hljs-string">&quot;emailAddress=\&quot;some_email@some.com\&quot;, id=some_user_id&quot;</span>),
}

resp, err := svc.PutBucketAcl(params)
<span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
    fmt.Println(err.Error())
    <span class="hljs-keyword">return</span>
}
fmt.Println(resp)
</code></pre>
<h5 id="using-custom-acl">Using Custom ACL</h5>
<p>The permitted values of Permission are FULL_CONTROL, WRITE, WRITE_ACP, READ, and READ_ACP</p>
<pre><code class="lang-go">params := &amp;s3.PutBucketAclInput{
    Bucket: aws.String(<span class="hljs-string">&quot;test-bucket&quot;</span>),

    AccessControlPolicy: &amp;s3.AccessControlPolicy{
        Grants: []*s3.Grant{
            {
                Grantee: &amp;s3.Grantee{
                    Type: aws.String(<span class="hljs-string">&quot;CanonicalUser&quot;</span>),
                    DisplayName: aws.String(<span class="hljs-string">&quot;&quot;</span>),
                    ID: aws.String(<span class="hljs-string">&quot;some_user_id&quot;</span>),
                },
                Permission: aws.String(<span class="hljs-string">&quot;FULL_CONTROL&quot;</span>),
            },
            {
                Grantee: &amp;s3.Grantee{
                    Type: aws.String(<span class="hljs-string">&quot;Group&quot;</span>),
                    URI: aws.String(<span class="hljs-string">&quot;http://acs.amazonaws.com/groups/global/AllUsers&quot;</span>),
                },
                Permission: aws.String(<span class="hljs-string">&quot;READ&quot;</span>),
            },
            {
                Grantee: &amp;s3.Grantee{
                    Type: aws.String(<span class="hljs-string">&quot;AmazonCustomerByEmail&quot;</span>),
                    DisplayName: aws.String(<span class="hljs-string">&quot;&quot;</span>),
                    EmailAddress: aws.String(<span class="hljs-string">&quot;some_email@some.com&quot;</span>),
                },
                Permission: aws.String(<span class="hljs-string">&quot;READ&quot;</span>),
            },
        },
        Owner: &amp;s3.Owner{
            DisplayName: aws.String(<span class="hljs-string">&quot;&quot;</span>),
            ID: aws.String(<span class="hljs-string">&quot;your_user_id&quot;</span>),
        },
    },
}

resp, err := svc.PutBucketAcl(params)
<span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
    fmt.Println(err.Error())
    <span class="hljs-keyword">return</span>
}
fmt.Println(resp)
</code></pre>
<h3 id="service-operation-api">Service Operation API</h3>
<h4 id="list-all-the-buckets">List all the Buckets</h4>
<pre><code class="lang-go"><span class="hljs-keyword">var</span> params *s3.ListBucketsInput
resp, err := svc.ListBuckets(params)
<span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
    fmt.Println(err.Error())
    <span class="hljs-keyword">return</span>
}
fmt.Println(resp)
</code></pre>
<p>The link of the official AWS SDK for Go: <a href="https://aws.amazon.com/sdk-for-go/" target="_blank">aws-sdk-go</a></p>
<p>The link of API documentation: <a href="http://docs.aws.amazon.com/sdk-for-go/api/service/s3/" target="_blank">api-reference</a></p>
<h2 id="dotnet-demo">Dotnet Demo</h2>
<h3 id="install-aws-dotnet-sdk">Install AWS Dotnet SDK</h3>
<pre><code>dotnet add package AWSSDK.S3
</code></pre><h3 id="initialization--set-the-account-information-and-the-domain-name">Initialization &amp; Set the account information and the domain name</h3>
<pre><code class="lang-csharp"><span class="hljs-keyword">using</span> System;
<span class="hljs-keyword">using</span> System.IO;
<span class="hljs-keyword">using</span> Amazon;
<span class="hljs-keyword">using</span> Amazon.S3;
<span class="hljs-keyword">using</span> Amazon.S3.Model;
<span class="hljs-keyword">using</span> System.Threading.Tasks;

<span class="hljs-keyword">namespace</span> <span class="hljs-title">dnet</span>
{
    <span class="hljs-keyword">class</span> <span class="hljs-title">Program</span>
    {
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> IAmazonS3 client;

        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Main</span>(<span class="hljs-params"></span>)
        </span>{
            <span class="hljs-meta"># Please fill in it with your own access key</span>
            <span class="hljs-keyword">string</span> accessKey = <span class="hljs-string">&quot;accessKey&quot;</span>;

            <span class="hljs-meta"># Please fill in it with your own secret key</span>
            <span class="hljs-keyword">string</span> secretKey = <span class="hljs-string">&quot;secretKey&quot;</span>;

            AmazonS3Config config = <span class="hljs-keyword">new</span> AmazonS3Config();
            config.ServiceURL = <span class="hljs-string">&quot;http://ss.bscstorage.com&quot;</span>;
            client = <span class="hljs-keyword">new</span> AmazonS3Client(accessKey, secretKey, config);
        }
    }
}
</code></pre>
<h3 id="file-operation-api">File Operation API</h3>
<h4 id="file-upload">File Upload</h4>
<pre><code class="lang-csharp"><span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">async</span> Task <span class="hljs-title">WritingAnObjectAsync</span>(<span class="hljs-params"></span>)
</span>{
    <span class="hljs-keyword">try</span>
    {
        <span class="hljs-comment">// 1. Put object-specify only key name for the new object.</span>
        <span class="hljs-keyword">var</span> putRequest1 = <span class="hljs-keyword">new</span> PutObjectRequest
        {
            BucketName = <span class="hljs-string">&quot;test-bucket-xxx&quot;</span>,
            Key = <span class="hljs-string">&quot;test-key-xxx&quot;</span>,
            ContentBody = <span class="hljs-string">&quot;sample text&quot;</span>
        };

        PutObjectResponse response1 = <span class="hljs-keyword">await</span> client.PutObjectAsync(putRequest1);

        <span class="hljs-comment">// 2. Put the object-set ContentType and add metadata.</span>
        <span class="hljs-keyword">var</span> putRequest2 = <span class="hljs-keyword">new</span> PutObjectRequest
        {
            BucketName = <span class="hljs-string">&quot;test-bucket-xxx&quot;</span>,
            Key = <span class="hljs-string">&quot;test-key-xxx&quot;</span>,
            FilePath = <span class="hljs-string">&quot;/root/test.txt&quot;</span>,
            ContentType = <span class="hljs-string">&quot;text/plain&quot;</span>
        };
        putRequest2.Metadata.Add(<span class="hljs-string">&quot;x-amz-meta-title&quot;</span>, <span class="hljs-string">&quot;someTitle&quot;</span>);
        PutObjectResponse response2 = <span class="hljs-keyword">await</span> client.PutObjectAsync(putRequest2);
    }
    <span class="hljs-keyword">catch</span> (AmazonS3Exception e)
    {
        Console.WriteLine(
                <span class="hljs-string">&quot;Error encountered ***. Message:&apos;{0}&apos; when writing an object&quot;</span>
                , e.Message);
    }
    <span class="hljs-keyword">catch</span> (Exception e)
    {
        Console.WriteLine(
            <span class="hljs-string">&quot;Unknown encountered on server. Message:&apos;{0}&apos; when writing an object&quot;</span>
            , e.Message);
    }
}
</code></pre>
<h4 id="file-download">File Download</h4>
<pre><code class="lang-csharp"><span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">async</span> Task <span class="hljs-title">ReadObjectDataAsync</span>(<span class="hljs-params"></span>)
</span>{
    <span class="hljs-keyword">string</span> responseBody = <span class="hljs-string">&quot;&quot;</span>;
    <span class="hljs-keyword">try</span>
    {
        GetObjectRequest request = <span class="hljs-keyword">new</span> GetObjectRequest
        {
            BucketName = bucketName,
            Key = keyName
        };
        <span class="hljs-keyword">using</span> (GetObjectResponse response = <span class="hljs-keyword">await</span> client.GetObjectAsync(request))
        <span class="hljs-keyword">using</span> (Stream responseStream = response.ResponseStream)
        <span class="hljs-keyword">using</span> (StreamReader reader = <span class="hljs-keyword">new</span> StreamReader(responseStream))
        {
            <span class="hljs-keyword">string</span> title = response.Metadata[<span class="hljs-string">&quot;x-amz-meta-title&quot;</span>]; <span class="hljs-comment">// Assume you have &quot;title&quot; as medata added to the object.</span>
            <span class="hljs-keyword">string</span> contentType = response.Headers[<span class="hljs-string">&quot;Content-Type&quot;</span>];
            Console.WriteLine(<span class="hljs-string">&quot;Object metadata, Title: {0}&quot;</span>, title);
            Console.WriteLine(<span class="hljs-string">&quot;Content type: {0}&quot;</span>, contentType);

            responseBody = reader.ReadToEnd(); <span class="hljs-comment">// Now you process the response body.</span>
        }
    }
    <span class="hljs-keyword">catch</span> (AmazonS3Exception e)
    {
        Console.WriteLine(<span class="hljs-string">&quot;Error encountered ***. Message:&apos;{0}&apos; when writing an object&quot;</span>, e.Message);
    }
    <span class="hljs-keyword">catch</span> (Exception e)
    {
        Console.WriteLine(<span class="hljs-string">&quot;Unknown encountered on server. Message:&apos;{0}&apos; when writing an object&quot;</span>, e.Message);
    }
}
</code></pre>
<h4 id="file-delete">File Delete</h4>
<pre><code class="lang-csharp"><span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">async</span> Task <span class="hljs-title">DeleteObjectAsync</span>(<span class="hljs-params"></span>)
</span>{
    <span class="hljs-keyword">try</span>
    {
        <span class="hljs-comment">// Delete the object</span>
        DeleteObjectRequest request = <span class="hljs-keyword">new</span> DeleteObjectRequest
        {
            BucketName = bucketName,
            Key = keyName,
        };
        Console.WriteLine(<span class="hljs-string">&quot;Deleting an object&quot;</span>);
        <span class="hljs-keyword">await</span> client.DeleteObjectAsync(request);
    }
    <span class="hljs-keyword">catch</span> (AmazonS3Exception e)
    {
        Console.WriteLine(<span class="hljs-string">&quot;Error encountered on server. Message:&apos;{0}&apos; when writing an object&quot;</span>, e.Message);
    }
    <span class="hljs-keyword">catch</span> (Exception e)
    {
        Console.WriteLine(<span class="hljs-string">&quot;Unknown encountered on server. Message:&apos;{0}&apos; when writing an object&quot;</span>, e.Message);
    }
}
</code></pre>
<h4 id="get-file-acl">Get File ACL</h4>
<pre><code class="lang-csharp"><span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">async</span> Task <span class="hljs-title">TestObjectACLAsync</span>(<span class="hljs-params"></span>)
</span>{
    <span class="hljs-keyword">try</span>
    {
        <span class="hljs-comment">// Retrieve the ACL for the object.</span>
        GetACLResponse aclResponse = <span class="hljs-keyword">await</span> client.GetACLAsync(<span class="hljs-keyword">new</span> GetACLRequest
        {
            BucketName = bucketName,
            Key = keyName
        });

        S3AccessControlList acl = aclResponse.AccessControlList;

        <span class="hljs-comment">// Retrieve the owner (we use this to re-add permissions after we clear the ACL).</span>
        Owner owner = acl.Owner;

        <span class="hljs-comment">// Clear existing grants.</span>
        acl.Grants.Clear();

        <span class="hljs-comment">// Add a grant to reset the owner&apos;s full permission (the previous clear statement removed all permissions).</span>
        S3Grant fullControlGrant = <span class="hljs-keyword">new</span> S3Grant
        {
            Grantee = <span class="hljs-keyword">new</span> S3Grantee { CanonicalUser = owner.Id },
            Permission = S3Permission.FULL_CONTROL
        };

        <span class="hljs-comment">// Describe the grant for the permission using an email address.</span>
        S3Grant grantUsingEmail = <span class="hljs-keyword">new</span> S3Grant
        {
            Grantee = <span class="hljs-keyword">new</span> S3Grantee { EmailAddress = emailAddress },
            Permission = S3Permission.WRITE_ACP
        };
        acl.Grants.AddRange(<span class="hljs-keyword">new</span> List&lt;S3Grant&gt; { fullControlGrant, grantUsingEmail });

        <span class="hljs-comment">// Set a new ACL.</span>
        PutACLResponse response = <span class="hljs-keyword">await</span> client.PutACLAsync(<span class="hljs-keyword">new</span> PutACLRequest
        {
            BucketName = bucketName,
            Key = keyName,
            AccessControlList = acl
        });
    }
    <span class="hljs-keyword">catch</span> (AmazonS3Exception amazonS3Exception)
    {
        Console.WriteLine(<span class="hljs-string">&quot;An AmazonS3Exception was thrown. Exception: &quot;</span> + amazonS3Exception.ToString());
    }
    <span class="hljs-keyword">catch</span> (Exception e)
    {
        Console.WriteLine(<span class="hljs-string">&quot;Exception: &quot;</span> + e.ToString());
    }
}
</code></pre>
<h3 id="bucket-operation-api">Bucket Operation API</h3>
<h4 id="bucket-create">Bucket Create</h4>
<pre><code class="lang-csharp"><span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">async</span> Task <span class="hljs-title">CreateBucketAsync</span>(<span class="hljs-params"></span>)
</span>{
    <span class="hljs-keyword">try</span>
    {
        PutBucketResponse response = <span class="hljs-keyword">await</span> client.PutBucketAsync(<span class="hljs-string">&quot;test-bucket-xxx&quot;</span>);
    }
    <span class="hljs-keyword">catch</span> (AmazonS3Exception e)
    {
        Console.WriteLine(<span class="hljs-string">&quot;Error encountered on server. Message:&apos;{0}&apos; when writing an object&quot;</span>, e.Message);
    }
    <span class="hljs-keyword">catch</span> (Exception e)
    {
        Console.WriteLine(<span class="hljs-string">&quot;Unknown encountered on server. Message:&apos;{0}&apos; when writing an object&quot;</span>, e.Message);
    }
}
</code></pre>
<h4 id="list-all-the-files-on-the-bucket">List all the Files on the Bucket</h4>
<pre><code class="lang-csharp"><span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">async</span> Task <span class="hljs-title">ListObjectsAsync</span>(<span class="hljs-params"></span>)
</span>{
    <span class="hljs-keyword">try</span>
    {
        <span class="hljs-comment">// List all objects</span>
        ListObjectsRequest listRequest = <span class="hljs-keyword">new</span> ListObjectsRequest
        {
            BucketName = <span class="hljs-string">&quot;test-bucket-xxx&quot;</span>,
            MaxKeys = <span class="hljs-number">10</span>,
        };

        ListObjectsResponse listResponse;
        <span class="hljs-keyword">do</span>
        {
            <span class="hljs-comment">// Get a list of objects</span>
            listResponse = client.ListObjectsAsync(listRequest).Result;
            <span class="hljs-keyword">foreach</span> (S3Object obj <span class="hljs-keyword">in</span> listResponse.S3Objects)
            {
                Console.WriteLine(<span class="hljs-string">&quot;key = {0} size = {1}&quot;</span>, obj.Key, obj.Size);
            }

            <span class="hljs-comment">// Set the marker property</span>
            listRequest.Marker = listResponse.NextMarker;
        } <span class="hljs-keyword">while</span> (listResponse.IsTruncated);
    }
    <span class="hljs-keyword">catch</span> (AmazonS3Exception e)
    {
        Console.WriteLine(<span class="hljs-string">&quot;Error encountered on server. Message:&apos;{0}&apos; when writing an object&quot;</span>, e.Message);
    }
    <span class="hljs-keyword">catch</span> (Exception e)
    {
        Console.WriteLine(<span class="hljs-string">&quot;Unknown encountered on server. Message:&apos;{0}&apos; when writing an object&quot;</span>, e.Message);
    }
}
</code></pre>
<h4 id="bucket-delete">Bucket Delete</h4>
<pre><code class="lang-csharp"><span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">async</span> Task <span class="hljs-title">DeleteBucketAsync</span>(<span class="hljs-params"></span>)
</span>{
    <span class="hljs-keyword">try</span>
    {
        <span class="hljs-keyword">var</span> response = <span class="hljs-keyword">await</span> client.DeleteBucketAsync(<span class="hljs-string">&quot;test-bucket-xxx&quot;</span>);
    }
    <span class="hljs-keyword">catch</span> (AmazonS3Exception e)
    {
        Console.WriteLine(<span class="hljs-string">&quot;Error encountered on server. Message:&apos;{0}&apos; when writing an object&quot;</span>, e.Message);
    }
    <span class="hljs-keyword">catch</span> (Exception e)
    {
        Console.WriteLine(<span class="hljs-string">&quot;Unknown encountered on server. Message:&apos;{0}&apos; when writing an object&quot;</span>, e.Message);
    }
}
</code></pre>
<h4 id="get-bucket-acl">Get Bucket ACL</h4>
<pre><code class="lang-csharp"><span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">async</span> Task <span class="hljs-title">GetBucketACLAsync</span>(<span class="hljs-params"><span class="hljs-keyword">string</span> bucketName</span>)
</span>{
    <span class="hljs-keyword">try</span>
    {
        GetACLResponse response = <span class="hljs-keyword">await</span> client.GetACLAsync(<span class="hljs-keyword">new</span> GetACLRequest
        {
            BucketName = <span class="hljs-string">&quot;test-bucket-xxx&quot;</span>
        });
        S3AccessControlList accessControlList = response.AccessControlList;
        Console.WriteLine(<span class="hljs-string">&quot;ID: {0}&quot;</span>, accessControlList.Owner.Id);
        <span class="hljs-keyword">foreach</span>(<span class="hljs-keyword">var</span> g <span class="hljs-keyword">in</span> accessControlList.Grants)
        {
            Console.WriteLine(<span class="hljs-string">&quot;Permission: {0}, {1}&quot;</span>, g.Permission.HeaderName, g.Permission.Value);
            Console.WriteLine(<span class="hljs-string">&quot;Grantee: {0}&quot;</span>, g.Grantee.CanonicalUser);
        }
    }
    <span class="hljs-keyword">catch</span> (AmazonS3Exception e)
    {
        Console.WriteLine(<span class="hljs-string">&quot;Error encountered on server. Message:&apos;{0}&apos; when writing an object&quot;</span>, e.Message);
    }
    <span class="hljs-keyword">catch</span> (Exception e)
    {
        Console.WriteLine(<span class="hljs-string">&quot;Unknown encountered on server. Message:&apos;{0}&apos; when writing an object&quot;</span>, e.Message);
    }
}
</code></pre>
<h4 id="set-bucket-acl">Set Bucket ACL</h4>
<pre><code class="lang-csharp"><span class="hljs-comment">// Set Canned ACL (PublicRead)</span>
client.PutACL(<span class="hljs-keyword">new</span> PutACLRequest
{
    BucketName = <span class="hljs-string">&quot;SampleBucket&quot;</span>,
    CannedACL = S3CannedACL.PublicRead
});

<span class="hljs-comment">// Set Canned ACL (PublicRead)</span>
client.PutACL(<span class="hljs-keyword">new</span> PutACLRequest
{
    BucketName = <span class="hljs-string">&quot;SampleBucket&quot;</span>,
    CannedACL = S3CannedACL.Private
});
</code></pre>
<h4 id="list-all-the-buckets">List all the Buckets</h4>
<pre><code class="lang-csharp"><span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">async</span> Task <span class="hljs-title">ListBucketsAsync</span>(<span class="hljs-params"><span class="hljs-keyword">string</span> bucketName</span>)
</span>{
    <span class="hljs-keyword">var</span> response = client.ListBucketsAsync().Result;
    <span class="hljs-keyword">foreach</span> (<span class="hljs-keyword">var</span> bucket <span class="hljs-keyword">in</span> response.Buckets)
    {
        Console.WriteLine(bucket.BucketName);
    }
}
</code></pre>
<p>The link of the official AWS SDK for Dotnet: <a href="https://aws.amazon.com/cn/sdk-for-net/" target="_blank">aws-sdk-dotnet</a></p>
<p>The link of API documentation: <a href="https://docs.aws.amazon.com/sdkfornet/v3/apidocs/Index.html" target="_blank">api-reference</a></p>
<h2 id="constraint-and-limitation">Constraint and limitation</h2>
<ul>
<li><p>Coding restriction</p>
</li>
<li><p>Bucket name, object key, meta, ACL, etc. only supports UTF-8 encoding</p>
</li>
<li><p>The URL to access the resource should be encoded by rawurlencode</p>
</li>
<li><p>Object key needs to be encoded by rawurlencode except &quot;/&quot;</p>
</li>
<li><p>Naming rule</p>
</li>
</ul>
<p>The name of bucket and object in API shall comply with the following rules:</p>
<p>Bucket name:</p>
<ul>
<li><p>It is unique in cloud storage</p>
</li>
<li><p>It is composed of the lowercase letter, the number and the character &quot;-&quot; and the length should be from 6 to 63 digits;</p>
</li>
<li><p>Cannot start with the number and the character &apos;-&apos;&#xFF1B;</p>
</li>
<li><p>Cannot start or end with &apos;-&apos;&#xFF1B;</p>
</li>
<li><p>Or use the domain name, such as xxx.foo.com.cn, which is convenient for binding your domain name</p>
</li>
</ul>
<p>Object name:</p>
<ul>
<li><p>The length of the key cannot exceed 512 bytes&#xFF1B;</p>
</li>
<li><p>The key excepts &quot;/&quot; should be encoded by rawurlencode</p>
</li>
</ul>
<p>&#xFEFF;</p>
<h2 id="signature-algorithm">Signature algorithm</h2>
<ul>
<li>If the HTTP request does not carry the identity information (AccessKey), the request will be changed to an anonymous request, which will be considered by an anonymous user.</li>
<li>If the identity information is carried in the HTTP request (AccessKey), the request will be considered by the user who is corresponding to the access Key. Since the AccessKey can be obtained by others, in order to prevent others from using your accessKey to access the service, your signature must also be carried in the request. After applying for an account, you will get the AccessKey and Secret key, which need to be kept confidential. The signature will be calculated by the HTTP request Information and your secret key so that others do not know your secret key, they will not be able to calculate the correct signature.</li>
<li>The identity information and signature can be put in the request header &#xFF08;Authorization&#xFF09;or in the request parameters.</li>
<li>The signature method is compatible with Amazon S3 and supports signature version 2 and signature version 4.</li>
</ul>
<h2 id="add-signature">Add Signature</h2>
<blockquote>
<p>Since the process of calculating the signature is cumbersome and error-prone, it is not recommended to calculate the signature by yourself. It is recommended to use the SDKs. The SDK can automatically calculate the signature.</p>
</blockquote>
<h3 id="add-version-2-signature">Add version 2 Signature</h3>
<h4 id="carrying-method-of-identity-information-and-signature">Carrying method of identity information and signature:</h4>
<h5 id="request-header-via-authorization">Request header via Authorization:</h5>
<p>Request header format:</p>
<pre><code>Authorization: AWS AWSAccessKeyId:Signature
</code></pre><ul>
<li>AWSAccessKeyId: your AccessKey</li>
<li>Signature: calculated signature</li>
</ul>
<pre><code>Authorization: AWS ziw5dp1alvty9n47qksu:frJIUN8DYpKDtOLCwo//yllqDzg=
</code></pre><h5 id="request-parameters">Request parameters:</h5>
<p>You need to include the following three parameters in the request:</p>
<ul>
<li>Awsaccesskeyid: To specify your AccessKey</li>
<li>Signature: calculated signature</li>
<li>Expires: Specifies the expiration time of the signature</li>
</ul>
<p>Example:</p>
<pre><code>GET /yourbucket/yourkey?AWSAccessKeyId=ziw5dp1alvty9n47qksu&amp;Expires=1141889120&amp;Signature=vjbyPxybdZaNmGa%2ByT272YEAiv4%3D
</code></pre><h4 id="signature-calculation-method">Signature calculation method</h4>
<pre><code>Signature = Base64( HMAC-SHA1( YourSecretKey, UTF-8-Encoding-Of( StringToSign ) ) )

StringToSign = HTTP-Verb + &quot;\n&quot; +

Content-MD5 + &quot;\n&quot; +

Content-Type + &quot;\n&quot; +

Date|Expires + &quot;\n&quot; +

CanonicalizedAmzHeaders +

CanonicalizedResource
</code></pre><ul>
<li>Yoursecretkey: To fill in it with your Secretkey</li>
<li>HTTP-Verb: The request method, such as PUT, GET, DELETE, POST</li>
<li>Content-MD5: The request header of the content-MD5. If there is no such header, please fill in it with an empty string</li>
<li>Content-Type: The request header of the content-Type. If there is no such header, please fill in it with an empty string</li>
<li>Date|Expires: If the Authorization header is used to be as the content of the Date header. please fill in it with an empty string when there is no the Date Header. If the request parameter is used to carry the signature information, it will be the content of the Expires.</li>
<li>CanonicalizedAmzHeaders: The string composed of all headers starting with x-amz - in the request. If there is no such header, please fill in it with an empty string.</li>
<li>CanonicalizedResource: The Resource which is corresponding to the request.</li>
</ul>
<p>Example of calculating the Canonicalizedamzheaders:</p>
<p>Original request header:</p>
<pre><code>Date: Tue, 27 Mar 2007 19:36:42 +0000
X-Amz-b:   Bar
x-amz-a: foob
x-Amz-a:   fooa
Host: johnsmith.s3.amazonaws.com

The corresponding CanonicalizedAmzHeaders is&#xFF1A;
x-amz-a:fooa,foob
x-amz-b:Bar
</code></pre><blockquote>
<p>Note:</p>
<ol>
<li>All the request header names are converted to lowercase and sorted by the converted header name. 2. If the duplicate headers appeared, please merge them, such as separating the value by commas and sorting them. 3. Remove the spaces before and after the value.</li>
</ol>
</blockquote>
<p>Example of calculating Canonicalizedresource:</p>
<pre><code>GET /?foo=bar

GET /yourbucket/yourkey?foo=bar

GET /yourbucket/yourkey?acl&amp;foo=bar

The corresponding nicalizedresources are:

&#xFF0F;

/yourbucket/yourkey

/yourbucket/yourkey?acl
</code></pre><p>If you want to know the completed signature calculation process, please refer to the following links:</p>
<ul>
<li><a href="http://docs.aws.amazon.com/AmazonS3/latest/dev/RESTAuthentication.html" target="_blank">http://docs.aws.amazon.com/AmazonS3/latest/dev/RESTAuthentication.html</a></li>
<li><a href="http://docs.aws.amazon.com/general/latest/gr/signature-version-2.html" target="_blank">http://docs.aws.amazon.com/general/latest/gr/signature-version-2.html</a></li>
</ul>
<h3 id="add-version-4-signature">Add version 4 Signature:</h3>
<h4 id="carrying-method-of-identity-information-and-signature">Carrying method of identity information and signature:</h4>
<h5 id="through-the-authorization-header">Through the Authorization header:</h5>
<p>example:</p>
<pre><code>Authorization:AWS4HMACSHA256Credential=ziw5dp1alvty9n47qksu/20160830/useast-1/s3/aws4\_request, SignedHeaders=content-type;host;xamzdate,Signature=5d672d79c15b13162d9279b0855cfba6789a8edb4c82c400e06b5924a6f2b5d7
</code></pre><ul>
<li>Credential consists of AccessKey, the requested date, region, service name, and aws4_ Request, which is separated by slashes</li>
<li>SignedHeaders: Indicates which header participates in the calculation of the signature. Headers not included here will not affect the generation of the signature</li>
<li>Signature: Calculated signature</li>
</ul>
<h5 id="through-request-parameters">Through request parameters:</h5>
<p>The following parameters need to be added to the request:</p>
<ul>
<li>X-Amz-Algorithm: The hash algorithm used to calculate the signature which is AWS4-HMAC-SHA256</li>
<li>X-Amz-Credential: It contains the information of AccessKey, date, region, and service name</li>
<li>X-Amz-Date: Requested time</li>
<li>X-Amz-Expires: Specify the expired time of the signature</li>
<li>X-Amz-SignedHeaders: The header which is used to calculate the signature</li>
<li>X-Amz-Signature: Calculated signature</li>
</ul>
<p>Example:</p>
<pre><code>GET /yourbucket/test.mp4??X-Amz-Algorithm=AWS4-HMAC-SHA256&amp;&amp;X-Amz-Credential=ziw5dp1alvty9n47qksu/20160830/us-east-1/s3/aws4\_request&amp;X-Amz-Date=20160830T201207Z&amp;X-Amz-Expires=86400&amp;X-Amz-SignedHeaders=host&amp;X-Amz-Signature=5d672d79c15b13162d9279b0855cfba6789a8edb4c82c400e06b5924a6f2b5d7
</code></pre><h4 id="signature-calculation-method">Signature calculation method:</h4>
<p>Calculate CanonicalRequest</p>
<pre><code>CanonicalRequest =

HTTPRequestMethod + &apos;\n&apos; +

CanonicalURI + &apos;\n&apos; +

CanonicalQueryString + &apos;\n&apos; +

CanonicalHeaders + &apos;\n&apos; +

SignedHeaders + &apos;\n&apos; +

HexEncode(Hash(RequestPayload))
</code></pre><ul>
<li>HTTPRequestMethod: PUT, GET, DELETE, POST</li>
<li>CanonicalURI: Requested URI</li>
<li>CanonicalQueryString: The string formed after sorting the request parameters</li>
<li>CanonicalHeaders: The string formed after sorting the header needs to be added to the signature calculation</li>
<li>SignedHeaders&#xFF1A;A list of names added to the header of the signature calculation, separated by commas</li>
<li>HexEncode(Hash(RequestPayload))&#xFF1A; The hexadecimal encoding of the hash of the request body. If the signature is carried through the request parameters, the string unsigned-payload should be used instead</li>
</ul>
<p>Calculate StringToSign</p>
<pre><code>StringToSign  =

Algorithm + &apos;\n&apos; +

RequestDate + &apos;\n&apos; +

CredentialScope + &apos;\n&apos; +

HashedCanonicalRequest
</code></pre><ul>
<li>Algorithm: AWS4-HMAC-SHA256</li>
<li>RequestDate: ISO8601 basic Request time in format, e.g:20160830T123600Z</li>
<li>CredentialScope: A string consisting of date, region, service name, etc., such as 20160830/us-east-1/s3/aws4_request</li>
<li>HashedCanonicalRequest: Hex(SHA256Hash(CanonicalRequest)), That is, the hexadecimal encoding of the hash of canonicalrequest</li>
</ul>
<p>Calculation signing key</p>
<pre><code>kSecret = YourSecretKey
kDate = HMAC(&quot;AWS4&quot; + kSecret, Date)
kRegion = HMAC(kDate, Region)
kService = HMAC(kRegion, Service)
kSigning = HMAC(kService, &quot;aws4\_request&quot;)
</code></pre><ul>
<li>YourSecretKey: your SecretKey</li>
<li>Date&#xFF1A;The 8-digit date should be the same as the date part in credentail</li>
<li>Region&#xFF1A;It should be the same as the region section in credential</li>
<li>Service: It should be the same as the service name part in credential</li>
</ul>
<p>Calculate signature</p>
<pre><code>signature = HexEncode(HMAC-SHA256(kSigning, StringToSign))
</code></pre><p>If you want to know the complete and detailed signature calculation process, please refer to the following connection:</p>
<ul>
<li><a href="http://docs.aws.amazon.com/AmazonS3/latest/API/sig-v4-authenticating-requests.html" target="_blank">http://docs.aws.amazon.com/AmazonS3/latest/API/sig-v4-authenticating-requests.html</a></li>
<li><a href="http://docs.aws.amazon.com/general/latest/gr/signature-version-4.html" target="_blank">http://docs.aws.amazon.com/general/latest/gr/signature-version-4.html</a></li>
</ul>
<h3 id="aclaccess-control-list">ACL(Access Control List)</h3>
<hr>
<p>Access control lists (ACL) enable you to manage access to buckets and objects. Each bucket and object has an additional ACL sub resource. It defines which users or groups will be granted access rights. After receiving a request for a resource (bucket or object), S2 will check the corresponding ACL to verify whether the requester has the required access rights.</p>
<p>When creating a bucket or object, S2 will create a default ACL to grant the resource owner full control over the resource, as shown in the following example bucket ACL.</p>
<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;AccessControlPolicy xmlns=&quot;http://s3.amazonaws.com/doc/2006-03-01/&quot;&gt;
    &lt;Owner&gt;
        &lt;ID&gt;*** Owner-Canonical-User-ID ***&lt;/ID&gt;
        &lt;DisplayName&gt;owner-display-name&lt;/DisplayName&gt;
    &lt;/Owner&gt;
    &lt;AccessControlList&gt;
        &lt;Grant&gt;
            &lt;Grantee xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:type=&quot;Canonical User&quot;&gt;
                &lt;ID&gt;*** Owner-Canonical-User-ID ***&lt;/ID&gt;
                &lt;DisplayName&gt;display-name&lt;/DisplayName&gt;
            &lt;/Grantee&gt;
            &lt;Permission&gt;FULL_CONTROL&lt;/Permission&gt;
        &lt;/Grant&gt;
    &lt;/AccessControlList&gt;

&lt;/AccessControlPolicy&gt;
</code></pre><p>The example ACL contains an owner element that represents the user name of the resource owner. The grant element represents the authorized person (user or predefined group) and the permissions granted. You can grant permissions by adding the grant element.</p>
<h4 id="grantee">Grantee</h4>
<p>The authorized person can be an S2 user or a predefined S2 group. You can grant permissions to a user by email address or user name. However, if you set an email address in the authorization request, S2 will find the user name corresponding to the email and add it to the ACL. The generated ACL will always contain the S2 user&apos;s user name, not the user&apos;s email address.</p>
<h4 id="s2-predefined-groups">S2 predefined groups</h4>
<p>S2 has a series of predefined groups. When granting user access to a group, you can specify a URI instead of a user name. We provide the following predefined groups:</p>
<ul>
<li><p>All Users group, identified by <a href="http://acs.amazonaws.com/groups/global/AllUsers" target="_blank">http://acs.amazonaws.com/groups/global/AllUsers</a>. The access rights of this group allow anyone to access the resource. Requests can be signed (authenticated) or unsigned (anonymous).</p>
</li>
<li><p>Log Delivery group, identified by <a href="http://acs.amazonaws.com/groups/s3/LogDelivery" target="_blank">http://acs.amazonaws.com/groups/s3/LogDelivery</a>, the WRITE permission on the storage bucket allows this group to write server access logs to the storage bucket.</p>
</li>
</ul>
<h4 id="specify-the-permissions-of-the-authorized-person">Specify the permissions of the authorized person</h4>
<p>The following table lists the permission sets supported by S2 in ACL and its meaning in the context of operation resources.</p>
<table class="table table-condensed">
        <thead>
          <tr>
            <th>Permission</th>
            <th>When authorizing on the storage bucket</th>
            <th>When authorizing on an object</th>
          </tr>
        </thead>
        <tbody>

          <tr>
            <td>READ</td>
            <td>The authorizer is allowed to list all objects in the bucket</td>
            <td>Allow the authorized person to read the data and meta information of the object</td>
          </tr>
          <tr>
            <td>WRITE</td>
            <td>Allows authorized persons to create, overwrite, and delete objects in buckets</td>
            <td>Not available</td>
          </tr>

          <tr>
            <td>READ_ACP</td>
            <td>Allow authorized persons to read buckets ACL</td>
            <td>&#x5141;&#x8BB8;&#x88AB;&#x6388;&#x6743;&#x8005;&#x8BFB;&#x53D6;&#x5BF9;&#x8C61;&#x7684;ACL</td>
          </tr>
          <tr>
            <td>WRITE_ACP</td>
            <td>Allows the authorized person to modify the ACL of the bucket</td>
            <td>Allows the authorized person to modify the ACL of an object</td>
          </tr>
          <tr>
            <td>FULL_CONTROL</td>
            <td>Allow the authorized person to READ&#x3001;WRITE&#x3001;READ_ACP and WRITE_ACPpermissions</td>
            <td>Allow the authorized person on the objectREAD&#x3001;READ_ACP &#x548C;WRITE_ACP permissions</td>
          </tr>
        </tbody>
</table>

<h4 id="canned-acl">Canned ACL</h4>
<p>S2 supports a series of predefined authorizations, called standard ACLs. each standard ACL has a predefined set of authorized persons and permissions. The following table lists a set of standard ACLs and the associated predefined authorizations.</p>
<table class="table table-condensed">
        <thead>
          <tr>
            <th>Canned ACL</th>
            <th>Applicable for</th>
            <th>Corresponding ACL permissions</th>
          </tr>
        </thead>
        <tbody>

          <tr>
            <td>private</td>
            <td>Buckets and objects</td>
            <td>The owner will get  FULL_CONTROL&#x3002;Others do not have access (default).</td>
          </tr>
          <tr>
            <td>public-read</td>
            <td>Buckets and objects</td>
            <td>The owner will get FULL_CONTROL&#x3002;Anonymous users have READpermissions</td>
          </tr>
          <tr>
            <td>public-read-write</td>
            <td>Buckets and objects</td>
            <td>The owner will get FULL_CONTROL&#x3002;AllUsers have READ, WRITEpermissions,Object no WRITE permissions</td>
          </tr>
          <tr>
            <td>authenticated-read</td>
            <td>Buckets and objects</td>
            <td>The owner will get FULL_CONTROL&#x3002;AuthenticatedUsers have READ</td>
          </tr>
       </tbody>
</table>

<h4 id="how-to-specify-acl">How to specify ACL</h4>
<p>The S2 API allows you to set ACL when creating buckets or objects. S2 also provides an API to set ACL on existing buckets or objects. These APIs provide you with the following methods to set ACL:</p>
<ul>
<li><p>Set ACL with request header - When sending a request to create a resource (bucket or object), you can use the x-amz-acl header to set the Canned acl, or the x-amz-grant-* header to set the permissions for a user or group.</p>
</li>
<li><p>Set ACL using ACL API - When you send a request to set an ACL on an existing resource, you can set the ACL in the request header or body, such as the put_object_acl API</p>
</li>
</ul>
<p><b>Attention</b>:</p>
<ul>
<li>x-amz-acl and x-amz-grant-* cannot be specified at the same time, both of them return 400 errors</li>
<li>If x-amz-acl or x-amz-grant-* request header is specified in the put_object_acl API, the ACL in the body is ignored.</li>
</ul>
<h4 id="x-amz-grant--request-header-type">x-amz-grant-* request header type</h4>
<p>x-amz-grant-<em> the value of the request header is in the form of a type = value , each tpye = value is separated by commas. Multiple x-amz-grant-</em> request headers can be specified in the same request. The allowed types are:</p>
<ul>
<li>emailAddress, User&apos;s email address</li>
<li>id, user name</li>
<li>uri, Uri for predefined user groups</li>
</ul>
<table class="table table-condensed">
        <thead>
          <tr>
            <th>Name</th>
            <th>Description</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>x-amz-grant-read</td>
            <td>Permission to allow the authorizer to READ</td>
          </tr>
          <tr>
            <td>x-amz-grant-write</td>
            <td>Permission to allow the authorizer to WRITE</td>
          </tr>
          <tr>
            <td>x-amz-grant-read-acp</td>
            <td>Permission to allow the authorizer to READ_ACP</td>
          </tr>
          <tr>
            <td>x-amz-grant-write-acp</td>
            <td>Permission to allow the authorizer to WRITE_ACP</td>
          </tr>
          
          <tr>
            <td>x-amz-grant-full-control</td>
            <td>Permission to allow the authorizer to READ, WRITE, READ_ACP, WRITE_ACP</td>
            </tr>
       </tbody>
</table>

<p>Example:</p>
<pre><code>x-amz-grant-read: emailAddress=&quot;xyz@amazon.com&quot;, emailAddress=&quot;abc@amazon.com&quot;
</code></pre><h2 id="service-operations">Service Operations</h2>
<hr>
<h3 id="get-service-list-buckets">GET Service (List Buckets)</h3>
<ul>
<li><p>Description: get the list of all buckets under the current owner.</p>
</li>
<li><p>Request Syntax</p>
</li>
</ul>
<pre><code class="lang-http"><span class="hljs-keyword">GET</span> <span class="hljs-string">/?formatter=json</span> HTTP/1.1
<span class="hljs-attribute">Host</span>: ss.bscstorage.com
<span class="hljs-attribute">Date</span>: &lt;date&gt;
<span class="hljs-attribute">Authorization</span>: &lt;authorization string&gt; # Please refer to &#x2018;Signature algorithm&#x2019;
</code></pre>
<p>or</p>
<pre><code class="lang-http"><span class="hljs-keyword">GET</span> <span class="hljs-string">/&lt;Your-Bucket-Name&gt;/?formatter=json</span> HTTP/1.1
<span class="hljs-attribute">Host</span>: ss.bscstorage.com
<span class="hljs-attribute">Date</span>: &lt;date&gt;
<span class="hljs-attribute">Authorization</span>: &lt;authorization string&gt; #Please refer to signature algorithm
</code></pre>
<ul>
<li>Request Syntax&#xFF08;HTTP Body&#xFF09;&#xFF1A;</li>
</ul>
<pre><code class="lang-json">{
    <span class="hljs-string">&quot;Owner&quot;</span>: {
        <span class="hljs-string">&quot;DisplayName&quot;</span>: <span class="hljs-string">&quot;&quot;</span>,
        <span class="hljs-string">&quot;ID&quot;</span>: <span class="hljs-string">&quot;Baishan0000001234567890&quot;</span>
    },

    <span class="hljs-string">&quot;Buckets&quot;</span>: {
        <span class="hljs-string">&quot;Bucket&quot;</span>: [
            {
                <span class="hljs-string">&quot;CreationDate&quot;</span>: <span class="hljs-string">&quot;Fri, 21 Mar 2014 01:13:42 UTC&quot;</span>,
                <span class="hljs-string">&quot;Name&quot;</span>: <span class="hljs-string">&quot;bucket_name_0&quot;</span>
            },
            {
                <span class="hljs-string">&quot;CreationDate&quot;</span>: <span class="hljs-string">&quot;Fri, 12 Mar 2013 02:25:22 UTC&quot;</span>,
                <span class="hljs-string">&quot;Name&quot;</span>: <span class="hljs-string">&quot;bucket_name_1&quot;</span>
            },

            ...
        ]
    }
}
</code></pre>
<ul>
<li>Return value Description:</li>
</ul>
<table class="table table-condensed">
        <thead>
          <tr>
            <th>Name</th>
            <th>Description</th>
          </tr>
        </thead>
        <tbody>

          <tr>
            <td>Owner</td>
            <td>owner</td>
          </tr>

          <tr>
            <td>DisplayName</td>
            <td>Display name of the owner</td>
          </tr>

          <tr>
            <td>ID</td>
            <td>Owner&apos;s UserId</td>
          </tr>

          <tr>
            <td>Buckets</td>
            <td>Containers for multiple buckets</td>
          </tr>

          <tr>
            <td>Bucket</td>
            <td>Bucket container for information</td>
          </tr>

          <tr>
            <td>CreationDate</td>
            <td>Current bucket creation date</td>
          </tr>

          <tr>
            <td>Name</td>
            <td>Bucket name</td>
          </tr>

        </tbody>
</table>

<ul>
<li>Request example:</li>
</ul>
<pre><code>curl -v -H &quot;Date: Sat, 20 Nov 2286 17:46:39 GMT&quot; -H &quot;Authorization: Baishan &lt;access_key&gt;:&lt;ssig&gt;&quot; &quot;http://ss.bscstorage.com/?formatter=json&quot;
</code></pre><p>or</p>
<pre><code>curl -v &quot;http://ss.bscstorage.com/?KID=baishan,&lt;access_key&gt;&amp;Expires=1398873316&amp;ssig=&lt;ssig&gt;&amp;formatter=json&quot;
</code></pre><ul>
<li>Request example&#xFF1A;</li>
</ul>
<pre><code class="lang-http">HTTP/1.1 <span class="hljs-number">200</span> OK
<span class="hljs-attribute">Server</span>: openresty/1.9.7.4
<span class="hljs-attribute">Date</span>: Mon, 08 Aug 2016 04:04:52 GMT
<span class="hljs-attribute">Content-Type</span>: application/json
<span class="hljs-attribute">Connection</span>: keep-alive
<span class="hljs-attribute">Content-Length</span>: 155
<span class="hljs-attribute">x-amz-s2-requester</span>: your user id
<span class="hljs-attribute">x-amz-request-id</span>: 000011e5-1608-0812-0452-00163e0069ec

<span class="json">{
    <span class="hljs-attr">&quot;Owner&quot;</span>: {
        <span class="hljs-attr">&quot;DisplayName&quot;</span>: <span class="hljs-string">&quot;&quot;</span>,
        <span class="hljs-attr">&quot;ID&quot;</span>: <span class="hljs-string">&quot;Baishan0000001234567890&quot;</span>
    },
    <span class="hljs-attr">&quot;Buckets&quot;</span>: {
        <span class="hljs-attr">&quot;Bucket&quot;</span>: [
            {
                <span class="hljs-attr">&quot;CreationDate&quot;</span>: <span class="hljs-string">&quot;Mon, 08 Aug 2016 03:15:40 UTC&quot;</span>,
                <span class="hljs-attr">&quot;Name&quot;</span>: <span class="hljs-string">&quot;bucket_name_0&quot;</span>
            },
            {
                <span class="hljs-attr">&quot;CreationDate&quot;</span>: <span class="hljs-string">&quot;Mon, 08 Aug 2016 03:15:40 UTC&quot;</span>,
                <span class="hljs-attr">&quot;Name&quot;</span>: <span class="hljs-string">&quot;bucket_name_1&quot;</span>
            },

         ...
        ]
    }
}
</span></code></pre>
<h2 id="bucket-operations">Bucket Operations</h2>
<hr>
<h3 id="get-bucket-list-objects">GET Bucket (List Objects)</h3>
<ul>
<li><p>Description: get all objects under the bucket.</p>
</li>
<li><p>Request Syntax:</p>
</li>
</ul>
<pre><code class="lang-http"><span class="hljs-keyword">GET</span> <span class="hljs-string">/?formatter=json</span> HTTP/1.1
<span class="hljs-attribute">Host</span>: &lt;Your-Bucket-Name&gt;.ss.bscstorage.com
<span class="hljs-attribute">Date</span>: &lt;date&gt;
<span class="hljs-attribute">Authorization</span>: &lt;authorization string&gt; #Please refer to signature algorithm
</code></pre>
<p>or</p>
<pre><code class="lang-http"><span class="hljs-keyword">GET</span> <span class="hljs-string">/&lt;Your-Bucket-Name&gt;/?formatter=json</span> HTTP/1.1
<span class="hljs-attribute">Host</span>: ss.bscstorage.com
<span class="hljs-attribute">Date</span>: &lt;date&gt;
<span class="hljs-attribute">Authorization</span>: &lt;authorization string&gt; #Please refer to signature algorithm
</code></pre>
<ul>
<li>Request parameters:</li>
</ul>
<table class="table table-condensed">
        <thead>
          <tr>
            <th>Parameter</th>
            <th>Description</th>
            <th>Required</th>
          </tr>
        </thead>
        <tbody>

          <tr>
            <td>delimiter</td>
            <td>Folded display characters. Usually use&#xFF1A;&#x2018;/&#x2019;</td>
            <td>No</td>
          </tr>

          <tr>
            <td>marker</td>
            <td>The initial position of the Key, the system will list the value larger than the Key, usually used as a &apos;paging&apos; scenario</td>
            <td>No</td>
          </tr>

          <tr>
            <td>max-keys</td>
            <td>The default maximum number of Key value is 400</td>
            <td>No</td>
          </tr>

          <tr>
            <td>prefix</td>
            <td>List the Keys that start with the specified character</td>
            <td>No</td>
          </tr>


        </tbody>
    </table>

<p>Example of response format&#xFF08;HTTP Body&#xFF09;&#xFF1A;</p>
<pre><code class="lang-json">{

    Delimiter: <span class="hljs-string">&quot;/&quot;</span>,

    Prefix: <span class="hljs-string">&quot;html/&quot;</span>,

    CommonPrefixes: [

        {
            Prefix: <span class="hljs-string">&quot;html/assets/&quot;</span>
        },

        {
            Prefix: <span class="hljs-string">&quot;html/attributions/&quot;</span>
        },

        {
            Prefix: <span class="hljs-string">&quot;html/documentation/&quot;</span>
        },

        ...
    ],

    Marker: <span class="hljs-literal">null</span>,

    ContentsQuantity: <span class="hljs-number">5</span>,

    CommonPrefixesQuantity: <span class="hljs-number">3</span>,

    NextMarker: <span class="hljs-literal">null</span>,

    IsTruncated: <span class="hljs-literal">false</span>,

    Contents: [

        {
            SHA1: <span class="hljs-string">&quot;9fc710aa89efbe42020b0310d16a07449bf06131&quot;</span>,
            Name: <span class="hljs-string">&quot;html/coming-soon.html&quot;</span>,
            Expiration-Time: <span class="hljs-literal">null</span>,
            Last-Modified: <span class="hljs-string">&quot;Fri, 21 Mar 2014 01:50:46 UTC&quot;</span>,
            Owner: <span class="hljs-string">&quot;Baishan0000000000000001&quot;</span>,
            MD5: <span class="hljs-string">&quot;934d922cac80449ee361cefeb3276b3e&quot;</span>,
            Content-Type: <span class="hljs-string">&quot;text/html&quot;</span>,
            Size: <span class="hljs-number">8781</span>
        },

        {
            SHA1: <span class="hljs-string">&quot;a9625a128263f05e331f6d78add9bd15911c3565&quot;</span>,
            Name: <span class="hljs-string">&quot;html/ebook.html&quot;</span>,
            Expiration-Time: <span class="hljs-literal">null</span>,
            Last-Modified: <span class="hljs-string">&quot;Fri, 21 Mar 2014 01:50:47 UTC&quot;</span>,
            Owner: <span class="hljs-string">&quot;Baishan0000000000000001&quot;</span>,
            MD5: <span class="hljs-string">&quot;cb7ed943ead4aeb513aa8c0b76865a8b&quot;</span>,
            Content-Type: <span class="hljs-string">&quot;text/html&quot;</span>,
            Size: <span class="hljs-number">18734</span>
        },

        ...
    ]
}
</code></pre>
<ul>
<li>Return value Description:</li>
</ul>
<table class="table table-condensed">
        <thead>
          <tr>
            <th>Name</th>
            <th>Description</th>
          </tr>
        </thead>
        <tbody>

          <tr>
            <td>Contents</td>
            <td>Metadata array of object</td>
          </tr>

          <tr>
            <td>CommonPrefixes</td>
            <td>After folding the prefix, the next level is the prefix array</td>
          </tr>

          <tr>
            <td>Delimiter</td>
            <td>Currently used collapse character</td>
          </tr>

          <tr>
            <td>Prefix</td>
            <td>Currently used prefix</td>
          </tr>

          <tr>
            <td>Marker</td>
            <td>Currently used marker</td>
          </tr>

          <tr>
            <td>ContentsQuantity</td>
            <td>Number of elements in contents</td>
          </tr>

          <tr>
            <td>CommonPrefixesQuantity</td>
            <td>Number of elements in Common Prefixes</td>
          </tr>

          <tr>
            <td>NextMarker</td>
            <td>Marker on next page</td>
          </tr>

          <tr>
            <td>IsTruncated</td>
            <td>Is there another page</td>
          </tr>

          <tr>
            <td>SHA1</td>
            <td>SHA1 value of file content</td>
          </tr>

          <tr>
            <td>Name</td>
            <td>Key (file name) of object</td>
          </tr>

          <tr>
            <td>Last-Modified</td>
            <td>Last modification time of object</td>
          </tr>

          <tr>
            <td>Owner</td>
            <td>Owner of the object</td>
          </tr>

          <tr>
            <td>MD5</td>
            <td>MD5 value of file content</td>
          </tr>

          <tr>
            <td>Content-Type</td>
            <td>MIME-type of the file</td>
          </tr>

          <tr>
            <td>Size</td>
            <td>File size (bytes)</td>
          </tr>

        </tbody>
    </table>

<ul>
<li>Example: </li>
</ul>
<p>If there are some files as follows under a bucket (for convenience, they are not displayed in the JSON format, only show some useful information, the same below):</p>
<pre><code>join/mailaddresss.txt
join/mycodelist.txt
join/personalfiles/connects.docx
join/personalfiles/myphoto.jpg
join/readme.txt
join/userlist.txt
join/zero.txt
mary/personalfiles/mary.jpg
mary/readme.txt
sai/readme.txt
</code></pre><p>Use prefix to specify files starting with join /</p>
<pre><code class="lang-http"><span class="hljs-keyword">GET</span> <span class="hljs-string">/?prefix=join/&amp;formatter=json</span> HTTP/1.1
<span class="hljs-attribute">Host</span>: &lt;Your-Bucket-Name&gt;.ss.bscstorage.com
<span class="hljs-attribute">Date</span>: &lt;date&gt;
<span class="hljs-attribute">Authorization</span>: &lt;authorization string&gt; #Please refer to signature algorithm
</code></pre>
<p>return:</p>
<pre><code>Contents:
    join/mailaddresss.txt
    join/mycodelist.txt
    join/personalfiles/connects.docx
    join/personalfiles/myphoto.jpg
    join/readme.txt
    join/userlist.txt
    join/zero.txt
</code></pre><p>Use the delimiter to specify that the collapse method is &apos;/&apos;&#xFF1A;</p>
<pre><code class="lang-http"><span class="hljs-keyword">GET</span> <span class="hljs-string">/?delimiter=/&amp;formatter=json</span> HTTP/1.1
<span class="hljs-attribute">Host</span>: &lt;Your-Bucket-Name&gt;.ss.bscstorage.com
<span class="hljs-attribute">Date</span>: &lt;date&gt;
<span class="hljs-attribute">Authorization</span>: &lt;authorization string&gt; #Please refer to signature algorithm
</code></pre>
<p>return&#xFF1A;</p>
<pre><code>Contents:

CommonPrefix:
    join
    mary
    sai
</code></pre><p>Use prefix to specify the file starting with join /, and use delimiter to specify the folding method as &apos;/&apos;&#xFF1A;</p>
<pre><code class="lang-http"><span class="hljs-keyword">GET</span> <span class="hljs-string">/?prefix=join/&amp;delimiter=/&amp;formatter=json</span> HTTP/1.1
<span class="hljs-attribute">Host</span>: &lt;Your-Bucket-Name&gt;.ss.bscstorage.com
<span class="hljs-attribute">Date</span>: &lt;date&gt;
<span class="hljs-attribute">Authorization</span>: &lt;authorization string&gt; #&#x8BF7;&#x53C2;&#x7167;&#x300A;&#x7B7E;&#x540D;&#x7B97;&#x6CD5;&#x300B;
</code></pre>
<p>return&#xFF1A;</p>
<pre><code>Contents:
    join/mailaddresss.txt
    join/mycodelist.txt
    join/readme.txt
    join/userlist.txt
    join/zero.txt
CommonPrefix:
    join/personalfiles/
</code></pre><p>Use max-keys to limit the maximum list length:</p>
<pre><code class="lang-http"><span class="hljs-keyword">GET</span> <span class="hljs-string">/?prefix=join/&amp;delimiter=/&amp;max-keys=4&amp;formatter=json</span> HTTP/1.1
<span class="hljs-attribute">Host</span>: &lt;Your-Bucket-Name&gt;.ss.bscstorage.com
<span class="hljs-attribute">Date</span>: &lt;date&gt;
<span class="hljs-attribute">Authorization</span>: &lt;authorization string&gt; #&#x8BF7;&#x53C2;&#x7167;&#x300A;&#x7B7E;&#x540D;&#x7B97;&#x6CD5;&#x300B;
</code></pre>
<p>return&#xFF1A;</p>
<pre><code>IsTruncated : true
Next-Marker : join/userlist.txt
Contents:
    join/mailaddresss.txt
    join/mycodelist.txt
    join/readme.txt
CommonPrefix:
    join/personalfiles/
</code></pre><p>Use marker to continue to get the subsequent results of the previous column operations&#xFF1A;</p>
<pre><code class="lang-http"><span class="hljs-keyword">GET</span> <span class="hljs-string">/?prefix=join/&amp;delimiter=/&amp;max-keys=4&amp;marker=join/userlist.txt&amp;formatter=json</span> HTTP/1.1
<span class="hljs-attribute">Host</span>: &lt;Your-Bucket-Name&gt;.ss.bscstorage.com
<span class="hljs-attribute">Date</span>: &lt;date&gt;
<span class="hljs-attribute">Authorization</span>: &lt;authorization string&gt; #&#x8BF7;&#x53C2;&#x7167;&#x300A;&#x7B7E;&#x540D;&#x7B97;&#x6CD5;&#x300B;
</code></pre>
<p>return&#xFF1A;</p>
<pre><code>IsTruncated : false
Contents:
    join/userlist.txt
    join/zero.txt
</code></pre><h3 id="put-bucket">PUT Bucket</h3>
<ul>
<li><p>Description: create a bucket.</p>
</li>
<li><p>Request Syntax</p>
</li>
</ul>
<pre><code class="lang-http"><span class="hljs-keyword">PUT</span> <span class="hljs-string">/?formatter=json</span> HTTP/1.1
<span class="hljs-attribute">Host</span>: &lt;Your-Bucket-Name&gt;.ss.bscstorage.com
<span class="hljs-attribute">Date</span>: &lt;date&gt;
<span class="hljs-attribute">Authorization</span>: &lt;authorization string&gt; #Please refer to signature algorithm
<span class="hljs-attribute">x-amz-acl</span>: &lt;Canned-ACL&gt; #Please refer to[&#x300A;ACL&#x300B;](path: ../acl/acl.md)
</code></pre>
<p>or</p>
<pre><code class="lang-http"><span class="hljs-keyword">PUT</span> <span class="hljs-string">/&lt;Your-Bucket-Name&gt;/?formatter=json</span> HTTP/1.1
<span class="hljs-attribute">Host</span>: ss.bscstorage.com
<span class="hljs-attribute">Date</span>: &lt;date&gt;
<span class="hljs-attribute">Authorization</span>: &lt;authorization string&gt; #Please refer to signature algorithm
<span class="hljs-attribute">x-amz-acl</span>: &lt;Canned-ACL&gt; #Please refer to[&#x300A;ACL&#x300B;](path: ../acl/acl.md)
</code></pre>
<ul>
<li>Request Header&#xFF08;&#x8BF7;&#x6C42;&#x5934;&#xFF09;&#xFF1A;</li>
</ul>
<table class="table table-condensed">
        <thead>
          <tr>
            <th>Name</th>
            <th>Description</th>
            <th>Required</th>
          </tr>
        </thead>
        <tbody>

          <tr>
            <td>x-amz-acl</td>
            <td>Set an ACL while creating a bucket. Please refer to ACL
            </td><td>No</td>
          </tr>

        </tbody>
    </table>

<ul>
<li>Response (no HTTP body)&#xFF1A;</li>
</ul>
<pre><code class="lang-http">HTTP/1.1 <span class="hljs-number">200</span> OK
<span class="hljs-attribute">Date</span>: Tue, 08 Apr 2014 02:59:47 GMT
<span class="hljs-attribute">Content-Length</span>: 0
<span class="hljs-attribute">Connection</span>: keep-alive
<span class="hljs-attribute">X-RequestId</span>: 00078d50-1404-0810-5947-782bcb10b128
<span class="hljs-attribute">X-Requester</span>: Your UserId
</code></pre>
<ul>
<li>Request example:</li>
</ul>
<pre><code>curl -v -X PUT -H &quot;Date: Sat, 20 Nov 2286 17:46:39 GMT&quot; -H &quot;Authorization: Baishan &lt;access_key&gt;:&lt;ssig&gt;&quot; &quot;http://&lt;Your-Bucket-Name&gt;.ss.bscstorage.com/?formatter=json&quot;
</code></pre><p>or</p>
<pre><code>curl -v -X PUT &quot;http://&lt;Your-Bucket-Name&gt;.ss.bscstorage.com/?KID=baishan,&lt;access_key&gt;&amp;Expires=1398873316&amp;ssig=&lt;ssig&gt;&amp;formatter=json&quot;
</code></pre><p>or</p>
<pre><code>curl -v -X PUT &quot;http://ss.bscstorage.com/&lt;Your-Bucket-Name&gt;/?KID=baishan,&lt;access_key&gt;&amp;Expires=1398873316&amp;ssig=&lt;ssig&gt;&amp;formatter=json&quot;
</code></pre><h3 id="delete-bucket">DELETE Bucket</h3>
<ul>
<li><p>Description: delete the specified Bucket.</p>
</li>
<li><p>Note: Cannot delete the non-empty Bucket.</p>
</li>
<li><p>Request Syntax:</p>
</li>
</ul>
<pre><code class="lang-http"><span class="hljs-keyword">DELETE</span> <span class="hljs-string">/?formatter=json</span> HTTP/1.1
<span class="hljs-attribute">Host</span>: &lt;Your-Bucket-Name&gt;.ss.bscstorage.com
<span class="hljs-attribute">Date</span>: &lt;date&gt;
<span class="hljs-attribute">Authorization</span>: &lt;authorization string&gt; #Please refer to signature algorithm
</code></pre>
<p>or</p>
<pre><code class="lang-http"><span class="hljs-keyword">DELETE</span> <span class="hljs-string">/&lt;Your-Bucket-Name&gt;/?formatter=json</span> HTTP/1.1
<span class="hljs-attribute">Host</span>: ss.bscstorage.com
<span class="hljs-attribute">Date</span>: &lt;date&gt;
<span class="hljs-attribute">Authorization</span>: &lt;authorization string&gt; #Please refer to signature algorithm
</code></pre>
<ul>
<li>Response (no HTTP body)&#xFF1A;</li>
</ul>
<pre><code class="lang-http">HTTP/1.1 <span class="hljs-number">204</span> No Content
<span class="hljs-attribute">Date</span>: Tue, 08 Apr 2014 02:59:47 GMT
<span class="hljs-attribute">Content-Length</span>: 0
<span class="hljs-attribute">Connection</span>: keep-alive
<span class="hljs-attribute">X-RequestId</span>: 00078d50-1404-0810-5947-782bcb10b128
<span class="hljs-attribute">X-Requester</span>: Your UserId
</code></pre>
<ul>
<li>Request example:</li>
</ul>
<pre><code>curl -v -X DELETE -H &#x201C;Date: Sat, 20 Nov 2286 17:46:39 GMT&#x201D; -H &#x201C;Authorization: Baishan &lt;access\_key&gt;:&lt;ssig&gt;&#x201D; &#x201C;http://&lt;Your-Bucket-Name&gt;.ss.bscstorage.com/?formatter=json&#x201D;
</code></pre><p>or</p>
<pre><code>curl -v -X DELETE &quot;http://&lt;Your-Bucket-Name&gt;.ss.bscstorage.com/?KID=baishan,&lt;access_key&gt;&amp;Expires=1398873316&amp;ssig=&lt;ssig&gt;&amp;formatter=json&quot;
</code></pre><p>or</p>
<pre><code>curl -v -X DELETE &quot;http://ss.bscstorage.com/&lt;Your-Bucket-Name&gt;/?KID=baishan,&lt;access_key&gt;&amp;Expires=1398873316&amp;ssig=&lt;ssig&gt;&amp;formatter=json&quot;
</code></pre><h3 id="put-bucket-acl">PUT Bucket ACL</h3>
<ul>
<li>Description: sets ACL rules for the specified Bucket. For more information, please refer to&#xFF1A;<a href="../acl/acl.md">&#x300A;ACL&#x300B;</a></li>
</ul>
<ul>
<li>Request Syntax:</li>
</ul>
<pre><code class="lang-http"><span class="hljs-keyword">PUT</span> <span class="hljs-string">/?acl&amp;formatter=json</span> HTTP/1.1
<span class="hljs-attribute">Host</span>: &lt;Your-Bucket-Name&gt;.ss.bscstorage.com
<span class="hljs-attribute">Date</span>: &lt;date&gt;
<span class="hljs-attribute">Authorization</span>: &lt;authorization string&gt; #Please refer to signature algorithm

<span class="prolog">#<span class="hljs-symbol">ACL</span>&#x89C4;&#x5219;
{
    <span class="hljs-string">&apos;Baishan0000000000000001&apos;</span> :  [ <span class="hljs-string">&quot;read&quot;</span>, <span class="hljs-string">&quot;read_acp&quot;</span> , <span class="hljs-string">&quot;write&quot;</span>, <span class="hljs-string">&quot;write_acp&quot;</span> ],
    <span class="hljs-string">&apos;GRPS000000ANONYMOUSE&apos;</span> :  [ <span class="hljs-string">&quot;read&quot;</span>, <span class="hljs-string">&quot;read_acp&quot;</span> , <span class="hljs-string">&quot;write&quot;</span>, <span class="hljs-string">&quot;write_acp&quot;</span> ],
    <span class="hljs-string">&apos;GRPS0000000CANONICAL&apos;</span> :  [ <span class="hljs-string">&quot;read&quot;</span>, <span class="hljs-string">&quot;read_acp&quot;</span> , <span class="hljs-string">&quot;write&quot;</span>, <span class="hljs-string">&quot;write_acp&quot;</span> ],
}
</span></code></pre>
<ul>
<li>Response:</li>
</ul>
<pre><code class="lang-http">HTTP/1.1 200 OK
Date: Tue, 08 Apr 2014 02:59:47 GMT
Connection: keep-alive
X-RequestId: 00078d50-1404-0810-5947-782bcb10b128
X-Requester: Your UserId
{
    &quot;Owner&quot;: {
        &quot;DisplayName&quot;: &quot;&quot;,
        &quot;ID&quot;: &quot;user_authed&quot;
    },
    &quot;AccessControlList&quot;: {
        &quot;Grant&quot;: [
            {
                &quot;Grantee&quot;: {
                    &quot;DisplayName&quot;: &quot;&quot;,
                     &quot;ID&quot;: &quot;Baishan0000000000000001&quot;
                },
                &quot;Permission&quot;: &quot;READ,READ_ACP,WRITE,WRITE_ACP&quot;
            },

            ...
        ]
    }
}
</code></pre>
<ul>
<li>Please refer to&#xFF1A;<a href="../acl/acl.md">&#x300A;ACL&#x300B;</a></li>
<li>Request example:</li>
</ul>
<pre><code>curl -v -T &quot;acl.txt&quot; -H &quot;Date: Sat, 20 Nov 2286 17:46:39 GMT&quot; -H &quot;Authorization: Baishan &lt;access_key&gt;:&lt;ssig&gt;&quot; &quot;http://&lt;Your-Bucket-Name&gt;.ss.bscstorage.com/?acl&amp;formatter=json&quot;
</code></pre><h3 id="get-bucket-acl">GET Bucket ACL</h3>
<ul>
<li><p>Description: get ACL information of the specified bucket. For more information, please refer to:<a href="https://doc.bscstorage.com/doc/s2/bucket/\(../acl/acl.md" target="_blank">&#x300A;ACL&#x300B;</a>)</p>
</li>
<li><p>Request format:</p>
</li>
</ul>
<pre><code class="lang-http"><span class="hljs-keyword">GET</span> <span class="hljs-string">/?acl&amp;formatter=json</span> HTTP/1.1
<span class="hljs-attribute">Host</span>: &lt;Your-Bucket-Name&gt;.ss.bscstorage.com
<span class="hljs-attribute">Date</span>: &lt;date&gt;
<span class="hljs-attribute">Authorization</span>: &lt;authorization string&gt; #Please refer to signature algorithm
</code></pre>
<p>or</p>
<pre><code class="lang-http"><span class="hljs-keyword">GET</span> <span class="hljs-string">/&lt;Your-Bucket-Name&gt;/?acl&amp;formatter=json</span> HTTP/1.1
<span class="hljs-attribute">Host</span>: ss.bscstorage.com
<span class="hljs-attribute">Date</span>: &lt;date&gt;
<span class="hljs-attribute">Authorization</span>: &lt;authorization string&gt; #Please refer to signature algorithm
</code></pre>
<p>Response:</p>
<pre><code class="lang-http">HTTP/1.1 <span class="hljs-number">200</span> OK
<span class="hljs-attribute">Date</span>: Tue, 08 Apr 2014 02:59:47 GMT
<span class="hljs-attribute">Content-Length</span>: 123
<span class="hljs-attribute">Connection</span>: keep-alive
<span class="hljs-attribute">X-RequestId</span>: 00078d50-1404-0810-5947-782bcb10b128
<span class="hljs-attribute">X-Requester</span>: Your UserId

<span class="json">{
    <span class="hljs-attr">&quot;Owner&quot;</span>: {
        <span class="hljs-attr">&quot;DisplayName&quot;</span>: <span class="hljs-string">&quot;&quot;</span>,
        <span class="hljs-attr">&quot;ID&quot;</span>: <span class="hljs-string">&quot;Baishan0000000000000001&quot;</span>
    },

    <span class="hljs-attr">&quot;AccessControlList&quot;</span>: {
        <span class="hljs-attr">&quot;Grant&quot;</span>: [
            {
                <span class="hljs-attr">&quot;Grantee&quot;</span>: {
                    <span class="hljs-attr">&quot;DisplayName&quot;</span>: <span class="hljs-string">&quot;&quot;</span>,
                    <span class="hljs-attr">&quot;ID&quot;</span>: <span class="hljs-string">&quot;GRPS000000ANONYMOUSE&quot;</span>
                },
                <span class="hljs-attr">&quot;Permission&quot;</span>: <span class="hljs-string">&quot;READ&quot;</span>
            },
            {
                <span class="hljs-attr">&quot;Grantee&quot;</span>: {
                    <span class="hljs-attr">&quot;DisplayName&quot;</span>: <span class="hljs-string">&quot;&quot;</span>,
                    <span class="hljs-attr">&quot;ID&quot;</span>: <span class="hljs-string">&quot;Baishan0000001001NHT3M7&quot;</span>
                },
                <span class="hljs-attr">&quot;Permission&quot;</span>: <span class="hljs-string">&quot;READ, READ_ACP, WRITE, WRITE_ACP&quot;</span>
            },
            {
                <span class="hljs-attr">&quot;Grantee&quot;</span>: {
                    <span class="hljs-attr">&quot;DisplayName&quot;</span>: <span class="hljs-string">&quot;&quot;</span>,
                    <span class="hljs-attr">&quot;ID&quot;</span>: <span class="hljs-string">&quot;Baishan0000000000000001&quot;</span>
                },
                <span class="hljs-attr">&quot;Permission&quot;</span>: <span class="hljs-string">&quot;READ, WRITE&quot;</span>
            },

            ...
        ]
    }
}
</span></code></pre>
<ul>
<li><p>Please refer to&#xFF1A;<a href="(../acl/acl.md">&#x300A;ACL&#x300B;</a>)</p>
</li>
<li><p>Request example&#xFF1A;</p>
</li>
</ul>
<pre><code>curl -v -H &quot;Date: Sat, 20 Nov 2286 17:46:39 GMT&quot; -H &quot;Authorization: Baishan &lt;access_key&gt;:&lt;ssig&gt;&quot; &quot;http://&lt;Your-Bucket-Name&gt;.ss.bscstorage.com/?acl&amp;formatter=json&quot;
</code></pre><p>or</p>
<pre><code>curl -v &quot;http://&lt;Your-Bucket-Name&gt;.ss.bscstorage.com/?acl&amp;KID=baishan,&lt;access_key&gt;&amp;Expires=1398873316&amp;ssig=&lt;ssig&gt;&amp;formatter=json&quot;
</code></pre><p>or</p>
<pre><code>curl -v &quot;http://ss.bscstorage.com/&lt;Your-Bucket-Name&gt;/?acl&amp;KID=baishan,&lt;access_key&gt;&amp;Expires=1398873316&amp;ssig=&lt;ssig&gt;&amp;formatter=json&quot;
</code></pre><h2 id="object-operations">Object Operations</h2>
<hr>
<h3 id="head-object">HEAD Object</h3>
<ul>
<li><p>Description: use the HEAD request method to obtain the Metadata of the Object.</p>
</li>
<li><p>Request format:</p>
</li>
</ul>
<pre><code class="lang-http"><span class="hljs-keyword">HEAD</span> <span class="hljs-string">/&lt;ObjectName&gt;</span> HTTP/1.1
<span class="hljs-attribute">Host</span>: &lt;Your-Bucket-Name&gt;.ss.bscstorage.com
<span class="hljs-attribute">Date</span>: &lt;date&gt;
<span class="hljs-attribute">Authorization</span>: &lt;authorization string&gt; #Please refer to signature algorithm
</code></pre>
<ul>
<li>Response&#xFF08;No HTTP body&#xFF09;&#xFF1A;</li>
</ul>
<pre><code class="lang-http">HTTP/1.1 <span class="hljs-number">200</span> OK
<span class="hljs-attribute">Date</span>: Tue, 08 Apr 2014 02:59:47 GMT
<span class="hljs-attribute">Connection</span>: keep-alive
<span class="hljs-attribute">Content-Type</span>: &lt;object-mime-type&gt;
<span class="hljs-attribute">Content-Length</span>: &lt;object-file-bytes&gt;
<span class="hljs-attribute">ETag</span>: &quot;&lt;MD5 value of file&gt;&quot;
<span class="hljs-attribute">Last-Modified</span>: &lt;Last modification time&gt;
<span class="hljs-attribute">x-amz-request-id</span>: 0000106c-1608-0810-4621-00163e000064
<span class="hljs-attribute">x-amz-s2-requester</span>: &lt;Your UserName&gt;
<span class="hljs-attribute">x-amz-meta-foo1</span>: &lt;value1&gt; #custom meta&#xFF1A;foo1
<span class="hljs-attribute">x-amz-meta-foo2</span>: &lt;value2&gt; #custom meta&#xFF1A;foo2
</code></pre>
<ul>
<li>Request Headers&#xFF1A;</li>
</ul>
<table class="table table-condensed">
        <thead>
          <tr>
            <th>Name</th>
            <th>Description</th>
            <th>Required</th>
          </tr>
        </thead>
        <tbody>

          <tr>
            <td>Range</td>
            <td>
                Downloads the specified range bytes of an object. For more information about the HTTP Range header, go to http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.35.<br>
                &#x2022; Type: String<br>
                &#x2022; Default: None<br>
                &#x2022; Constraints: None
            </td>
            <td>No</td>
          </tr>    

          <tr>
            <td>If-Modified-Since</td>
            <td>
                Return the object only if it has been modified since the specified time, otherwise return a 304 (not modified).<br>
                &#x2022; Type: String<br>
                &#x2022; Default: None<br>
                &#x2022; Constraints: None
            </td>
            <td>No</td>
          </tr>    

          <tr>
            <td>If-Unmodified-Since</td>
            <td>
                Return the object only if it has not been modified since the specified time, otherwise return a 412 (precondition failed).<br>
                &#x2022; Type: String<br>
                &#x2022; Default: None<br>
                &#x2022; Constraints: None
            </td>
            <td>No</td>
          </tr>    

          <tr>
            <td>If-Match</td>
            <td>
                Return the object only if its entity tag (ETag) is the same as the one specified; otherwise, return a 412 (precondition failed).<br>
                &#x2022; Type: String<br>
                &#x2022; Default: None<br>
                &#x2022; Constraints: None
            </td>
            <td>No</td>
          </tr>  

          <tr>
            <td>If-None-Match</td>
            <td>
                Return the object only if its entity tag (ETag) is different from the one specified; otherwise, return a 304 (not modified).<br>
                &#x2022; Type: String<br>
                &#x2022; Default: None<br>
                &#x2022; Constraints: None
            </td>
            <td>No</td>
          </tr> 

        </tbody>
    </table>

<ul>
<li>Response Headers&#xFF1A;</li>
</ul>
<table class="table table-condensed">
        <thead>
          <tr>
            <th>Name</th>
            <th>Description</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Content-Type</td>
            <td>Object&apos;s mime-type</td>
          </tr>
          <tr>
            <td>Content-Length</td>
            <td>Object&apos;s Size(bytes)</td>
          </tr>
          <tr>
            <td>ETag</td>
            <td>Object&apos;s hash value&#xFF0C;normally is md5 value</td>
          </tr>
          <tr>
            <td>Last-Modified</td>
            <td>Object last modified time</td>
          </tr>
          <tr>
            <td>x-amz-meta-*</td>
            <td>User can customize file property information, return value when read<br>
            For example&#xFF1A;<br>
            x-amz-meta-UploadLocation: My Home<br>
            X-amz-meta-ReviewedBy: test@test.net<br>
            X-amz-meta-FileChecksum: 0x02661779<br>
            X-amz-meta-CheckSumAlgorithm: crc32<br>
            </td>
          </tr>
          <tr>
            <td>x-amz-meta-crc32</td>
            <td>Object&apos;s CRC32 value</td>
          </tr>
        </tbody>
</table>

<ul>
<li>Request example:</li>
</ul>
<pre><code>curl -v -X HEAD -H &quot;Date: Sat, 20 Nov 2286 17:46:39 GMT&quot; -H &quot;Authorization: AWS &lt;access_key&gt;:&lt;ssig&gt;&quot; &quot;http://&lt;Your-Bucket-Name&gt;.ss.bscstorage.com/&lt;Object-Name&gt;&quot;
</code></pre><h3 id="get-object">GET Object</h3>
<ul>
<li><p>Description: get an object (download).</p>
</li>
<li><p>Request format:</p>
</li>
</ul>
<pre><code class="lang-http"><span class="hljs-keyword">GET</span> <span class="hljs-string">/&lt;ObjectName&gt;</span> HTTP/1.1
<span class="hljs-attribute">Host</span>: &lt;Your-Bucket-Name&gt;.ss.bscstorage.com
<span class="hljs-attribute">Date</span>: &lt;date&gt;
<span class="hljs-attribute">Authorization</span>: &lt;authorization string&gt; #Please refer to signature algorithm
<span class="hljs-attribute">Range</span>: bytes=&lt;byte_range&gt; #Support breakpoint Download
</code></pre>
<ul>
<li>Response:</li>
</ul>
<pre><code class="lang-http">HTTP/1.1 <span class="hljs-number">200</span> OK
<span class="hljs-attribute">Date</span>: Tue, 08 Apr 2014 02:59:47 GMT
<span class="hljs-attribute">Connection</span>: keep-alive
<span class="hljs-attribute">Content-Type</span>: &lt;object-mime-type&gt;
<span class="hljs-attribute">Content-Length</span>: &lt;object-file-bytes&gt;
<span class="hljs-attribute">ETag</span>: &quot;&lt;MD5 value of file&gt;&quot;
<span class="hljs-attribute">Last-Modified</span>: &lt;Last modification time&gt;
<span class="hljs-attribute">x-amz-request-id</span>: 0000106c-1608-0810-4621-00163e000064
<span class="hljs-attribute">x-amz-s2-requester</span>: &lt;Your UserName&gt;
<span class="hljs-attribute">x-amz-meta-foo1</span>: &lt;value1&gt; #Custom meta: foo1
<span class="hljs-attribute">x-amz-meta-foo2</span>: &lt;value2&gt; #Custom meta: foo2

<span class="stylus"><span class="hljs-selector-id">#File</span> <span class="hljs-attribute">content</span>
&lt;BODY&gt;
</span></code></pre>
<ul>
<li>Request Headers&#xFF1A;</li>
</ul>
<table class="table table-condensed">
        <thead>
          <tr>
            <th>Name</th>
            <th>Description</th>
            <th>Required</th>
          </tr>
        </thead>
        <tbody>

          <tr>
            <td>Range</td>
            <td>
                Downloads the specified range bytes of an object. For more information about the HTTP Range header, go to http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.35.<br>
                &#x2022; Type: String<br>
                &#x2022; Default: None<br>
                &#x2022; Constraints: None
            </td>
            <td>No</td>
          </tr>    

          <tr>
            <td>If-Modified-Since</td>
            <td>
                Return the object only if it has been modified since the specified time, otherwise return a 304 (not modified).<br>
                &#x2022; Type: String<br>
                &#x2022; Default: None<br>
                &#x2022; Constraints: None
            </td>
            <td>No</td>
          </tr>    

          <tr>
            <td>If-Unmodified-Since</td>
            <td>
                Return the object only if it has not been modified since the specified time, otherwise return a 412 (precondition failed).<br>
                &#x2022; Type: String<br>
                &#x2022; Default: None<br>
                &#x2022; Constraints: None
            </td>
            <td>No</td>
          </tr>    

          <tr>
            <td>If-Match</td>
            <td>
                Return the object only if its entity tag (ETag) is the same as the one specified; otherwise, return a 412 (precondition failed).<br>
                &#x2022; Type: String<br>
                &#x2022; Default: None<br>
                &#x2022; Constraints: None
            </td>
            <td>No</td>
          </tr>  

          <tr>
            <td>If-None-Match</td>
            <td>
                Return the object only if its entity tag (ETag) is different from the one specified; otherwise, return a 304 (not modified).<br>
                &#x2022; Type: String<br>
                &#x2022; Default: None<br>
                &#x2022; Constraints: None
            </td>
            <td>No</td>
          </tr> 

        </tbody>
</table>

<ul>
<li>Response Headers&#xFF1A;</li>
</ul>
<table class="table table-condensed">
        <thead>
          <tr>
            <th>Name</th>
            <th>Description</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Content-Type</td>
            <td>Object&apos;s mime-type</td>
          </tr>
          <tr>
            <td>Content-Length</td>
            <td>Object&apos;s size(bytes)</td>
          </tr>
          <tr>
            <td>ETag</td>
            <td>Object&apos;s hash value&#xFF0C;normally it is md5</td>
          </tr>
          <tr>
            <td>Last-Modified</td>
            <td>Object&apos;s last modified time</td>
          </tr>
          <tr>
            <td>x-amz-meta-*</td>
            <td>You can customize the file attribute information and return the original value when reading.<br>
            For example&#xFF1A;<br>
            x-amz-meta-UploadLocation: My Home<br>
            X-amz-meta-ReviewedBy: test@test.net<br>
            X-amz-meta-FileChecksum: 0x02661779<br>
            X-amz-meta-CheckSumAlgorithm: crc32<br>
            </td>
          </tr>
          <tr>
            <td>x-amz-meta-crc32</td>
            <td>Object&apos;s CRC32 value</td>
          </tr>
        </tbody>
</table>

<ul>
<li>Request example:</li>
</ul>
<pre><code>curl -v -H &quot;Range: bytes=0-1024&quot; -H &quot;Date: Sat, 20 Nov 2286 17:46:39 GMT&quot; -H &quot;Authorization: AWS &lt;access_key&gt;:&lt;ssig&gt;&quot; &quot;http://&lt;Your-Bucket-Name&gt;.ss.bscstorage.com/&lt;Object-Name&gt;&quot;
</code></pre><ul>
<li><p>Application examples:</p>
</li>
<li><p>Standard example:</p>
</li>
</ul>
<pre><code class="lang-http"><span class="hljs-keyword">GET</span> <span class="hljs-string">/my_bucket/path/to/my/file.txt</span> HTTP/1.1
<span class="hljs-attribute">Host</span>: ss.bscstorage.com
<span class="hljs-attribute">Date</span>: Sun, 1 Jan 2006 12:00:00 GMT
<span class="hljs-attribute">Authorization</span>: AWS AccessKey:ssig
<span class="hljs-attribute">Range</span>: bytes=100-2048
</code></pre>
<pre><code>-    &#x54CD;&#x5E94;&#xFF1A;
</code></pre><pre><code class="lang-http">HTTP/1.1 <span class="hljs-number">206</span> Partial Content
<span class="hljs-attribute">Server</span>: openresty/1.9.7.4
<span class="hljs-attribute">Content-Type</span>: application/xml
<span class="hljs-attribute">Connection</span>: keep-alive
<span class="hljs-attribute">x-amz-request-id</span>: 0000106c-1608-0810-4621-00163e000064
<span class="hljs-attribute">x-amz-s2-requester</span>: GRPS000000ANONYMOUSE
<span class="hljs-attribute">Date</span>: Mon, 08 Aug 2016 02:46:21 GMT
<span class="hljs-attribute">Last-Modified</span>: Mon, 08 Aug 2016 02:45:55 GMT
<span class="hljs-attribute">ETag</span>: &quot;21b1a992d1cbf49729fc4461e55dd94f&quot;
<span class="hljs-attribute">x-amz-meta-s2-size</span>: 109051904
<span class="hljs-attribute">x-amz-meta-s2-crc32</span>: 9422bc32
<span class="hljs-attribute">Cache-Control</span>: max-age=31536000
<span class="hljs-attribute">Content-Length</span>: 109051904

<span class="erlang">...
file_content
...
</span></code></pre>
<ul>
<li>Download methods using various verification measures:</li>
</ul>
<pre><code class="lang-http"><span class="hljs-keyword">GET</span> <span class="hljs-string">/path/to/my/file.txt?AWSAccessKeyId=&lt;AccessKey&gt;&amp;Expires=&lt;1175139620&gt;&amp;Signature=&lt;your_sign&gt;</span> HTTP/1.1
<span class="hljs-attribute">Host</span>: my_bucket.ss.bscstorage.com
<span class="hljs-attribute">Date</span>: date
<span class="hljs-attribute">Range</span>: bytes=byte_range
</code></pre>
<ul>
<li>Response:</li>
</ul>
<pre><code class="lang-http">HTTP/1.1 <span class="hljs-number">206</span> Partial Content
<span class="hljs-attribute">Server</span>: openresty/1.9.7.4
<span class="hljs-attribute">Content-Type</span>: application/xml
<span class="hljs-attribute">Connection</span>: keep-alive
<span class="hljs-attribute">x-amz-request-id</span>: 0000106c-1608-0810-4621-00163e000064
<span class="hljs-attribute">x-amz-s2-requester</span>: GRPS000000ANONYMOUSE
<span class="hljs-attribute">Date</span>: Mon, 08 Aug 2016 02:46:21 GMT
<span class="hljs-attribute">Last-Modified</span>: Mon, 08 Aug 2016 02:45:55 GMT
<span class="hljs-attribute">ETag</span>: &quot;21b1a992d1cbf49729fc4461e55dd94f&quot;
<span class="hljs-attribute">x-amz-meta-s2-size</span>: 109051904
<span class="hljs-attribute">x-amz-meta-s2-crc32</span>: 9422bc32
<span class="hljs-attribute">Cache-Control</span>: max-age=31536000
<span class="hljs-attribute">Content-Length</span>: 109051904

<span class="erlang">...
file_content
...
</span></code></pre>
<p><strong><em>For the meaning of QueryString in the above example, please refer to the description of authentication method in <a href="http://ss.bscstorage.com/imgx-test/demo/charles.png?AWSAccessKeyId=acc_drdrxp&amp;Expires=2464851871&amp;Signature=9Nb4uSsCdGbdhYdL05QNJMBOUDI%3D" target="_blank">signature algorithm</a>.</em></strong></p>
<h3 id="put-object">PUT Object</h3>
<ul>
<li><p>Description: upload a file by post (based on browser form).</p>
</li>
<li><p>Request&#xFF1A;</p>
</li>
</ul>
<pre><code class="lang-http"><span class="hljs-keyword">POST</span> <span class="hljs-string">/</span> HTTP/1.1
<span class="hljs-attribute">Host</span>: &lt;Your-Bucket-Name&gt;.ss.bscstorage.com
<span class="hljs-attribute">Content-Length</span>: &lt;length&gt;

<span class="fortran">Content-<span class="hljs-keyword">Type</span>:multipart/<span class="hljs-keyword">form</span>-<span class="hljs-keyword">data</span>; boundary=----WebKitFormBoundary1dIjDASRYXQm6DNA

------WebKitFormBoundary1dIjDASRYXQm6DNA
Content-Disposition: <span class="hljs-keyword">form</span>-<span class="hljs-keyword">data</span>; <span class="hljs-keyword">name</span>=<span class="hljs-string">&quot;key&quot;</span>

destinationProject/${filename}
------WebKitFormBoundary1dIjDASRYXQm6DNA
Content-Disposition: <span class="hljs-keyword">form</span>-<span class="hljs-keyword">data</span>; <span class="hljs-keyword">name</span>=<span class="hljs-string">&quot;success_action_redirect&quot;</span>

http://<span class="hljs-number">123.</span>abc.com/<span class="hljs-number">1.</span>php?f=<span class="hljs-number">1111.</span>txt
------WebKitFormBoundary1dIjDASRYXQm6DNA
Content-Disposition: <span class="hljs-keyword">form</span>-<span class="hljs-keyword">data</span>; <span class="hljs-keyword">name</span>=<span class="hljs-string">&quot;AWSAccessKeyId&quot;</span>

00M414ZO0X30
------WebKitFormBoundary1dIjDASRYXQm6DNA
Content-Disposition: <span class="hljs-keyword">form</span>-<span class="hljs-keyword">data</span>; <span class="hljs-keyword">name</span>=<span class="hljs-string">&quot;Policy&quot;</span>

eyJleHBpcmF0aW9uIjoiMjAxMi0wNi0wNlQwNjozOTo0MS4wMDBaIiwiY29uZGl0aW9ucyI6W3siYnVja2V0IjoiczN4cC5zM3dhdGNoIn0sWyJzdGFydHMtd2l0aCIsIiRrZXkiLCJhbmdlbFwvIl1dfQ==
------WebKitFormBoundary1dIjDASRYXQm6DNA
Content-Disposition: <span class="hljs-keyword">form</span>-<span class="hljs-keyword">data</span>; <span class="hljs-keyword">name</span>=<span class="hljs-string">&quot;Signature&quot;</span>

VK6Kw4kRqW2e84ZIX2cV2QqHo58=
------WebKitFormBoundary1dIjDASRYXQm6DNA
Content-Disposition: <span class="hljs-keyword">form</span>-<span class="hljs-keyword">data</span>; <span class="hljs-keyword">name</span>=<span class="hljs-string">&quot;file&quot;</span>; filename=<span class="hljs-string">&quot;112233.txt&quot;</span>
Content-<span class="hljs-keyword">Type</span>: text/plain

------WebKitFormBoundary1dIjDASRYXQm6DNA
Content-Disposition: <span class="hljs-keyword">form</span>-<span class="hljs-keyword">data</span>; <span class="hljs-keyword">name</span>=<span class="hljs-string">&quot;submit&quot;</span>

&#x4E0A;&#x4F20;
------WebKitFormBoundary1dIjDASRYXQm6DNA-
</span></code></pre>
<ul>
<li>Form elements:</li>
</ul>
<table class="table table-condensed">
        <thead>
          <tr>
            <th>Name</th>
            <th>Description</th>
            <th>Required</th>
          </tr>
        </thead>
        <tbody>

          <tr>
            <td width="185px">AWSAccessKeyId</td>
            <td>
                It is the AccessKey, which can be obtained from the console
            </td>
            <td>Yes</td>
          </tr>    

          <tr>
            <td>key</td>
            <td>
                The key (path) after object upload, such as: angel / ${filename}, variable ${filename} will be automatically replaced with the file name of the uploaded file; of course, you can also directly specify the file name of the uploaded file stored in the storage, such as: angel / path / to / myfile.txt,Variable names can be: filename, SHA1, MD5, size
            </td>
            <td>Yes</td>
          </tr>    

          <tr>
            <td>acl</td>
            <td>
                ACL of file: set an ACL when creating a file. Please refer to &#x300A;ACL&#x300B;
            </td>
            <td>No</td>
          </tr>    

          <tr>
            <td>success_action_status</td>
            <td>
                The response code after successful upload can be set to 200, 201, or 204 (default). If it is set to 200 or 204, the returned body is empty and the status is 200 or 204. If it is set to 201, the returned body in XML format and the status is 201. If it is set to an illegal value, the value is ignored and the default value 204 is used
              Note: if success is set\_ action\_ Redirect or redirect, this setting is ignored
            </td>
            <td>No</td>
          </tr>  

          <tr>
            <td>success_action_redirect, redirect</td>
            <td>
                The URL redirected by the client after successful upload. The actual returned location will add bucket, key and Etag querystring to the original URL
            </td>
            <td>No</td>
          </tr>

          <tr>
            <td>Policy</td>
            <td>
                File strategy, JSON format string, and encoded with Base64. It will be described in detail later
            </td>
            <td>Yes</td>
          </tr>

          <tr>
            <td>Signature</td>
            <td>
                The string signed with the secret key. It will be described in detail later
            </td>
            <td>Yes</td>
          </tr>

          <tr>
            <td>file</td>
            <td>
                Input form with type = file
            </td>
            <td>Yes</td>
          </tr>

          <tr>
            <td>x-amz-meta-*</td>
            <td>
                User defined metadeta. The header starts with x-amz-meta -, and all meta are stored in the form of key: value. The maximum limit is 64KB. It is returned as it is when HEAD or GET
            </td>
            <td>No</td>
          </tr>

          <tr>
            <td>Cache-Control, Content-
Type, Content-Disposition,
Content-Encoding,
Expires</td>
            <td>
                like put\_file, refer to put\_file interface
            </td>
            <td>No</td>
          </tr>

        </tbody>
</table>

<h4 id="construction-of-policy&#xFF1A;">Construction of policy&#xFF1A;</h4>
<p>The policy is a JSON document encoded with UTF-8 and Base64, which specifies the conditions that the request must meet and is used to authenticate the content. Depending on how you design policy documents, you can use them for each upload, each user, all uploads, or other designs that meet your needs.</p>
<pre><code class="lang-json">{
    <span class="hljs-string">&quot;expiration&quot;</span>: <span class="hljs-string">&quot;2014-04-10T08:55:34.000Z&quot;</span>,

    <span class="hljs-string">&quot;conditions&quot;</span>: [

        {
            <span class="hljs-string">&quot;bucket&quot;</span>: <span class="hljs-string">&quot;my-bucket-name&quot;</span>
        },

        {
            <span class="hljs-string">&quot;acl&quot;</span>: <span class="hljs-string">&quot;private&quot;</span>
        },

        [
            <span class="hljs-string">&quot;starts-with&quot;</span>, <span class="hljs-string">&quot;$key&quot;</span>, <span class="hljs-string">&quot;my_prefix/&quot;</span>
        ],

        [
            <span class="hljs-string">&quot;content-length-range&quot;</span>, <span class="hljs-number">0</span>, <span class="hljs-number">52428800</span>
        ]
    ]
}
</code></pre>
<ul>
<li><p>Description of the above example:</p>
<ul>
<li>Upload must be before &quot;2014-04-10t08:55:34.000z&quot;.</li>
<li>Upload the file to the bucket named &quot;my bucket name&quot;.</li>
<li>starts-with&#xFF1A;$key must start with &quot;my_ Prefix&quot; / &apos;(the &quot;$key&quot; in the policy must be preceded by &quot;$&quot;). If the $key value is empty, there is no prefix before the file name.</li>
<li>content-length-range&#xFF1A;The file size must be within the specified range.</li>
<li>Finally, Base64 encode the policy and set it to the value of the form policy.expiration:</li>
</ul>
</li>
</ul>
<h5 id="expiration">Expiration</h5>
<p>Expiration is used to specify the expiration time of the policy. The expiration date of the policy is specified in ISO 8601 UTC date format. For example, &quot;2007-12-01t12:00:00.000z&quot; specifies that expiration is required in the policy.</p>
<h5 id="condition">Condition:</h5>
<p> Condition is used to verify the content of the uploaded object and the fields filled in by the form</p>
<h6 id="condition-type">Condition type</h6>
<table class="table table-condensed">
        <thead>
          <tr>
            <th>Condition</th>
            <th>Description</th>
          </tr>
        </thead>
        <tbody>

          <tr>
            <td width="185px">Precise Matching</td>
            <td>
                1. Precise matching will verify that the field matches a specific value. This example instructs that the ACL must be set to public-read: {&quot;acl&quot;: &quot;public-read&quot; } <br>
              2.ACL must be set to public-read alternative: [ &quot;eq&quot;, &quot;$acl&quot;, &quot;public-read&quot; ]
            </td>
          </tr>    

          <tr>
            <td>Starts With</td>
            <td>
            If the value must start with a specific value, use starts-with. this example instructs that the key must start with user/betty
starts with:[&quot;starts-with&quot;, &quot;$key&quot;, &quot;user/betty/&quot;]

            </td>
          </tr>  
          <tr>
            <td>Specify the range</td>
            <td>
            For fields that accept a range, use a comma to separate the upper and lower limit values. This example allows 1 to 10 MB of
file sizes:[&quot;content-length-range&quot;, 1048579, 10485760], byte

            </td>
          </tr>                        
        </tbody>
</table>

<h6 id="conditions-field">Conditions field</h6>
<p>The conditions in the policy document verify the content of the uploaded object. Each form field you specify in the form&#xFF08;AWSAccessKeyId&#x3001;Signature&#x3001; file&#x3001;Policy except&#xFF09;Can be used as a condition</p>
<h4 id="signature-construction">Signature Construction:</h4>
<ul>
<li>Encoding policy with UTF-8</li>
<li>Encode the policy in UTF-8 form with Base64</li>
<li>Use HMAC SHA-1 and your secret key to convert your policy. Finally, Base64 coding is performed. For example, when using PHP&#xFF0C;base64_encode( hash_hmac( &quot;sha1&quot;, $policy, $SECRETKEY, true ) );</li>
<li>Set the final value to the value of the form signature.</li>
</ul>
<p>Finally generated HTML form:</p>
<pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">method</span>=<span class="hljs-string">&quot;post&quot;</span> <span class="hljs-attr">action</span>=<span class="hljs-string">&quot;http://my-bucket.&lt;?=c(&apos;api_host&apos;);?&gt;/&quot;</span> <span class="hljs-attr">enctype</span>=<span class="hljs-string">&quot;multipart/form-data&quot;</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;hidden&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;AWSAccessKeyId&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;&#x60A8;&#x7684;accesskey&quot;</span> /&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;hidden&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;key&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;my_prefix/${filename}&quot;</span> /&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;hidden&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;acl&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;private&quot;</span> /&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;hidden&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;success_action_status&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;201&quot;</span> /&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;hidden&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;Policy&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;eyJleHBpcmF0aW9uIjoiMjAxNC0wNC0xMFQwOToxNzozMC4wMDBaIiwiY29uZGl0aW9ucyI6W3siYnVja2V0IjoiY2xvdWQxMjMqwqwsdifsdGFydHMtd2l0aCIsIiRrZXkiLCJteWZpbGVzLyJdLFsic3RhcnRzLXdpdGgiLCIkQ29udGVudC1UeXBlIiwiIl0sWyJzdGFydHMtd2l0aCIsIiRDb250ZW50LURpc3Bvc2l0aW9uIiwiIl0seyJ1aWQiOiIxMjMifSxbImNvbnRlbnQtbGVuZ3RoLXJhbmdlIiwwLDUyNDI4ODAwXV19&quot;</span> /&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;hidden&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;Signature&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;HnOSk3kfx5LFtn4CIiFcSglQUXc=&quot;</span> /&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;file&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;file&quot;</span> /&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;submit&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;&#x4E0A;&#x4F20;&quot;</span> /&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span>
</code></pre>
<ul>
<li>matters needing attention&#xFF1A;<ul>
<li>The URI after the  POST  request can only be &#x201C;/&#x201D;</li>
<li>success_action_redirect&#xFF1A;Specify the URL to be redirected by the client after successful upload.</li>
<li>key&#xFF1A;The variable ${filename} will be automatically replaced with the file name of the uploaded file</li>
</ul>
</li>
</ul>
<h3 id="append-object">APPEND Object</h3>
<hr>
<ul>
<li><p>Append Object Files can be uploaded by adding write. The added files can be files uploaded in any way in the bucket (except fragment files uploaded in fragments), such as put object, copy object, and files uploaded in fragments and merged.</p>
<p>  The append upload and put object interfaces are consistent, except for the following two points&#xFF1A;</p>
<ul>
<li>x-amz-meta-s2-append-position Request header, required, used to identify the location of append upload and upload files appended to the current file</li>
<li>When the value of position is 0, if the currently appended file does not exist or the size of the file is equal to 0, the data will be appended to the end of the file and a success will be returned, otherwise a 409 error will be returned;</li>
<li>When the value of position is greater than 0, if it is equal to the size of the current file, it returns success after appending the data to the starting position of size, and the modification time of the modified file is the current time; Otherwise, a 409 error is returned, and the size of the current file is set in the x-amz-meta-append-position header of the response.</li>
<li><p>X-amz-meta-s2-directive request header, values: COPY, REPLACE ptional (COPY), used to identify whether the append file is the file meta information of the file to be overwritten</p>
<p>Attention&#xFF1A;</p>
</li>
<li><p>Only one request of the same position can be appended successfully, and due to concurrency, setting the correct position may also return failure</p>
</li>
<li>A maximum of 2000 requests can be appended to the same file</li>
<li>The maximum file size for a single request is 20G</li>
<li>The total size of the appended file is 1T at most</li>
</ul>
</li>
</ul>
<ul>
<li>Request format:</li>
</ul>
<pre><code>PUT /&lt;ObjectName&gt; HTTP/1.1
Host: &lt;Your-Bucket-Name&gt;.ss.bscstorage.com
Date: &lt;date&gt;
Content-Length: &lt;object data length&gt;
Content-Type: &lt;mime-type&gt;
x-amz-meta-s2-append-position: &lt;position&gt;
Authorization: &lt;authorization string&gt; #Please refer to signature algorithm
[object data]
</code></pre><p>Response:</p>
<pre><code>HTTP/1.1 200 OK
Date: Tue, 08 Apr 2014 02:59:47 GMT
Connection: keep-alive
ETag: &quot;&lt;MD5 value of file&gt;&quot;
x-amz-request-id: 0000106c-1608-0810-4621-00163e000064
x-amz-s2-requester: &lt;Your UserName&gt;
x-amz-meta-s2-append-position: &lt;position&gt;
</code></pre><ul>
<li>Request Headers&#xFF1A;<table class="table table-condensed">
      <thead>
        <tr>
          <th>Name</th>
          <th>Description</th>
          <th>Required</th>
        </tr>
      </thead>
      <tbody>        
      <tr>
          <td>x-amz-meta-append-position</td>
          <td>
              It is used to identify the location where append uploads and uploads are appended to the current file
          </td>
          <td>Yes</td>
        </tr>    
        <tr>
          <td>x-amz-meta-s2-directive</td>
          <td>
              <p>Specifies whether to use the file meta of the attached file. The value is&#xFF1A;COPY,REPALCE&#xFF0C;The default is:COPY, If set to COPY&#xFF0C;The file meta of the append file is used. If it is set to REPLACE, The file meta carried in the current append request is used </p><p></p>
          </td>
          <td>No</td>
        </tr>              
        <tr>
          <td>Expires</td>
          <td>
              When the file expires, the system will automatically clear the file (not immediately, and the clearing time is irregular). Format reference&#xFF1A;http://www.w3.org/Protocols/rfc2616/ rfc2616-sec14.html#sec14.21.
          </td>
          <td>No</td>
        </tr>               
        <tr>
          <td>Cache-Control</td>
          <td>
              file Cache&#xFF0C;Standard HTTP protocol. For more information, see:http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.9
          </td>
          <td>No</td>
        </tr>            
        <tr>
          <td>Content-Type</td>
          <td>
              File MIME type. The original value is returned when reading
          </td>
          <td>No</td>
        </tr>          
        <tr>
          <td>Content-Length</td>
          <td>
              File size, original value returned when reading
          </td>
          <td>Yes</td>
        </tr>         
        <tr>
          <td>Content-MD5</td>
          <td>
              Base64 encoded file MD5 (fail when inconsistent with the transmitted content). Note: the string format is the value encoded by Base64 in RFC standard
          </td>
          <td>No</td>
        </tr>      
        <tr>
          <td>Content-Disposition</td>
          <td>
              HTTP standard file attribute information. The original value is returned when reading. See:http://www.w3.org/Protocols/rfc2616/rfc2616-sec19.html#sec19.5.1
          </td>
          <td>No</td>
        </tr>     
        <tr>
          <td>Content-Encoding</td>
          <td>
              File code, HTTP standard file attribute information, and the original value is returned when reading. See:http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.11
          </td>
          <td>No</td>
        </tr>  
        <tr>
          <td>x-amz-acl</td>
          <td>
              File ACL: set an ACL while creating a file. Please refer to &#x300A;ACL&#x300B;
          </td>
          <td>No</td>
        </tr>  
        <tr>
          <td>x-amz-meta-*</td>
          <td>
              User defined metadeta. The header starts with x-amz-meta -, and all meta are stored in the form of key: value. The maximum limit is 64KB. It is returned as it is when HEAD or GET
          </td>
          <td>No</td>
        </tr>    
      </tbody>
</table>

</li>
</ul>
<h3 id="post-object">POST Object</h3>
<ul>
<li><p>Description: upload a file by post (based on browser form).</p>
</li>
<li><p>Request&#xFF1A;</p>
</li>
</ul>
<pre><code class="lang-http"><span class="hljs-keyword">POST</span> <span class="hljs-string">/</span> HTTP/1.1
<span class="hljs-attribute">Host</span>: &lt;Your-Bucket-Name&gt;.ss.bscstorage.com
<span class="hljs-attribute">Content-Length</span>: &lt;length&gt;

<span class="fortran">Content-<span class="hljs-keyword">Type</span>:multipart/<span class="hljs-keyword">form</span>-<span class="hljs-keyword">data</span>; boundary=----WebKitFormBoundary1dIjDASRYXQm6DNA

------WebKitFormBoundary1dIjDASRYXQm6DNA
Content-Disposition: <span class="hljs-keyword">form</span>-<span class="hljs-keyword">data</span>; <span class="hljs-keyword">name</span>=<span class="hljs-string">&quot;key&quot;</span>

destinationProject/${filename}
------WebKitFormBoundary1dIjDASRYXQm6DNA
Content-Disposition: <span class="hljs-keyword">form</span>-<span class="hljs-keyword">data</span>; <span class="hljs-keyword">name</span>=<span class="hljs-string">&quot;success_action_redirect&quot;</span>

http://<span class="hljs-number">123.</span>abc.com/<span class="hljs-number">1.</span>php?f=<span class="hljs-number">1111.</span>txt
------WebKitFormBoundary1dIjDASRYXQm6DNA
Content-Disposition: <span class="hljs-keyword">form</span>-<span class="hljs-keyword">data</span>; <span class="hljs-keyword">name</span>=<span class="hljs-string">&quot;AWSAccessKeyId&quot;</span>

00M414ZO0X30
------WebKitFormBoundary1dIjDASRYXQm6DNA
Content-Disposition: <span class="hljs-keyword">form</span>-<span class="hljs-keyword">data</span>; <span class="hljs-keyword">name</span>=<span class="hljs-string">&quot;Policy&quot;</span>

eyJleHBpcmF0aW9uIjoiMjAxMi0wNi0wNlQwNjozOTo0MS4wMDBaIiwiY29uZGl0aW9ucyI6W3siYnVja2V0IjoiczN4cC5zM3dhdGNoIn0sWyJzdGFydHMtd2l0aCIsIiRrZXkiLCJhbmdlbFwvIl1dfQ==
------WebKitFormBoundary1dIjDASRYXQm6DNA
Content-Disposition: <span class="hljs-keyword">form</span>-<span class="hljs-keyword">data</span>; <span class="hljs-keyword">name</span>=<span class="hljs-string">&quot;Signature&quot;</span>

VK6Kw4kRqW2e84ZIX2cV2QqHo58=
------WebKitFormBoundary1dIjDASRYXQm6DNA
Content-Disposition: <span class="hljs-keyword">form</span>-<span class="hljs-keyword">data</span>; <span class="hljs-keyword">name</span>=<span class="hljs-string">&quot;file&quot;</span>; filename=<span class="hljs-string">&quot;112233.txt&quot;</span>
Content-<span class="hljs-keyword">Type</span>: text/plain

------WebKitFormBoundary1dIjDASRYXQm6DNA
Content-Disposition: <span class="hljs-keyword">form</span>-<span class="hljs-keyword">data</span>; <span class="hljs-keyword">name</span>=<span class="hljs-string">&quot;submit&quot;</span>

&#x4E0A;&#x4F20;
------WebKitFormBoundary1dIjDASRYXQm6DNA-
</span></code></pre>
<ul>
<li>Form elements:</li>
</ul>
<table class="table table-condensed">
        <thead>
          <tr>
            <th>Name</th>
            <th>Description</th>
            <th>Required</th>
          </tr>
        </thead>
        <tbody>

          <tr>
            <td width="185px">AWSAccessKeyId</td>
            <td>
                It is the AccessKey, which can be obtained from the console
            </td>
            <td>Yes</td>
          </tr>    

          <tr>
            <td>key</td>
            <td>
                The key (path) after object upload, such as: angel / ${filename}, variable ${filename} will be automatically replaced with the file name of the uploaded file; of course, you can also directly specify the file name of the uploaded file stored in the storage, such as: angel / path / to / myfile.txt,Variable names can be: filename, SHA1, MD5, size
            </td>
            <td>Yes</td>
          </tr>    

          <tr>
            <td>acl</td>
            <td>
                ACL of file: set an ACL when creating a file. Please refer to &#x300A;ACL&#x300B;
            </td>
            <td>No</td>
          </tr>    

          <tr>
            <td>success_action_status</td>
            <td>
                The response code after successful upload can be set to 200, 201, or 204 (default). If it is set to 200 or 204, the returned body is empty and the status is 200 or 204. If it is set to 201, the returned body in XML format and the status is 201. If it is set to an illegal value, the value is ignored and the default value 204 is used
              Note: if success is set\_ action\_ Redirect or redirect, this setting is ignored
            </td>
            <td>No</td>
          </tr>  

          <tr>
            <td>success_action_redirect, redirect</td>
            <td>
                The URL redirected by the client after successful upload. The actual returned location will add bucket, key and Etag querystring to the original URL
            </td>
            <td>No</td>
          </tr>

          <tr>
            <td>Policy</td>
            <td>
                File strategy, JSON format string, and encoded with Base64. It will be described in detail later
            </td>
            <td>Yes</td>
          </tr>

          <tr>
            <td>Signature</td>
            <td>
                The string signed with the secret key. It will be described in detail later
            </td>
            <td>Yes</td>
          </tr>

          <tr>
            <td>file</td>
            <td>
                Input form with type = file
            </td>
            <td>Yes</td>
          </tr>

          <tr>
            <td>x-amz-meta-*</td>
            <td>
                User defined metadeta. The header starts with x-amz-meta -, and all meta are stored in the form of key: value. The maximum limit is 64KB. It is returned as it is when HEAD or GET
            </td>
            <td>No</td>
          </tr>

          <tr>
            <td>Cache-Control, Content-
Type, Content-Disposition,
Content-Encoding,
Expires</td>
            <td>
                like put\_file, refer to put\_file interface
            </td>
            <td>No</td>
          </tr>

        </tbody>
</table>

<h4 id="construction-of-policy&#xFF1A;">Construction of policy&#xFF1A;</h4>
<p>The policy is a JSON document encoded with UTF-8 and Base64, which specifies the conditions that the request must meet and is used to authenticate the content. Depending on how you design policy documents, you can use them for each upload, each user, all uploads, or other designs that meet your needs.</p>
<pre><code class="lang-json">{
    <span class="hljs-string">&quot;expiration&quot;</span>: <span class="hljs-string">&quot;2014-04-10T08:55:34.000Z&quot;</span>,

    <span class="hljs-string">&quot;conditions&quot;</span>: [

        {
            <span class="hljs-string">&quot;bucket&quot;</span>: <span class="hljs-string">&quot;my-bucket-name&quot;</span>
        },

        {
            <span class="hljs-string">&quot;acl&quot;</span>: <span class="hljs-string">&quot;private&quot;</span>
        },

        [
            <span class="hljs-string">&quot;starts-with&quot;</span>, <span class="hljs-string">&quot;$key&quot;</span>, <span class="hljs-string">&quot;my_prefix/&quot;</span>
        ],

        [
            <span class="hljs-string">&quot;content-length-range&quot;</span>, <span class="hljs-number">0</span>, <span class="hljs-number">52428800</span>
        ]
    ]
}
</code></pre>
<ul>
<li><p>Description of the above example:</p>
<ul>
<li>Upload must be before &quot;2014-04-10t08:55:34.000z&quot;.</li>
<li>Upload the file to the bucket named &quot;my bucket name&quot;.</li>
<li>starts-with&#xFF1A;$key must start with &quot;my_ Prefix&quot; / &apos;(the &quot;$key&quot; in the policy must be preceded by &quot;$&quot;). If the $key value is empty, there is no prefix before the file name.</li>
<li>content-length-range&#xFF1A;The file size must be within the specified range.</li>
<li>Finally, Base64 encode the policy and set it to the value of the form policy.expiration:</li>
</ul>
</li>
</ul>
<h5 id="expiration">Expiration</h5>
<p>Expiration is used to specify the expiration time of the policy. The expiration date of the policy is specified in ISO 8601 UTC date format. For example, &quot;2007-12-01t12:00:00.000z&quot; specifies that expiration is required in the policy.</p>
<h5 id="condition">Condition:</h5>
<p> Condition is used to verify the content of the uploaded object and the fields filled in by the form</p>
<h6 id="condition-type">Condition type</h6>
<table class="table table-condensed">
        <thead>
          <tr>
            <th>Condition</th>
            <th>Description</th>
          </tr>
        </thead>
        <tbody>

          <tr>
            <td width="185px">Precise Matching</td>
            <td>
                1. Precise matching will verify that the field matches a specific value. This example instructs that the ACL must be set to public-read: {&quot;acl&quot;: &quot;public-read&quot; } <br>
              2.ACL must be set to public-read alternative: [ &quot;eq&quot;, &quot;$acl&quot;, &quot;public-read&quot; ]
            </td>
          </tr>    

          <tr>
            <td>Starts With</td>
            <td>
            If the value must start with a specific value, use starts-with. this example instructs that the key must start with user/betty
starts with:[&quot;starts-with&quot;, &quot;$key&quot;, &quot;user/betty/&quot;]

            </td>
          </tr>  
          <tr>
            <td>Specify the range</td>
            <td>
            For fields that accept a range, use a comma to separate the upper and lower limit values. This example allows 1 to 10 MB of
file sizes:[&quot;content-length-range&quot;, 1048579, 10485760], byte

            </td>
          </tr>                        
        </tbody>
</table>

<h6 id="conditions-field">Conditions field</h6>
<p>The conditions in the policy document verify the content of the uploaded object. Each form field you specify in the form&#xFF08;AWSAccessKeyId&#x3001;Signature&#x3001; file&#x3001;Policy except&#xFF09;Can be used as a condition</p>
<h4 id="signature-construction">Signature Construction:</h4>
<ul>
<li>Encoding policy with UTF-8</li>
<li>Encode the policy in UTF-8 form with Base64</li>
<li>Use HMAC SHA-1 and your secret key to convert your policy. Finally, Base64 coding is performed. For example, when using PHP&#xFF0C;base64_encode( hash_hmac( &quot;sha1&quot;, $policy, $SECRETKEY, true ) );</li>
<li>Set the final value to the value of the form signature.</li>
</ul>
<p>Finally generated HTML form:</p>
<pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">method</span>=<span class="hljs-string">&quot;post&quot;</span> <span class="hljs-attr">action</span>=<span class="hljs-string">&quot;http://my-bucket.&lt;?=c(&apos;api_host&apos;);?&gt;/&quot;</span> <span class="hljs-attr">enctype</span>=<span class="hljs-string">&quot;multipart/form-data&quot;</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;hidden&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;AWSAccessKeyId&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;&#x60A8;&#x7684;accesskey&quot;</span> /&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;hidden&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;key&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;my_prefix/${filename}&quot;</span> /&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;hidden&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;acl&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;private&quot;</span> /&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;hidden&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;success_action_status&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;201&quot;</span> /&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;hidden&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;Policy&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;eyJleHBpcmF0aW9uIjoiMjAxNC0wNC0xMFQwOToxNzozMC4wMDBaIiwiY29uZGl0aW9ucyI6W3siYnVja2V0IjoiY2xvdWQxMjMqwqwsdifsdGFydHMtd2l0aCIsIiRrZXkiLCJteWZpbGVzLyJdLFsic3RhcnRzLXdpdGgiLCIkQ29udGVudC1UeXBlIiwiIl0sWyJzdGFydHMtd2l0aCIsIiRDb250ZW50LURpc3Bvc2l0aW9uIiwiIl0seyJ1aWQiOiIxMjMifSxbImNvbnRlbnQtbGVuZ3RoLXJhbmdlIiwwLDUyNDI4ODAwXV19&quot;</span> /&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;hidden&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;Signature&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;HnOSk3kfx5LFtn4CIiFcSglQUXc=&quot;</span> /&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;file&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;file&quot;</span> /&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;submit&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;&#x4E0A;&#x4F20;&quot;</span> /&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span>
</code></pre>
<ul>
<li>matters needing attention&#xFF1A;<ul>
<li>The URI after the  POST  request can only be &#x201C;/&#x201D;</li>
<li>success_action_redirect&#xFF1A;Specify the URL to be redirected by the client after successful upload.</li>
<li>key&#xFF1A;The variable ${filename} will be automatically replaced with the file name of the uploaded file</li>
</ul>
</li>
</ul>
<h3 id="put-object---copy">PUT Object - Copy</h3>
<ul>
<li>Description: create an object by copying (copy another file in the system instead of uploading specific file content).</li>
<li>Request format:&#xFF1A;</li>
</ul>
<pre><code class="lang-http"><span class="hljs-keyword">PUT</span> <span class="hljs-string">/&lt;ObjectName&gt;</span> HTTP/1.1
<span class="hljs-attribute">Host</span>: &lt;Your-Bucket-Name&gt;.ss.bscstorage.com
<span class="hljs-attribute">Date</span>: &lt;date&gt;
<span class="hljs-attribute">x-amz-copy-source</span>: &lt;/source-bucket/source-object&gt;
<span class="hljs-attribute">Authorization</span>: &lt;authorization string&gt; #Please refer to signature algorithm
</code></pre>
<ul>
<li>response&#xFF1A;</li>
</ul>
<pre><code class="lang-http">HTTP/1.1 <span class="hljs-number">200</span> OK
<span class="hljs-attribute">Date</span>: Tue, 08 Apr 2014 02:59:47 GMT
<span class="hljs-attribute">Connection</span>: keep-alive
<span class="hljs-attribute">ETag</span>: &quot;&lt;MD5 value of file&gt;&quot;
<span class="hljs-attribute">x-amz-request-id</span>: 0000106c-1608-0810-4621-00163e000064
<span class="hljs-attribute">x-amz-s2-requester</span>: &lt;Your UserName&gt;

<span class="xml"><span class="php"><span class="hljs-meta">&lt;?</span>xml version=<span class="hljs-string">&quot;1.0&quot;</span> encoding=<span class="hljs-string">&quot;UTF-8&quot;</span><span class="hljs-meta">?&gt;</span></span>
<span class="hljs-tag">&lt;<span class="hljs-name">CopyObjectResult</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">&quot;http://s3.amazonaws.com/doc/2006-03-01/&quot;</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">LastModified</span>&gt;</span>Mon, 08 Aug 2016 05:04:10 GMT<span class="hljs-tag">&lt;/<span class="hljs-name">LastModified</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">ETag</span>&gt;</span>870c06c00566c4fb1861bb10f34d1904<span class="hljs-tag">&lt;/<span class="hljs-name">ETag</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">CopyObjectResult</span>&gt;</span>
</span></code></pre>
<ul>
<li><p>Request Headers&#xFF1A;</p>
<table class="table table-condensed">
      <thead>
        <tr>
          <th>Name</th>
          <th>Description</th>
          <th>Required</th>
        </tr>
      </thead>
      <tbody>      
        <tr>
          <td>x-amz-copy-source</td>
          <td>
              The address of the file to be copied. Format: / source bucket / source object. urlencode the whole.
          </td>
          <td>Yes</td>
        </tr>     
        <tr>
          <td>Cache-Control</td>
          <td>
              File cache, standard HTTP protocol. For more information, see:http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.9
          </td>
          <td>No</td>
        </tr>      
        <tr>
          <td>Expires</td>
          <td>
              The cache expiration time of the file in the client or browser allows the client not to check the server before this time, and the original value is returned when reading. Format is&#xFF1A;Sun, 29 Jul 2018 20:36:14 UTC
          </td>
          <td>No</td>
        </tr>          
        <tr>
          <td>Content-Type</td>
          <td>
              File mime type. The original value is returned when reading
          </td>
          <td>No</td>
        </tr>        
        <tr>
          <td>Content-Length</td>
          <td>
              must be 0
          </td>
          <td>=0</td>
        </tr>                           
        <tr>
          <td>Content-Disposition</td>
          <td>
              HTTP standard file attribute information. The original value is returned when reading. See&#xFF1A;http://www.w3.org/Protocols/rfc2616/rfc2616-sec19.html#sec19.5.1
          </td>
          <td>No</td>
        </tr>         
        <tr>
          <td>Content-Encoding</td>
          <td>
              File code, HTTP standard file attribute information, and the original value is returned when reading. See:http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.11
          </td>
          <td>No</td>
        </tr>       
        <tr>
          <td>x-amz-acl</td>
          <td>
              File ACL: set an ACL while creating a file. Please refer to &#x300A;ACL&#x300B;
          </td>
          <td>No</td>
        </tr>        
        <tr>
          <td>x-amz-meta-*</td>
          <td>
              User defined metadeta. The header starts with x-amz-meta -, and all meta are stored in the form of key: value. The maximum limit is 64KB. It is returned as it is when HEAD or GET
          </td>
          <td>No</td>
        </tr>             
        <tr>
          <td>x-amz-copy-source-if-match</td>
          <td>
              If the specified Etag matches the Etag of the source file, the source file can be copied, otherwise 412 is returned(PreconditionFailed)
          </td>
          <td>No</td>
        </tr>              
        <tr>
          <td>x-amz-copy-source-if-nonematch</td>
          <td>
              If the specified Etag does not match the Etag of the source file, the source file can be copied, otherwise 412 is returned(PreconditionFailed)
          </td>
          <td>No</td>
        </tr>           
        <tr>
          <td>x-amz-copy-source-if-unmodified-since</td>
          <td>
              If the source file has not been modified since the specified time, you can copy the source file; otherwise, return412(PreconditionFailed)
          </td>
          <td>No</td>
        </tr>            
        <tr>
          <td>x-amz-copy-source-if-modified-since</td>
          <td>
              If the source file has been modified since the specified time, you can copy the source file, otherwise return412(PreconditionFailed)
          </td>
          <td>No</td>
        </tr>    
      </tbody>
</table>

<ul>
<li><p>Response Body&#xFF08;Response XML Body&#xFF09;&#xFF1A;</p>
<table class="table table-condensed">
    <thead>
      <tr>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>

      <tr>
        <td>CopyObjectResult</td>
        <td>
            Contains Etag and LastModified elements
        </td>
      </tr>

      <tr>
        <td>ETag</td>
        <td>
            File&apos;s ETag
        </td>
      </tr>

      <tr>
        <td>CopyObjectResult</td>
        <td>
            Last modification time of the file
        </td>
      </tr>
    </tbody>
</table>
</li>
</ul>
</li>
<li><p>Request example:
```
curl -v -X PUT -H &quot;x-amz-copy-source: /bucket-123/path/to/file123.txt&quot; -H &quot;Date:</p>
</li>
</ul>
<p>Sat, 20 Nov 2286 17:46:39 GMT&quot; -H &quot;Authorization: AWS <access\_key>:<ssig>&quot; &quot;http://<your-bucket-name>.ss.bscstorage.com/path/to/myfile.txt&quot;</your-bucket-name></ssig></access\_key></p>
<pre><code>
### DELETE Object

- Description: deletes the specified object.

- Request format:

```http
DELETE /&lt;ObjectName&gt; HTTP/1.1
Host: &lt;Your-Bucket-Name&gt;.ss.bscstorage.com
Date: &lt;date&gt;
Authorization: &lt;authorization string&gt; #Please refer to signature algorithm
</code></pre><ul>
<li>Response (no HTTP Body)</li>
</ul>
<pre><code class="lang-http">HTTP/1.1 <span class="hljs-number">204</span> No Content
<span class="hljs-attribute">Date</span>: Tue, 08 Apr 2014 02:59:47 GMT
<span class="hljs-attribute">Content-Length</span>: 0
<span class="hljs-attribute">Connection</span>: keep-alive
<span class="hljs-attribute">x-amz-request-id</span>: 0000106c-1608-0810-4621-00163e000064
<span class="hljs-attribute">x-amz-s2-requester</span>: &lt;Your UserName&gt;
</code></pre>
<ul>
<li>Request example:</li>
</ul>
<pre><code>curl -v -X DELETE -H &quot;Date: Sat, 20 Nov 2286 17:46:39 GMT&quot; -H &quot;Authorization: AWS &lt;access_key&gt;:&lt;ssig&gt;&quot; &quot;http://&lt;Your-Bucket-Name&gt;.ss.bscstorage.com/path/to/my/file.txt&quot;
</code></pre><h3 id="get-object">GET Object</h3>
<ul>
<li><p>Description: get an object (download).</p>
</li>
<li><p>Request format:</p>
</li>
</ul>
<pre><code class="lang-http"><span class="hljs-keyword">GET</span> <span class="hljs-string">/&lt;ObjectName&gt;</span> HTTP/1.1
<span class="hljs-attribute">Host</span>: &lt;Your-Bucket-Name&gt;.ss.bscstorage.com
<span class="hljs-attribute">Date</span>: &lt;date&gt;
<span class="hljs-attribute">Authorization</span>: &lt;authorization string&gt; #Please refer to signature algorithm
<span class="hljs-attribute">Range</span>: bytes=&lt;byte_range&gt; #Support breakpoint Download
</code></pre>
<ul>
<li>Response:</li>
</ul>
<pre><code class="lang-http">HTTP/1.1 <span class="hljs-number">200</span> OK
<span class="hljs-attribute">Date</span>: Tue, 08 Apr 2014 02:59:47 GMT
<span class="hljs-attribute">Connection</span>: keep-alive
<span class="hljs-attribute">Content-Type</span>: &lt;object-mime-type&gt;
<span class="hljs-attribute">Content-Length</span>: &lt;object-file-bytes&gt;
<span class="hljs-attribute">ETag</span>: &quot;&lt;MD5 value of file&gt;&quot;
<span class="hljs-attribute">Last-Modified</span>: &lt;Last modification time&gt;
<span class="hljs-attribute">x-amz-request-id</span>: 0000106c-1608-0810-4621-00163e000064
<span class="hljs-attribute">x-amz-s2-requester</span>: &lt;Your UserName&gt;
<span class="hljs-attribute">x-amz-meta-foo1</span>: &lt;value1&gt; #Custom meta: foo1
<span class="hljs-attribute">x-amz-meta-foo2</span>: &lt;value2&gt; #Custom meta: foo2

<span class="stylus"><span class="hljs-selector-id">#File</span> <span class="hljs-attribute">content</span>
&lt;BODY&gt;
</span></code></pre>
<ul>
<li>Request Headers&#xFF1A;</li>
</ul>
<table class="table table-condensed">
        <thead>
          <tr>
            <th>Name</th>
            <th>Description</th>
            <th>Required</th>
          </tr>
        </thead>
        <tbody>

          <tr>
            <td>Range</td>
            <td>
                Downloads the specified range bytes of an object. For more information about the HTTP Range header, go to http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.35.<br>
                &#x2022; Type: String<br>
                &#x2022; Default: None<br>
                &#x2022; Constraints: None
            </td>
            <td>No</td>
          </tr>    

          <tr>
            <td>If-Modified-Since</td>
            <td>
                Return the object only if it has been modified since the specified time, otherwise return a 304 (not modified).<br>
                &#x2022; Type: String<br>
                &#x2022; Default: None<br>
                &#x2022; Constraints: None
            </td>
            <td>No</td>
          </tr>    

          <tr>
            <td>If-Unmodified-Since</td>
            <td>
                Return the object only if it has not been modified since the specified time, otherwise return a 412 (precondition failed).<br>
                &#x2022; Type: String<br>
                &#x2022; Default: None<br>
                &#x2022; Constraints: None
            </td>
            <td>No</td>
          </tr>    

          <tr>
            <td>If-Match</td>
            <td>
                Return the object only if its entity tag (ETag) is the same as the one specified; otherwise, return a 412 (precondition failed).<br>
                &#x2022; Type: String<br>
                &#x2022; Default: None<br>
                &#x2022; Constraints: None
            </td>
            <td>No</td>
          </tr>  

          <tr>
            <td>If-None-Match</td>
            <td>
                Return the object only if its entity tag (ETag) is different from the one specified; otherwise, return a 304 (not modified).<br>
                &#x2022; Type: String<br>
                &#x2022; Default: None<br>
                &#x2022; Constraints: None
            </td>
            <td>No</td>
          </tr> 

        </tbody>
</table>

<ul>
<li>Response Headers&#xFF1A;</li>
</ul>
<table class="table table-condensed">
        <thead>
          <tr>
            <th>Name</th>
            <th>Description</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Content-Type</td>
            <td>Object&apos;s mime-type</td>
          </tr>
          <tr>
            <td>Content-Length</td>
            <td>Object&apos;s size(bytes)</td>
          </tr>
          <tr>
            <td>ETag</td>
            <td>Object&apos;s hash value&#xFF0C;normally it is md5</td>
          </tr>
          <tr>
            <td>Last-Modified</td>
            <td>Object&apos;s last modified time</td>
          </tr>
          <tr>
            <td>x-amz-meta-*</td>
            <td>You can customize the file attribute information and return the original value when reading.<br>
            For example&#xFF1A;<br>
            x-amz-meta-UploadLocation: My Home<br>
            X-amz-meta-ReviewedBy: test@test.net<br>
            X-amz-meta-FileChecksum: 0x02661779<br>
            X-amz-meta-CheckSumAlgorithm: crc32<br>
            </td>
          </tr>
          <tr>
            <td>x-amz-meta-crc32</td>
            <td>Object&apos;s CRC32 value</td>
          </tr>
        </tbody>
</table>

<ul>
<li>Request example:</li>
</ul>
<pre><code>curl -v -H &quot;Range: bytes=0-1024&quot; -H &quot;Date: Sat, 20 Nov 2286 17:46:39 GMT&quot; -H &quot;Authorization: AWS &lt;access_key&gt;:&lt;ssig&gt;&quot; &quot;http://&lt;Your-Bucket-Name&gt;.ss.bscstorage.com/&lt;Object-Name&gt;&quot;
</code></pre><ul>
<li><p>Application examples:</p>
</li>
<li><p>Standard example:</p>
</li>
</ul>
<pre><code class="lang-http"><span class="hljs-keyword">GET</span> <span class="hljs-string">/my_bucket/path/to/my/file.txt</span> HTTP/1.1
<span class="hljs-attribute">Host</span>: ss.bscstorage.com
<span class="hljs-attribute">Date</span>: Sun, 1 Jan 2006 12:00:00 GMT
<span class="hljs-attribute">Authorization</span>: AWS AccessKey:ssig
<span class="hljs-attribute">Range</span>: bytes=100-2048
</code></pre>
<pre><code>-    &#x54CD;&#x5E94;&#xFF1A;
</code></pre><pre><code class="lang-http">HTTP/1.1 <span class="hljs-number">206</span> Partial Content
<span class="hljs-attribute">Server</span>: openresty/1.9.7.4
<span class="hljs-attribute">Content-Type</span>: application/xml
<span class="hljs-attribute">Connection</span>: keep-alive
<span class="hljs-attribute">x-amz-request-id</span>: 0000106c-1608-0810-4621-00163e000064
<span class="hljs-attribute">x-amz-s2-requester</span>: GRPS000000ANONYMOUSE
<span class="hljs-attribute">Date</span>: Mon, 08 Aug 2016 02:46:21 GMT
<span class="hljs-attribute">Last-Modified</span>: Mon, 08 Aug 2016 02:45:55 GMT
<span class="hljs-attribute">ETag</span>: &quot;21b1a992d1cbf49729fc4461e55dd94f&quot;
<span class="hljs-attribute">x-amz-meta-s2-size</span>: 109051904
<span class="hljs-attribute">x-amz-meta-s2-crc32</span>: 9422bc32
<span class="hljs-attribute">Cache-Control</span>: max-age=31536000
<span class="hljs-attribute">Content-Length</span>: 109051904

<span class="erlang">...
file_content
...
</span></code></pre>
<ul>
<li>Download methods using various verification measures:</li>
</ul>
<pre><code class="lang-http"><span class="hljs-keyword">GET</span> <span class="hljs-string">/path/to/my/file.txt?AWSAccessKeyId=&lt;AccessKey&gt;&amp;Expires=&lt;1175139620&gt;&amp;Signature=&lt;your_sign&gt;</span> HTTP/1.1
<span class="hljs-attribute">Host</span>: my_bucket.ss.bscstorage.com
<span class="hljs-attribute">Date</span>: date
<span class="hljs-attribute">Range</span>: bytes=byte_range
</code></pre>
<ul>
<li>Response:</li>
</ul>
<pre><code class="lang-http">HTTP/1.1 <span class="hljs-number">206</span> Partial Content
<span class="hljs-attribute">Server</span>: openresty/1.9.7.4
<span class="hljs-attribute">Content-Type</span>: application/xml
<span class="hljs-attribute">Connection</span>: keep-alive
<span class="hljs-attribute">x-amz-request-id</span>: 0000106c-1608-0810-4621-00163e000064
<span class="hljs-attribute">x-amz-s2-requester</span>: GRPS000000ANONYMOUSE
<span class="hljs-attribute">Date</span>: Mon, 08 Aug 2016 02:46:21 GMT
<span class="hljs-attribute">Last-Modified</span>: Mon, 08 Aug 2016 02:45:55 GMT
<span class="hljs-attribute">ETag</span>: &quot;21b1a992d1cbf49729fc4461e55dd94f&quot;
<span class="hljs-attribute">x-amz-meta-s2-size</span>: 109051904
<span class="hljs-attribute">x-amz-meta-s2-crc32</span>: 9422bc32
<span class="hljs-attribute">Cache-Control</span>: max-age=31536000
<span class="hljs-attribute">Content-Length</span>: 109051904

<span class="erlang">...
file_content
...
</span></code></pre>
<p><strong><em>For the meaning of QueryString in the above example, please refer to the description of authentication method in <a href="http://ss.bscstorage.com/imgx-test/demo/charles.png?AWSAccessKeyId=acc_drdrxp&amp;Expires=2464851871&amp;Signature=9Nb4uSsCdGbdhYdL05QNJMBOUDI%3D" target="_blank">signature algorithm</a>.</em></strong></p>
<h3 id="put-object-acl">PUT Object ACL</h3>
<ul>
<li><p>Description: sets ACL rules for the specified Object. For more information, please refer to&#xFF1A;<a href="../acl/acl.md">&#x300A;ACL&#x300B;</a></p>
</li>
<li><p>Request format:</p>
</li>
</ul>
<pre><code class="lang-http"><span class="hljs-keyword">PUT</span> <span class="hljs-string">/&lt;ObjectName&gt;?acl</span> HTTP/1.1
<span class="hljs-attribute">Host</span>: &lt;Your-Bucket-Name&gt;.ss.bscstorage.com
<span class="hljs-attribute">Date</span>: &lt;date&gt;
<span class="hljs-attribute">Authorization</span>: &lt;authorization string&gt; #Please refer to signature algorithm

<span class="prolog">#<span class="hljs-symbol">ACL</span>&#x89C4;&#x5219;: <span class="hljs-symbol">XML</span> or <span class="hljs-symbol">Json</span>
{
    <span class="hljs-string">&quot;Baishan0000000000000001&quot;</span> :  [ <span class="hljs-string">&quot;read&quot;</span>, <span class="hljs-string">&quot;read_acp&quot;</span> , <span class="hljs-string">&quot;write&quot;</span>, <span class="hljs-string">&quot;write_acp&quot;</span> ],
    <span class="hljs-string">&quot;GRPS000000ANONYMOUSE&quot;</span> :  [ <span class="hljs-string">&quot;read&quot;</span>, <span class="hljs-string">&quot;read_acp&quot;</span> , <span class="hljs-string">&quot;write&quot;</span>, <span class="hljs-string">&quot;write_acp&quot;</span> ],
    <span class="hljs-string">&quot;GRPS0000000CANONICAL&quot;</span> :  [ <span class="hljs-string">&quot;read&quot;</span>, <span class="hljs-string">&quot;read_acp&quot;</span> , <span class="hljs-string">&quot;write&quot;</span>, <span class="hljs-string">&quot;write_acp&quot;</span> ]
}
</span></code></pre>
<ul>
<li>Request Headers&#xFF1A;</li>
</ul>
<table class="table table-condensed">
        <thead>
          <tr>
            <th>Name</th>
            <th>Description</th>
            <th>Required</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>x-amz-acl</td>
            <td>
                File ACL: please refer to &#x300A;ACL&#x300B;
            </td>
            <td>No</td>
          </tr>
        </tbody>
</table>

<pre><code class="lang-http">HTTP/1.1 <span class="hljs-number">200</span> OK
<span class="hljs-attribute">Date</span>: Tue, 08 Apr 2014 02:59:47 GMT
<span class="hljs-attribute">Connection</span>: keep-alive
<span class="hljs-attribute">x-amz-request-id</span>: 0000106c-1608-0810-4621-00163e000064
<span class="hljs-attribute">x-amz-s2-requester</span>: &lt;Your UserName&gt;
</code></pre>
<ul>
<li>Request Body&#xFF08;&#x8BF7;&#x6C42;Body&#xFF09;&#xFF1A;
XML or JSon format acl body</li>
</ul>
<p>Note: If x-amz-acl is specified, the header will ignore the ACL in the body. The XML format in the body is determined by the request parameter formatter parameter, and the default is XML</p>
<ul>
<li><p>Response&#xFF08;no HTTP Body&#xFF09;&#xFF1A;</p>
</li>
<li><p>Please refer to&#xFF1A;<a href="../acl/acl.md">&#x300A;ACL&#x300B;</a></p>
</li>
<li><p>Request example&#xFF1A;</p>
</li>
</ul>
<pre><code>curl -v -T &quot;acl.txt&quot; -H &quot;Date: Sat, 20 Nov 2286 17:46:39 GMT&quot; -H &quot;Authorization:
AWS &lt;access_key&gt;:&lt;ssig&gt;&quot; &quot;http://&lt;Your-Bucket-Name&gt;.ss.bscstorage.com/path/to/my/file.txt&quot;
</code></pre><h3 id="initiate-multipart-upload">Initiate Multipart Upload</h3>
<ul>
<li>Description: initialization interface for large file fragment upload</li>
<li><p>Note: user authentication is required in initializing the upload interface. Anonymous users cannot use this interface. During the initial upload, the meta binding information required for file upload can be given. This information will be retained in subsequent uploads and written to the cloud storage system when the final upload is completed.</p>
</li>
<li><p>Request format:</p>
</li>
</ul>
<pre><code class="lang-http"><span class="hljs-keyword">POST</span> <span class="hljs-string">/&lt;ObjectName&gt;?uploads</span> HTTP/1.1
<span class="hljs-attribute">Host</span>: &lt;Your-Bucket-Name&gt;.ss.bscstorage.com
<span class="hljs-attribute">Date</span>: &lt;date&gt;
<span class="hljs-attribute">Content-Type</span>: &lt;mime-type&gt;
<span class="hljs-attribute">x-amz-meta-foo1</span>: &lt;value1&gt; #custom meta&#xFF1A;foo1
<span class="hljs-attribute">x-amz-meta-foo2</span>: &lt;value2&gt; #custom meta&#xFF1A;foo2
<span class="hljs-attribute">Authorization</span>: &lt;authorization string&gt; #Please refer to signature algorithm
</code></pre>
<ul>
<li>Response:</li>
</ul>
<pre><code class="lang-http">HTTP/1.1 <span class="hljs-number">200</span> OK
<span class="hljs-attribute">Date</span>: Tue, 08 Apr 2014 02:59:47 GMT
<span class="hljs-attribute">Connection</span>: keep-alive
<span class="hljs-attribute">x-amz-request-id</span>: 0000106c-1608-0810-4621-00163e000064
<span class="hljs-attribute">x-amz-s2-requester</span>: &lt;Your UserName&gt;

<span class="xml"><span class="php"><span class="hljs-meta">&lt;?</span>xml version=<span class="hljs-string">&quot;1.0&quot;</span> encoding=<span class="hljs-string">&quot;UTF-8&quot;</span><span class="hljs-meta">?&gt;</span></span>
<span class="hljs-tag">&lt;<span class="hljs-name">InitiateMultipartUploadResult</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">&quot;http://s3.amazonaws.com/doc/2006-03-01/&quot;</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">Bucket</span>&gt;</span>your-bucket<span class="hljs-tag">&lt;/<span class="hljs-name">Bucket</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">Key</span>&gt;</span>objectName<span class="hljs-tag">&lt;/<span class="hljs-name">Key</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">UploadId</span>&gt;</span>VXBsb2FkIElEIGZvciA2aWWpbmcncyBteS1tb3ZpZS5tMnRzIHVwbG9hZA<span class="hljs-tag">&lt;/<span class="hljs-name">UploadId</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">InitiateMultipartUploadResult</span>&gt;</span>
</span></code></pre>
<ul>
<li>Request Headers&#xFF1A;
reference resources for put_object documentation</li>
</ul>
<ul>
<li>Response Body&#xFF08;Response XML Body&#xFF09;&#xFF1A;</li>
</ul>
<table class="table table-condensed">
        <thead>
          <tr>
            <th>Name</th>
            <th>Description</th>
          </tr>
        </thead>
        <tbody>

          <tr>
            <td>InitiateMultipartUploadResult</td>
            <td>
                Contains Bucket, Key and UploadId elements
            </td>
          </tr>

          <tr>
            <td>Bucket</td>
            <td>
                bucket name
            </td>
          </tr>

          <tr>
            <td>Key</td>
            <td>
                objectName
            </td>
          </tr>

          <tr>
            <td>UploadId</td>
            <td>
                Identify the ID of the block upload. This parameter needs to be carried when uploading the block later
            </td>
          </tr>
        </tbody>
</table>

<ul>
<li>Request example:</li>
</ul>
<pre><code>curl -v -X POST &quot;Date: Sat, 20 Nov 2286 17:46:39 GMT&quot; -H &quot;Authorization: AWS &lt;access_key&gt;:&lt;ssig&gt;&quot; &quot;http://&lt;Your-Bucket-Name&gt;.ss.bscstorage.com/path/to/my/file.txt?uploads&quot;
</code></pre><h3 id="upload-part">Upload Part</h3>
<ul>
<li><p>Description: upload slice interface</p>
</li>
<li><p>Request format:</p>
</li>
</ul>
<pre><code class="lang-http"><span class="hljs-keyword">PUT</span> <span class="hljs-string">/&lt;ObjectName&gt;?partNumber=&lt;PartNumber&gt;&amp;uploadId=&lt;UploadId&gt;</span> HTTP/1.1
<span class="hljs-attribute">Host</span>: &lt;Your-Bucket-Name&gt;.ss.bscstorage.com
<span class="hljs-attribute">Date</span>: &lt;date&gt;
<span class="hljs-attribute">Content-Length</span>: &lt;Content-Length&gt;
<span class="hljs-attribute">Content-MD5</span>: &lt;Content-MD5&gt;
<span class="hljs-attribute">Authorization</span>: &lt;authorization string&gt; #Please refer to signature algorithm

<span class="erlang">...
file_content
...
</span></code></pre>
<ul>
<li>Response:</li>
</ul>
<pre><code class="lang-http">HTTP/1.1 <span class="hljs-number">200</span> OK
<span class="hljs-attribute">Date</span>: Tue, 08 Apr 2014 02:59:47 GMT
<span class="hljs-attribute">Connection</span>: keep-alive
<span class="hljs-attribute">x-amz-request-id</span>: 0000106c-1608-0810-4621-00163e000064
<span class="hljs-attribute">x-amz-s2-requester</span>: &lt;Your UserName&gt;
<span class="hljs-attribute">Etag</span>: &lt;Etag&gt;
</code></pre>
<ul>
<li>Request Parameters&#xFF1A;</li>
</ul>
<table class="table table-condensed">
        <thead>
          <tr>
            <th>Parameter</th>
            <th>Description</th>
            <th>Required</th>
          </tr>
        </thead>
        <tbody>

          <tr>
            <td>partNumber</td>
            <td>The serial number of the document slice, starting from 1</td>
            <td>Yes</td>
          </tr>

          <tr>
            <td>uploadId</td>
            <td>Uploadid value obtained through Initiate Multipart Upload (large file fragment upload initialization interface)</td>
            <td>Yes</td>
          </tr>

        </tbody>
    </table>

<ul>
<li>Request Heades&#xFF1A;</li>
</ul>
<table class="table table-condensed">
        <thead>
          <tr>
            <th>Name</th>
            <th>Description</th>
            <th>Required</th>
          </tr>
        </thead>
        <tbody>

          <tr>
            <td>Content-Length</td>
            <td>File size, original value returned when reading</td>
            <td>Yes</td>
          </tr>

          <tr>
            <td>Content-MD5</td>
            <td>Base64 encoded file MD5 (fail when inconsistent with the transmitted content). Note: the string format is the value encoded by Base64 in RFC standard</td>
            <td>No</td>
          </tr>
        </tbody>
    </table>

<ul>
<li>Attention&#xFF1A;<ul>
<li>The number of slices cannot exceed 2000.</li>
</ul>
</li>
</ul>
<h3 id="upload-part---copy">Upload Part - Copy</h3>
<ul>
<li><p>Description: create and upload a fragment by copying (do not upload specific file content, but copy another file in the system by COPY).</p>
</li>
<li><p>Request format:</p>
</li>
</ul>
<pre><code>PUT /&lt;ObjectName&gt;?partNumber=PartNumber&amp;uploadId=UploadId HTTP/1.1
Host: &lt;Your-Bucket-Name&gt;.ss.bscstorage.com
Date: &lt;date&gt;
x-amz-copy-source: &lt;/source-bucket/source-object&gt;
Authorization: &lt;authorization string&gt; #Please refer to signature algorithm
</code></pre><ul>
<li>Response:</li>
</ul>
<pre><code>HTTP/1.1 200 OK
Date: Tue, 08 Apr 2014 02:59:47 GMT
Connection: keep-alive
ETag: &quot;&lt;&#x6587;&#x4EF6;&#x7684;MD5&#x503C;&gt;&quot;
x-amz-request-id: 0000106c-1608-0810-4621-00163e000064
x-amz-s2-requester: &lt;Your UserName&gt;

&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;CopyObjectResult xmlns=&quot;http://s3.amazonaws.com/doc/2006-03-01/&quot;&gt;
    &lt;LastModified&gt;Mon, 08 Aug 2016 05:04:10 GMT&lt;/LastModified&gt;
    &lt;ETag&gt;870c06c00566c4fb1861bb10f34d1904&lt;/ETag&gt;
&lt;/CopyObjectResult&gt;
</code></pre><ul>
<li>Request Parameters&#xFF1A;</li>
</ul>
<table class="table table-condensed">
    <thead>
      <tr>
        <th>Parameter</th>
        <th>Description</th>
        <th>Required</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>partNumber</td>
        <td>The serial number of the document slice, starting from 1</td>
        <td>Yes</td>
      </tr>
      <tr>
        <td>uploadId</td>
        <td>Uploadid value obtained through Initiate Multipart Upload (large file fragment upload initialization interface)</td>
        <td>Yes</td>
      </tr>
    </tbody>
</table>

<ul>
<li>Request Headers&#xFF1A;</li>
</ul>
<table class="table table-condensed">
        <thead>
          <tr>
            <th>Name</th>
            <th>Description</th>
            <th>Required</th>
          </tr>
        </thead>
        <tbody>

          <tr>
            <td>x-amz-copy-source</td>
            <td>
                The address of the file to be copied. format&#xFF1A;/source-bucket/source-object&#xFF0C;We need to encode urlencode as a whole
            </td>
            <td>Yes</td>
          </tr>
          <tr>
            <td>Content-Length</td>
            <td>
               Must be 0
            </td>
            <td>=0</td>
          </tr>
          <tr>
            <td>x-amz-copy-source-if-match</td>
            <td>
                If the specified Etag matches the Etag of the source file, the source file can be copied, otherwise it returns412(PreconditionFailed)
            </td>
            <td>No</td>
          </tr>
          <tr>
            <td>x-amz-copy-source-if-nonematch</td>
            <td>
                If the specified Etag does not match the Etag of the source file, the source file can be copied, otherwise it returns412(PreconditionFailed)
            </td>
            <td>No</td>
          </tr>
          <tr>
            <td>x-amz-copy-source-if-unmodified-since</td>
            <td>
                If the source file has not been modified since the specified time, you can copy the source file; otherwise, return412(PreconditionFailed)
            </td>
            <td>No</td>
          </tr>
          <tr>
            <td>x-amz-copy-source-if-modified-since</td>
            <td>
                If the source file is modified at the specified time, the source file can be copied, otherwise 412 is returned(PreconditionFailed)
            </td>
            <td>No</td>
          </tr>
        </tbody>
</table>

<ul>
<li>Response Body&#xFF08;Response XML Body&#xFF09;&#xFF1A;</li>
</ul>
<table class="table table-condensed">
        <thead>
          <tr>
            <th>Name</th>
            <th>Description</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>CopyObjectResult</td>
            <td>
                contain ETag and LastModified 
            </td>
          </tr>
          <tr>
            <td>ETag</td>
            <td>
                File&apos;s ETag
            </td>
          </tr>
          <tr>
            <td>CopyObjectResult</td>
            <td>
                File last modified time
            </td>
          </tr>
        </tbody>
</table>

<ul>
<li>Request example:</li>
</ul>
<pre><code>curl -v -X PUT -H &quot;x-amz-copy-source: /bucket-123/path/to/file123.txt&quot; -H &quot;Date:
Sat, 20 Nov 2286 17:46:39 GMT&quot; -H &quot;Authorization: AWS &lt;access_key&gt;:&lt;ssig&gt;&quot; &quot;http://&lt;Your-Bucket-Name&gt;.ss.bscstorage.com/path/to/myfile.txt?partNumber=&lt;PartNumber&gt;&amp;uploadId=&lt;UploadId&gt;&quot;
</code></pre><h2 id="complete-multipart-upload">Complete Multipart Upload</h2>
<ul>
<li><p>Description: large file fragment upload and splicing completion interface (merging interface)</p>
</li>
<li><p>Request format:</p>
</li>
</ul>
<pre><code class="lang-http"><span class="hljs-keyword">POST</span> <span class="hljs-string">/&lt;ObjectName&gt;?uploadId=&lt;UploadId&gt;</span> HTTP/1.1
<span class="hljs-attribute">Host</span>: &lt;Your-Bucket-Name&gt;.ss.bscstorage.com
<span class="hljs-attribute">Date</span>: &lt;date&gt;
<span class="hljs-attribute">Content-Type</span>: text/json
<span class="hljs-attribute">Authorization</span>: &lt;authorization string&gt; #Please refer to signature algorithm

<span class="dts"><span class="hljs-params">&lt;CompleteMultipartUpload&gt;</span>
    <span class="hljs-params">&lt;Part&gt;</span>
        <span class="hljs-params">&lt;PartNumber&gt;</span><span class="hljs-number">1</span><span class="hljs-params">&lt;/PartNumber&gt;</span>
        <span class="hljs-params">&lt;ETag&gt;</span><span class="hljs-string">&quot;a54357aff0632cce46d942af68356b38&quot;</span><span class="hljs-params">&lt;/ETag&gt;</span>
    <span class="hljs-params">&lt;/Part&gt;</span>
    <span class="hljs-params">&lt;Part&gt;</span>
        <span class="hljs-params">&lt;PartNumber&gt;</span><span class="hljs-number">2</span><span class="hljs-params">&lt;/PartNumber&gt;</span>
        <span class="hljs-params">&lt;ETag&gt;</span><span class="hljs-string">&quot;0c78aef83f66abc1fa1e8477f296d394&quot;</span><span class="hljs-params">&lt;/ETag&gt;</span>
    <span class="hljs-params">&lt;/Part&gt;</span>
    <span class="hljs-params">&lt;Part&gt;</span>
        <span class="hljs-params">&lt;PartNumber&gt;</span><span class="hljs-number">3</span><span class="hljs-params">&lt;/PartNumber&gt;</span>
        <span class="hljs-params">&lt;ETag&gt;</span><span class="hljs-string">&quot;acbd18db4cc2f85cedef654fccc4a4d8&quot;</span><span class="hljs-params">&lt;/ETag&gt;</span>
    <span class="hljs-params">&lt;/Part&gt;</span>
<span class="hljs-params">&lt;/CompleteMultipartUpload&gt;</span>
</span></code></pre>
<ul>
<li>Response:</li>
</ul>
<pre><code class="lang-http">HTTP/1.1 <span class="hljs-number">200</span> OK
<span class="hljs-attribute">Date</span>: Tue, 08 Apr 2014 02:59:47 GMT
<span class="hljs-attribute">Connection</span>: keep-alive
<span class="hljs-attribute">x-amz-request-id</span>: 0000106c-1608-0810-4621-00163e000064
<span class="hljs-attribute">x-amz-s2-requester</span>: &lt;Your UserName&gt;

<span class="xml"><span class="php"><span class="hljs-meta">&lt;?</span>xml version=<span class="hljs-string">&quot;1.0&quot;</span> encoding=<span class="hljs-string">&quot;UTF-8&quot;</span><span class="hljs-meta">?&gt;</span></span>
<span class="hljs-tag">&lt;<span class="hljs-name">CompleteMultipartUploadResult</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">&quot;http://s3.amazonaws.com/doc/2006-03-01/&quot;</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">Location</span>&gt;</span>http://Example-Bucket.ss.bscstorage.com/Example-Object<span class="hljs-tag">&lt;/<span class="hljs-name">Location</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">Bucket</span>&gt;</span>Example-Bucket<span class="hljs-tag">&lt;/<span class="hljs-name">Bucket</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">Key</span>&gt;</span>Example-Object<span class="hljs-tag">&lt;/<span class="hljs-name">Key</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">ETag</span>&gt;</span>&quot;3858f62230ac3c915f300c664312c11f-9&quot;<span class="hljs-tag">&lt;/<span class="hljs-name">ETag</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">CompleteMultipartUploadResult</span>&gt;</span>
</span></code></pre>
<ul>
<li><p>Request Parameters&#xFF1A;</p>
<table class="table table-condensed">
      <thead>
        <tr>
          <th>Name</th>
          <th>Description</th>
          <th>Required</th>
        </tr>
      </thead>
      <tbody>       
        <tr>
          <td>PartNumber</td>
          <td>Uploadid value obtained through Initiate Multipart Upload (large file fragment upload initialization interface)</td>
          <td>Yes</td>
        </tr>      
        <tr>
          <td>ETag</td>
          <td>The Etag value in the response header returned after successful upload through the Upload Part</td>
          <td>Yes</td>
        </tr>     
      </tbody>
</table>

<ul>
<li>Response Body&#xFF08; Response XML Body&#xFF09;&#xFF1A;<table class="table table-condensed">
    <thead>
      <tr>
        <th>Name</th>
        <th>Description</th>
        <th>Required</th>
      </tr>
    </thead>
    <tbody>      
      <tr>
        <td>CompleteMultipartUploadResult</td>
        <td>
            Contain Location, Bucket, Key and ETag element
        </td>
        <td>Yes</td>
      </tr>     
      <tr>
        <td>Location</td>
        <td>
            URI Identifies the newly uploaded file
        </td>
        <td>Yes</td>
      </tr>    
      <tr>
        <td>Bucket</td>
        <td>
            bucket name
        </td>
        <td>Yes</td>
      </tr>  
      <tr>
        <td>Key</td>
        <td>
            objectName
        </td>
        <td>Yes</td>
      </tr>
      <tr>
        <td>ETag</td>
        <td>
            Etag of the file, the Etag and put\_ Unlike the Etag of object, it is not the MD5 value of the file
        </td>
        <td>Yes</td>
      </tr>
    </tbody>
</table>


</li>
</ul>
</li>
</ul>
<h3 id="list-parts">List Parts</h3>
<ul>
<li><p>Description: lists all blocks that have been uploaded</p>
</li>
<li><p>Request format:</p>
</li>
</ul>
<pre><code class="lang-http"><span class="hljs-keyword">GET</span> <span class="hljs-string">/&lt;ObjectName&gt;?uploadId=&lt;UploadId&gt;</span> HTTP/1.1
<span class="hljs-attribute">Host</span>: &lt;Your-Bucket-Name&gt;.ss.bscstorage.com
<span class="hljs-attribute">Date</span>: &lt;date&gt;
<span class="hljs-attribute">Authorization</span>: &lt;authorization string&gt; #Please refer to signature algorithm
</code></pre>
<ul>
<li>Response:</li>
</ul>
<pre><code class="lang-http">HTTP/1.1 <span class="hljs-number">200</span> OK
<span class="hljs-attribute">Date</span>: Tue, 08 Apr 2014 02:59:47 GMT
<span class="hljs-attribute">Connection</span>: keep-alive
<span class="hljs-attribute">x-amz-request-id</span>: 0000106c-1608-0810-4621-00163e000064
<span class="hljs-attribute">x-amz-s2-requester</span>: &lt;Your UserName&gt;

<span class="xml"><span class="php"><span class="hljs-meta">&lt;?</span>xml version=<span class="hljs-string">&quot;1.0&quot;</span> encoding=<span class="hljs-string">&quot;UTF-8&quot;</span><span class="hljs-meta">?&gt;</span></span>
<span class="hljs-tag">&lt;<span class="hljs-name">ListPartsResult</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">&quot;http://s3.amazonaws.com/doc/2006-03-01/&quot;</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">Bucket</span>&gt;</span>example-bucket<span class="hljs-tag">&lt;/<span class="hljs-name">Bucket</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">Key</span>&gt;</span>example-object<span class="hljs-tag">&lt;/<span class="hljs-name">Key</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">UploadId</span>&gt;</span>XXBsb2FkIElEIGZvciBlbHZpbmcncyVcdS1tb3ZpZS5tMnRzEEEwbG9hZA<span class="hljs-tag">&lt;/<span class="hljs-name">UploadId</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">Initiator</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">ID</span>&gt;</span>initiator<span class="hljs-tag">&lt;/<span class="hljs-name">ID</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">DisplayName</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">DisplayName</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">Initiator</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">Owner</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">ID</span>&gt;</span>owner<span class="hljs-tag">&lt;/<span class="hljs-name">ID</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">DisplayName</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">DisplayName</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">Owner</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">StorageClass</span>&gt;</span>STANDARD<span class="hljs-tag">&lt;/<span class="hljs-name">StorageClass</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">PartNumberMarker</span>&gt;</span>1<span class="hljs-tag">&lt;/<span class="hljs-name">PartNumberMarker</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">NextPartNumberMarker</span>&gt;</span>3<span class="hljs-tag">&lt;/<span class="hljs-name">NextPartNumberMarker</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">MaxParts</span>&gt;</span>2<span class="hljs-tag">&lt;/<span class="hljs-name">MaxParts</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">IsTruncated</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">IsTruncated</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">Part</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">PartNumber</span>&gt;</span>2<span class="hljs-tag">&lt;/<span class="hljs-name">PartNumber</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">LastModified</span>&gt;</span>2010-11-10T20:48:34.000Z<span class="hljs-tag">&lt;/<span class="hljs-name">LastModified</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">ETag</span>&gt;</span>&quot;7778aef83f66abc1fa1e8477f296d394&quot;<span class="hljs-tag">&lt;/<span class="hljs-name">ETag</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">Size</span>&gt;</span>10485760<span class="hljs-tag">&lt;/<span class="hljs-name">Size</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">Part</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">Part</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">PartNumber</span>&gt;</span>3<span class="hljs-tag">&lt;/<span class="hljs-name">PartNumber</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">LastModified</span>&gt;</span>2010-11-10T20:48:33.000Z<span class="hljs-tag">&lt;/<span class="hljs-name">LastModified</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">ETag</span>&gt;</span>&quot;aaaa18db4cc2f85cedef654fccc4a4x8&quot;<span class="hljs-tag">&lt;/<span class="hljs-name">ETag</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">Size</span>&gt;</span>10485760<span class="hljs-tag">&lt;/<span class="hljs-name">Size</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">Part</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">ListPartsResult</span>&gt;</span>
</span></code></pre>
<ul>
<li>Request Parameters&#xFF1A;</li>
</ul>
<table class="table table-condensed">
        <thead>
          <tr>
            <th>Parameter</th>
            <th>Description</th>
            <th>Required</th>
          </tr>
        </thead>
        <tbody>

          <tr>
            <td>uploadId</td>
            <td>Uploadid value obtained through Initiate Multipart Upload (large file fragment upload initialization interface)</td>
            <td>Yes</td>
          </tr>

          <tr>
            <td>max-parts</td>
            <td>Returns the maximum number of parts, 2048 by default</td>
            <td>Yes</td>
          </tr>

          <tr>
            <td>part-number-marker</td>
            <td>List the parts after the partnumber, excluding the part specified by the partnumber, which starts from 1</td>
            <td>Yes</td>
          </tr>

        </tbody>
</table>


<ul>
<li><p>Request Headers&#xFF1A;</p>
</li>
<li><p>Response Body&#xFF08;Response XML Body&#xFF09;&#xFF1A;</p>
</li>
</ul>
<table class="table table-condensed">
        <thead>
          <tr>
            <th>Name</th>
            <th>Description</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>ListPartsResult</td>
            <td>
                Contain Bucket, Key, UploadId, Initiator, Owner, StorageClass, PartNumberMarker, NextPartNumberMarker, MaxParts, IsTruncated, Part element
            </td>
          </tr>       
          <tr>
            <td>Bucket</td>
            <td>
                bucket name
            </td>
          </tr>        
          <tr>
            <td>Key</td>
            <td>
                objectName
            </td>
          </tr>
          <tr>
            <td>UploadId</td>
            <td>
                Identify the ID of the block upload. This parameter needs to be carried when uploading the block later
            </td>
          </tr>     
          <tr>
            <td>Initiator</td>
            <td>
                Include ID, DisplayName element
            </td>
          </tr>      
          <tr>
            <td>ID</td>
            <td>
                init UserName
            </td>
          </tr>     
          <tr>
            <td>DisplayName</td>
            <td>
            </td>
          </tr>    
          <tr>
            <td>Owner</td>
            <td>
                Include ID, DisplayName element, specific file&apos;s owner
            </td>
          </tr>    
          <tr>
            <td>StorageClass</td>
            <td>
                storage class
            </td>
          </tr>  
          <tr>
            <td>PartNumberMarker</td>
            <td>
                 list initial partNumber, does not include this partNumber
            </td>
          </tr>   
          <tr>
            <td>NextPartNumberMarker</td>
            <td>
                Start the partNumber of the list next time
            </td>
          </tr>    
          <tr>
            <td>MaxParts</td>
            <td>
                Maximum part numbers
            </td>
          </tr>   
          <tr>
            <td>IsTruncated</td>
            <td>
                Is it truncated
            </td>
          </tr>   
          <tr>
            <td>Part</td>
            <td>
                It contains partnumber, LastModified, Etag and size elements to represent the information of a part
            </td>
          </tr>  
          <tr>
            <td>PartNumber</td>
            <td>
                Number of part
            </td>
          </tr>  
          <tr>
            <td>LastModified</td>
            <td>
                Last modification time of part
            </td>
          </tr>
          <tr>
            <td>ETag</td>
            <td>
                part&apos;s md5
            </td>
          </tr>
          <tr>
            <td>Size</td>
            <td>
                part&apos;s size
            </td>
          </tr>
        </tbody>
</table>

<h2 id="provisional-signature&#xFF1A;sts">Provisional signature&#xFF1A;STS</h2>
<p>Temporary voucher usage process</p>
<p>After opening the storage account in Baishan cloud storage, you can get the access key and secret key required to access the storage service. This is a permanent access certificate and has any operation permission. Therefore, in order to prevent the disclosure of the permanent certificate, it is not suitable to store it in unsafe places such as mobile clients. When you need to access the storage service from the mobile client, you can use the temporary certificate. At this time, the permanent certificate is stored on the client server. The client server uses the permanent certificate to request the temporary certificate from the Baishan cloud storage node, and then sends the obtained temporary certificate to the mobile client. The mobile client then uses the temporary certificate to access the storage service.</p>
<p>Temporary vouchers include three parts: temporary <code>access_key</code>, temporary <code>secret_key</code>, token. The method of using temporary credentials is similar to that of using permanent credentials, except that an additional token needs to be added. If SDK is used, this token can be passed in through parameters.</p>
<p>Temporary vouchers have a validity period. You can set the length of the validity period when obtaining temporary vouchers, which can be set to 15 minutes to 60 minutes.</p>
<p>The permissions of temporary vouchers can also be set when obtaining them. For example, they can be set to upload only, download only, or upload only to the specified directory.</p>
<h2 id="sts&#x4F7F;&#x7528;&#x6D41;&#x7A0B;">STS&#x4F7F;&#x7528;&#x6D41;&#x7A0B;</h2>
<pre><code>             3            +------------+
  +--------------------&gt;  | Mobile client |
  |                       +------------+
  |                             |
  |                             | 4
  |                             |
  |                 1           v
+------------+ ---------&gt; +--------------------+
| Client server |            | Baishan cloud storage endpoint |
+------------+ &lt;--------- +--------------------+
                   2
</code></pre><ol>
<li><p>The client server accesses the STS service provided by the Baishan cloud storage node to obtain temporary credentials.</p>
</li>
<li><p>The cloud storage STS service returns temporary credentials.</p>
</li>
<li><p>The client server sends temporary credentials to the mobile client.</p>
</li>
<li><p>Mobile clients use temporary credentials to access cloud storage services.</p>
</li>
</ol>
<h3 id="example">Example</h3>
<p><a href="http://sts.ss.bscstorage.com" target="_blank">http://sts.ss.bscstorage.com</a></p>
<ul>
<li>Use the SDK of STS Service to access Baishan cloud storage STS Service. The endpoint is <code>http://sts.ss.bscstorage.com</code></li>
</ul>
<p>The following three parameters are commonly used to apply for temporary vouchers:</p>
<ul>
<li><p><code>Policy</code>: used to describe the allocated permissions. It is a JSON string, which only <code>Statement</code> needs to be filled in field</p>
<ul>
<li><p><code>Effect</code>:<code>Allow</code> indicates allow permission and <code>Deny</code> indicates a refusal.</p>
</li>
<li><p><code>Resource</code>: Used to describe which resources will be assigned permissions, <code>*</code> means for all.</p>
</li>
<li><p><code>Action</code> indicates an action that is rejected or allowed, <code>*</code> means for all.</p>
<ul>
<li><code>s3:GetObject</code></li>
<li><code>s3:GetObjectAcl</code></li>
<li><code>s3:PutObject</code></li>
<li><code>s3:DeleteObject</code></li>
<li><code>s3:PutObjectAcl</code></li>
<li><code>s3:ListMultipartUploadParts</code></li>
<li><code>s3:AbortMultipartUpload</code></li>
<li><code>s3:ListAllMyBuckets</code></li>
<li><code>s3:CreateBucket</code></li>
<li><code>s3:DeleteBucket</code></li>
<li><code>s3:GetBucketVersioning</code></li>
<li><code>s3:GetBucketCORS</code></li>
<li><code>s3:PutBucketAcl</code></li>
<li><code>s3:PutBucketVersioning</code></li>
<li><code>s3:PutBucketCORS</code></li>
<li><code>s3:ListBucket</code></li>
<li><code>s3:ListBucketMultipartUploads</code></li>
<li><code>s3:GetBucketPolicy</code></li>
<li><code>s3:PutBucketPolicy</code></li>
<li><code>s3:DeleteBucketPolicy</code></li>
<li><code>s3:GetBucketAcl</code></li>
</ul>
<p>Eg: &quot;{\&quot;Statement\&quot;:[{\&quot;Resource\&quot;:\&quot;<em>\&quot;,\&quot;Action\&quot;:[\&quot;s3:</em>\&quot;],\&quot;Effect\&quot;:\&quot;Allow\&quot;}]}&quot;&#x8868;&#x793A;&#x5141;&#x8BB8;&#x6240;&#x6709;&#x65B9;&#x6CD5;&#x8BBF;&#x95EE;&#x6240;&#x6709;&#x8D44;&#x6E90;&#x3002;</p>
</li>
</ul>
</li>
</ul>
<ul>
<li><p>RoleArn: Resource name, string type, user defined, length must be greater than 20.</p>
</li>
<li><p>RoleSessionName: session name, string type, user defined.</p>
</li>
</ul>
<p>Examples of using the Java SDK are as follows:</p>
<pre><code class="lang-java"><span class="hljs-comment">// Generate temporary vouchers from permanent vouchers</span>
String stsEndPoint = <span class="hljs-string">&quot;http://sts.ss.bscstorage.com&quot;</span>;
String accessKey = <span class="hljs-string">&quot;ziwxxxxxxxxxxxxxxxxx&quot;</span>;
String secretKey = <span class="hljs-string">&quot;V+ZTZ5xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx&quot;</span>;
BasicAWSCredentials awsCreds = <span class="hljs-keyword">new</span> BasicAWSCredentials(
                accessKey, secretKey);

AWSSecurityTokenService sts = AWSSecurityTokenServiceClientBuilder.standard().withCredentials(
                <span class="hljs-keyword">new</span> AWSStaticCredentialsProvider(awsCreds)).withEndpointConfiguration(
                        <span class="hljs-keyword">new</span> EndpointConfiguration(stsEndPoint, <span class="hljs-string">&quot;us-east-1&quot;</span>)).build();

String policy = <span class="hljs-string">&quot;{\&quot;Statement\&quot;:[{\&quot;Resource\&quot;:\&quot;*\&quot;,\&quot;Action\&quot;:[\&quot;s3:PutObject\&quot;],\&quot;Effect\&quot;:\&quot;Allow\&quot;}]}&quot;</span>

AssumeRoleRequest assumeRoleRequest = <span class="hljs-keyword">new</span> AssumeRoleRequest();
assumeRoleRequest.setPolicy(policy_str);
assumeRoleRequest.setRoleArn(<span class="hljs-string">&quot;arn:aws:iam::123456789:role/test_role&quot;</span>);
assumeRoleRequest.setRoleSessionName(<span class="hljs-string">&quot;test-session&quot;</span>);

AssumeRoleResult assumeRoleResult = sts.assumeRole(assumeRoleRequest);

String tmp_access_key = assumeRoleResult.getCredentials().getAccessKeyId();
String tmp_secret_key = assumeRoleResult.getCredentials().getSecretAccessKey();
String token = assumeRoleResult.getCredentials().getSessionToken();

<span class="hljs-comment">// &#x4F7F;&#x7528;&#x670D;&#x52A1;&#x5668;&#x8FD4;&#x56DE;&#x7684;&#x4E34;&#x65F6;&#x51ED;&#x8BC1;</span>
String s3EndPoint = <span class="hljs-string">&quot;http://ss.bscstorage.com&quot;</span>;

BasicSessionCredentials sessionCredentials = <span class="hljs-keyword">new</span> BasicSessionCredentials(
                tmp_access_key, tmp_secret_key, token);

AmazonS3 s3 = AmazonS3ClientBuilder.standard().withCredentials(
            <span class="hljs-keyword">new</span> AWSStaticCredentialsProvider(sessionCredentials)).withEndpointConfiguration(
                    <span class="hljs-keyword">new</span> EndpointConfiguration(s3EndPoint, <span class="hljs-string">&quot;us-east-1&quot;</span>)).build();

S3Object obj = s3.getObject(<span class="hljs-string">&quot;bucket&quot;</span>, <span class="hljs-string">&quot;key&quot;</span>);
</code></pre>
<p>Examples of using Python SDK are as follows:</p>
<pre><code class="lang-python"><span class="hljs-keyword">import</span> boto3

cli = boto3.client(
    <span class="hljs-string">&apos;sts&apos;</span>,
    region_name=<span class="hljs-string">&quot;bj&quot;</span>,
    aws_access_key_id=<span class="hljs-string">&quot;accesskey&quot;</span>,
    aws_secret_access_key=<span class="hljs-string">&quot;secretkey&quot;</span>,
    endpoint_url=<span class="hljs-string">&apos;http://sts.ss.bscstorage.com&apos;</span>
)

policy = <span class="hljs-string">&quot;{\&quot;Statement\&quot;:[{\&quot;Resource\&quot;:\&quot;*\&quot;,\&quot;Action\&quot;:[\&quot;s3:*\&quot;],\&quot;Effect\&quot;:\&quot;Allow\&quot;}]}&quot;</span>
<span class="hljs-comment"># &#x4F7F;&#x7528;&#x6C38;&#x4E45;&#x51ED;&#x8BC1;&#x751F;&#x6210;&#x4E34;&#x65F6;&#x51ED;&#x8BC1;</span>
resp = cli.assume_role(
    DurationSeconds=<span class="hljs-number">3600</span>,
    RoleArn=<span class="hljs-string">&apos;arn:aws:iam::123456789012:role/demo&apos;</span>,
    RoleSessionName=<span class="hljs-string">&quot;test&quot;</span>,
    Policy=policy,
)

print(<span class="hljs-string">&quot;tmp accesskey: %s&quot;</span> % resp[<span class="hljs-string">&apos;Credentials&apos;</span>][<span class="hljs-string">&apos;AccessKeyId&apos;</span>])
print(<span class="hljs-string">&quot;tmp secretkey: %s&quot;</span> % resp[<span class="hljs-string">&apos;Credentials&apos;</span>][<span class="hljs-string">&apos;SecretAccessKey&apos;</span>])
print(<span class="hljs-string">&quot;expired time : %s&quot;</span> % resp[<span class="hljs-string">&apos;Credentials&apos;</span>][<span class="hljs-string">&apos;Expiration&apos;</span>])
print(<span class="hljs-string">&quot;session token: %s&quot;</span> % resp[<span class="hljs-string">&apos;Credentials&apos;</span>][<span class="hljs-string">&apos;SessionToken&apos;</span>])

<span class="hljs-comment"># &#x4F7F;&#x7528;&#x4E34;&#x65F6;&#x51ED;&#x8BC1;&#x521B;&#x5EFA;client</span>
tmpcli = boto3.client(
    <span class="hljs-string">&quot;s3&quot;</span>,
    region_name=<span class="hljs-string">&quot;bj&quot;</span>,
    aws_access_key_id=resp[<span class="hljs-string">&apos;Credentials&apos;</span>][<span class="hljs-string">&apos;AccessKeyId&apos;</span>],
    aws_secret_access_key=resp[<span class="hljs-string">&apos;Credentials&apos;</span>][<span class="hljs-string">&apos;SecretAccessKey&apos;</span>],
    aws_session_token=resp[<span class="hljs-string">&apos;Credentials&apos;</span>][<span class="hljs-string">&apos;SessionToken&apos;</span>],
    endpoint_url=<span class="hljs-string">&apos;http://ss.bscstorage.com&apos;</span>,
)

<span class="hljs-keyword">print</span> tmpcli.head_object(Bucket=<span class="hljs-string">&apos;bucket&apos;</span>, Key=<span class="hljs-string">&apos;key&apos;</span>)
</code></pre>
<p>Examples of using PHP SDK are as follows:</p>
<pre><code class="lang-php"><span class="hljs-meta">&lt;?php</span>

<span class="hljs-keyword">require</span> <span class="hljs-string">&apos;aws.phar&apos;</span>;

<span class="hljs-keyword">try</span> {
    $cli = <span class="hljs-keyword">new</span> Aws\Sts\StsClient([
        <span class="hljs-string">&apos;version&apos;</span> =&gt; <span class="hljs-string">&apos;latest&apos;</span>,
        <span class="hljs-string">&apos;region&apos;</span> =&gt; <span class="hljs-string">&apos;us-east-1&apos;</span>,
        <span class="hljs-string">&apos;credentials&apos;</span> =&gt; [
            <span class="hljs-string">&apos;key&apos;</span> =&gt; <span class="hljs-string">&apos;accesskey&apos;</span>,
            <span class="hljs-string">&apos;secret&apos;</span> =&gt; <span class="hljs-string">&apos;secretkey&apos;</span>,
        ],
        <span class="hljs-string">&apos;endpoint&apos;</span> =&gt; <span class="hljs-string">&apos;http://sts.ss.bscstorage.com&apos;</span>,
    ]);
    $result = $cli-&gt;assumeRole([
        <span class="hljs-string">&apos;DurationSeconds&apos;</span> =&gt; <span class="hljs-number">3600</span>,
        <span class="hljs-string">&apos;Policy&apos;</span> =&gt; <span class="hljs-string">&quot;{\&quot;Statement\&quot;:[{\&quot;Resource\&quot;:\&quot;*\&quot;,\&quot;Action\&quot;:[\&quot;s3:*\&quot;],\&quot;Effect\&quot;:\&quot;Allow\&quot;}]}&quot;</span>,
        <span class="hljs-string">&apos;RoleArn&apos;</span> =&gt; <span class="hljs-string">&apos;arn:aws:iam::123456789012:role/demo&apos;</span>, <span class="hljs-comment">// REQUIRED</span>
        <span class="hljs-string">&apos;RoleSessionName&apos;</span> =&gt; <span class="hljs-string">&apos;test&apos;</span>, <span class="hljs-comment">// REQUIRED</span>
    ]);

    $tmp_accesskey = $result[<span class="hljs-string">&apos;Credentials&apos;</span>][<span class="hljs-string">&apos;AccessKeyId&apos;</span>];
    $tmp_secretkey = $result[<span class="hljs-string">&apos;Credentials&apos;</span>][<span class="hljs-string">&apos;SecretAccessKey&apos;</span>];
    $tmp_sesstoken = $result[<span class="hljs-string">&apos;Credentials&apos;</span>][<span class="hljs-string">&apos;SessionToken&apos;</span>];

    <span class="hljs-keyword">echo</span> <span class="hljs-string">&quot;tmp accesskey:&quot;</span>, $tmp_accesskey, <span class="hljs-string">&quot;\n&quot;</span>;
    <span class="hljs-keyword">echo</span> <span class="hljs-string">&quot;tmp secretkey:&quot;</span>, $tmp_secretkey, <span class="hljs-string">&quot;\n&quot;</span>;
    <span class="hljs-keyword">echo</span> <span class="hljs-string">&quot;session token:&quot;</span>, $tmp_sesstoken, <span class="hljs-string">&quot;\n&quot;</span>;

    $s3 = <span class="hljs-keyword">new</span> Aws\S3\S3Client([
        <span class="hljs-string">&apos;version&apos;</span> =&gt; <span class="hljs-string">&apos;latest&apos;</span>,
        <span class="hljs-string">&apos;region&apos;</span> =&gt; <span class="hljs-string">&apos;us-east-1&apos;</span>,
        <span class="hljs-string">&apos;credentials&apos;</span> =&gt; [
            <span class="hljs-string">&apos;key&apos;</span> =&gt; $tmp_accesskey,
            <span class="hljs-string">&apos;secret&apos;</span> =&gt; $tmp_secretkey,
            <span class="hljs-string">&apos;token&apos;</span> =&gt; $tmp_sesstoken,
        ],
        <span class="hljs-string">&apos;endpoint&apos;</span> =&gt; <span class="hljs-string">&apos;http://ss.bscstorage.com&apos;</span>,
    ]);

    $resp = $s3-&gt;getObject([
        <span class="hljs-string">&apos;Bucket&apos;</span> =&gt; <span class="hljs-string">&apos;bucket&apos;</span>,
        <span class="hljs-string">&apos;Key&apos;</span> =&gt; <span class="hljs-string">&apos;key&apos;</span>,
    ]);

    <span class="hljs-keyword">echo</span> $resp;
} <span class="hljs-keyword">catch</span> (\<span class="hljs-keyword">Exception</span> $e) {
    <span class="hljs-keyword">echo</span> <span class="hljs-string">&quot;Exception: &quot;</span> . $e-&gt;getMessage() . <span class="hljs-string">&quot;\n&quot;</span>;
}
</code></pre>
<p>Examples of using dotnet SDK are as follows:</p>
<pre><code class="lang-csharp"><span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">async</span> Task <span class="hljs-title">StsDemo</span>(<span class="hljs-params"></span>)
</span>{
    AmazonSecurityTokenServiceConfig config = <span class="hljs-keyword">new</span> AmazonSecurityTokenServiceConfig();
    config.ServiceURL = <span class="hljs-string">&quot;http://sts.ss.bscstorage.com&quot;</span>;
    config.SignatureVersion = <span class="hljs-string">&quot;4&quot;</span>;
    AmazonSecurityTokenServiceClient sts = <span class="hljs-keyword">new</span> AmazonSecurityTokenServiceClient(<span class="hljs-string">&quot;accesskey&quot;</span>, <span class="hljs-string">&quot;secretkey&quot;</span>, config);
    <span class="hljs-keyword">var</span> response = <span class="hljs-keyword">await</span> sts.AssumeRoleAsync(<span class="hljs-keyword">new</span> AssumeRoleRequest
    {
        Policy = <span class="hljs-string">&quot;{\&quot;Statement\&quot;:[{\&quot;Resource\&quot;:\&quot;*\&quot;,\&quot;Action\&quot;:[\&quot;s3:*\&quot;],\&quot;Effect\&quot;:\&quot;Allow\&quot;}]}&quot;</span>,
        RoleArn = <span class="hljs-string">&quot;arn:aws:iam::123456789012:role/demo&quot;</span>,
        RoleSessionName = <span class="hljs-string">&quot;testAssumeRoleSession&quot;</span>,
    });

    Credentials credentials = response.Credentials;
    Console.WriteLine(<span class="hljs-string">&quot;tmp accesskey:&quot;</span> + credentials.AccessKeyId);
    Console.WriteLine(<span class="hljs-string">&quot;tmp secretkey:&quot;</span> + credentials.SecretAccessKey);
    Console.WriteLine(<span class="hljs-string">&quot;tmp sesstoken:&quot;</span> + credentials.SessionToken);

    AmazonS3Config s3config = <span class="hljs-keyword">new</span> AmazonS3Config();
    s3config.ServiceURL = <span class="hljs-string">&quot;http://ss.bscstorage.com&quot;</span>;
    s3config.SignatureVersion = <span class="hljs-string">&quot;4&quot;</span>;
    AmazonS3Client s3 = <span class="hljs-keyword">new</span> AmazonS3Client(credentials.AccessKeyId, credentials.SecretAccessKey, credentials.SessionToken, s3config);
    <span class="hljs-keyword">var</span> resp = <span class="hljs-keyword">await</span> s3.GetObjectMetadataAsync(<span class="hljs-string">&quot;bucket&quot;</span>, <span class="hljs-string">&quot;key&quot;</span>);
    Console.WriteLine(resp.HttpStatusCode);
}
</code></pre>
<h1 id="offline-download-interface">Offline Download Interface</h1>
<h2 id="authorization">Authorization</h2>
<p>Use AccessKey and SecretKey.</p>
<p>Please refer to <a href="http://docs.aws.amazon.com/AmazonS3/latest/dev/RESTAuthentication.html#RESTAuthenticationQueryStringAuth" target="_blank">REST-Authentication</a>.</p>
<h2 id="error-response-status-code-and-error">Error Response Status Code and Error</h2>
<p>Following is a list of error response definitions, including:</p>
<p><code>Status code</code> <code>Error code</code>
and its description.</p>
<ul>
<li><p><strong>400</strong>
<code>InvalidURI</code>
<br>
Couldn&apos;t parse the specified URI.</p>
</li>
<li><p><strong>400</strong>
<code>DownloadSourceException</code>
<br>
Download source exception can not download file.</p>
</li>
<li><p><strong>404</strong>
<code>NoSuchDownloadSource</code>
<br>
The specified download source does not exist.</p>
</li>
<li><p><strong>500</strong>
<code>InternalError</code>
<br>
We encountered an internal error. Please try again.</p>
</li>
<li><p><strong>501</strong>
<code>NotImplemented</code>
<br>
Current request not implemented.</p>
</li>
</ul>
<p><strong>Other status code</strong> is same as Amazon S3. Please refer to <a href="http://docs.aws.amazon.com/AmazonS3/latest/API/ErrorResponses.html" target="_blank">ErrorResponses</a>.</p>
<p>Signature of all requests is same as Amazon S3.</p>
<h2 id="commit-offline-download-task">Commit Offline Download Task</h2>
<h3 id="request-uri">Request URI</h3>
<p><code>http://offline_domain/&lt;bucket&gt;</code></p>
<h3 id="request-method">Request Method</h3>
<p>PUT</p>
<h3 id="request-body">Request Body</h3>
<p>Data of JSON format.</p>
<p>Following is a list of request content, including:</p>
<p><strong>Element Name</strong> <code>Element Type</code> and its description.</p>
<ul>
<li><p>Elements for ALL requests:</p>
<ul>
<li><p><strong>Url</strong>
<code>String</code>
<br>
Download resource URL (including BT, Magnet, HTTP).</p>
</li>
<li><p><strong>SuccessCallbackUrl</strong>
<code>String</code>
<br>
URL callback success.</p>
</li>
<li><p><strong>FailureCallbackUrl</strong>
<code>String</code>
<br>
URL callback failure.</p>
</li>
<li><p><strong>Target</strong>
<code>String</code>
<em>optional</em>
<br>
Prefix of <strong>Key</strong> for the file to store.</p>
</li>
<li><p><strong>ACLs</strong>
<code>Dict</code>
<em>optional</em>
<br>
Access control lists. you can see ACL part in s2 doc for detail</p>
<p>Examples:</p>
<ul>
<li><p>Specify the upload file&apos;s ACL:</p>
<p><code>task[&apos;ACLs&apos;] = {&apos;acl&apos;: &apos;private&apos;}</code> , <code>task[&apos;ACLs&apos;] = {&apos;acl&apos;: &apos;public-read&apos;}</code>, <code>task[&apos;ACLs&apos;] = {&apos;acl&apos;: &apos;authenticated-read&apos;}</code></p>
</li>
<li><p>Authorize the specified user&apos;s access to this file:</p>
<p><code>task[&apos;ACLs&apos;] = {&apos;grant-read&apos;: &apos;id=user_name&apos;, &apos;grant-write&apos;: &apos;id=user_name&apos;, &apos;grant-read-acp&apos;: &apos;id=user_name&apos;, &apos;grant-write-acp&apos;: &apos;id=user_name&apos;}</code></p>
</li>
<li><p>Authorize the specified multi users&apos; access to this file:</p>
<p><code>task[&apos;ACLs&apos;] = {&apos;grant-full-control&apos;: &apos;id=user_name&apos;}</code></p>
<p><code>task[&apos;ACLs&apos;] = {&apos;grant-read&apos;: &apos;user_name1&apos;, &apos;grant-write&apos;: &apos;user_name2&apos;}</code></p>
<p><code>task[&apos;ACLs&apos;] = {&apos;grant-read-acp&apos;: &apos;emailAddress=user_email&apos;, &apos;grant-write-acp&apos;: &apos;id=user_email&apos;}</code></p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<ul>
<li><p>Elements for BT request:</p>
<ul>
<li><strong>Files</strong>
<code>Array</code>
<br>
Contains files which user wanted.</li>
</ul>
</li>
<li><p>Elements for HTTP request:</p>
<ul>
<li><p><strong>Key</strong>
<code>String</code>
<em>optional</em>
<br>
Specify put object url, if this field is set, <strong>Target</strong> field will be ignored.</p>
</li>
<li><p><strong>SHA1</strong>
<code>String</code>
<em>optional</em>
<br>
SHA1 hash of this file. Check the file&apos;s accuracy.</p>
</li>
<li><p><strong>MD5</strong>
<code>String</code>
<em>optional</em>
<br>
MD5 hash for this file. Check the file&apos;s accuracy.</p>
</li>
<li><p><strong>CRC32</strong>
<code>String</code>
<em>optional</em>
<br>
CRC32 hash of this file. Check the file&apos;s accuracy.</p>
</li>
<li><p><strong>Size</strong>
<code>Int</code>
<em>optional</em>
<br>
Size of this file. Check the file&apos;s accuracy.</p>
</li>
<li><p><strong>OnKeyExist</strong>
<code>String</code>
<em>optional</em>
<br>
specify this file&apos;s ignore rule.</p>
<p>Ignore rules (If the same <code>key</code> file exists):</p>
<ul>
<li><code>ignore</code> : Always ignore.</li>
<li><code>ignore-same-md5</code> : This key just work with <code>MD5</code> key. If this file with the same MD5 value exists, ignore this file.</li>
<li><code>ignore-same-sha1</code> : This key just work with <code>SHA1</code> key. If this file with the same SHA1 value exists, ignore this file.</li>
<li><code>ignore-same-crc32</code> : This key just work with <code>CRC32</code> key. If this file with the same CRC32 value exists, ignore this file.</li>
<li><code>ignore-same-checksum</code> : This key just work with <code>MD5</code> or <code>SHA1</code> or <code>CRC32</code> key. If this file with the same value of any one of the three exists, ignore this file.</li>
<li><code>ignore-same-size</code> : This just work with <code>Size</code> key. If this file with the same size exists, ignore this file.</li>
<li><code>override</code> : Always override.</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="request-example">Request Example</h3>
<pre><code>//BT method.
{
    &quot;Files&quot;:[&quot;movie1.txt&quot;,&quot;movie2.jpg&quot;],
    &quot;Url&quot;:&quot;http://www.abc.com/download/movie.torrent&quot;,
    &quot;Target&quot;:&quot;movie/2016&quot;,
    &quot;SuccessCallbackUrl&quot;:&quot;http://website/succ/&quot;,
    &quot;FailureCallbackUrl&quot;:&quot;http://website/fail/&quot;,
}
</code></pre><p>or</p>
<pre><code>//HTTP method.
{
    &quot;Url&quot;:&quot;http://www.abc.com/download/movie.mp4&quot;,
    &quot;Key&quot;:&quot;movies/2016/movie.mp4&quot;,
    &quot;ACLs&quot;: {&apos;acl&apos;: &apos;private&apos;},
    &quot;SHA1&quot;:&quot;abcdeabcdeabcdeabcdeabcdeabcdeabcdeabcde&quot;,
    &quot;MD5&quot;:&quot;abcdabcdabcdabcdabcdabcdabcdabcd&quot;,
    &quot;CRC32&quot;:&quot;abcdef&quot;,
    &quot;SuccessCallbackUrl&quot;:&quot;http://website/succ/&quot;,
    &quot;FailureCallbackUrl&quot;:&quot;http://website/fail/&quot;,
}
</code></pre><p>or</p>
<pre><code>//Magnet method.
{
    &quot;Url&quot;:&quot;magnet:?xt=urn:btih:88594AAACBDE40EF3E2510C47374EC0AA396C08E&amp;dn=movie.mp4&quot;,
    &quot;Target&quot;:&quot;movie/2016&quot;,
    &quot;SuccessCallbackUrl&quot;:&quot;http://website/succ/&quot;,
    &quot;FailureCallbackUrl&quot;:&quot;http://website/fail/&quot;,
}
</code></pre><h3 id="request-response">Request Response</h3>
<ul>
<li><p><strong>Success</strong></p>
<p>Return status code 200.</p>
</li>
<li><p><strong>Failure</strong></p>
<p>Same as Amazon, refer to <a href="http://docs.aws.amazon.com/AmazonS3/latest/API/ErrorResponses.html" target="_blank">ErrorResponses</a>.</p>
</li>
</ul>
<h3 id="request-response-header">Request Response Header</h3>
<p>After request handled successful, it generated a <code>x-amz-s2-offline-task-id</code> header, contains this offline download task ID. The subsequent query task and cancel task both can be done by looking up this ID.</p>
<h2 id="query-status-of-offline-download-task">Query Status Of Offline Download Task</h2>
<h3 id="request-uri">Request URI</h3>
<p><code>http://offline_domain/&lt;bucket&gt;/&lt;taskId&gt;</code></p>
<h3 id="request-method">Request Method</h3>
<p>GET</p>
<h3 id="request-response">Request Response</h3>
<ul>
<li><p><strong>Success</strong></p>
<p>Return status code 200 and body.</p>
<p>Body contains <strong>State</strong> and <strong>Percent</strong> (total download progress percent). (Json type)</p>
<p>Example:</p>
<pre><code>{
    &quot;State&quot;:&quot;TASK_UNDO&quot;,
    &quot;Percent&quot;:&quot;0.00&quot;
}
</code></pre><p>or</p>
<pre><code>{
    &quot;State&quot;:&quot;TASK_DOING&quot;,
    &quot;Percent&quot;:&quot;80.00&quot;
}
</code></pre><p>or</p>
<pre><code>{
    &quot;State&quot;:&quot;TASK_SUCCESS&quot;,
    &quot;Percent&quot;:&quot;100.00&quot;
}
</code></pre><p>or</p>
<pre><code>{
    &quot;State&quot;:&quot;TASK_FAILED&quot;
}
</code></pre><p>or</p>
<pre><code>{
    &quot;State&quot;:&quot;TASK_CANCELLED&quot;
}
</code></pre></li>
<li><p><strong>Failure</strong></p>
<p>Same as Amazon, refer to <a href="http://docs.aws.amazon.com/AmazonS3/latest/API/ErrorResponses.html" target="_blank">ErrorResponses</a>.</p>
</li>
</ul>
<h2 id="delete-offline-download-task">Delete Offline Download Task</h2>
<h3 id="request-uri">Request URI</h3>
<p><code>http://offline_domain/&lt;bucket&gt;/&lt;taskId&gt;</code></p>
<h3 id="request-method">Request Method</h3>
<p>DELETE</p>
<h3 id="request-response">Request Response</h3>
<ul>
<li><p><strong>Success</strong></p>
<p>Return status code 204.</p>
</li>
<li><p><strong>Failure</strong></p>
<p>Same as Amazon, refer to <a href="http://docs.aws.amazon.com/AmazonS3/latest/API/ErrorResponses.html" target="_blank">ErrorResponses</a>.</p>
</li>
</ul>
<p><strong>notice</strong>: current delete download task is not open to user&#xFF0C;if you want to use this feature contact us.</p>
<h2 id="success-callback">Success Callback</h2>
<h3 id="request-url">Request URL</h3>
<p>Determined by argument of <code>SuccessCallbackUrl</code> Request.</p>
<h3 id="request-method">Request Method</h3>
<p>POST</p>
<h3 id="request-body">Request Body</h3>
<p>Data of JSON format.</p>
<p>Following is a list of request content, including:</p>
<p><strong>Element Name</strong> <code>Element Type</code> and its description.</p>
<p>Not null for ALL of these elements.</p>
<ul>
<li><p><strong>ETag</strong>
<code>String</code>
<br>
MD5 hash of this file. This md5 value must be enclosed in double quotes.</p>
</li>
<li><p><strong>MD5</strong>
<code>String</code>
<br>
MD5 hash of this file.</p>
</li>
<li><p><strong>SHA1</strong>
<code>String</code>
<br>
SHA1 hash of this file.</p>
</li>
<li><p><strong>CRC32</strong>
<code>String</code>
<br>
CRC32 hash of this file.</p>
</li>
<li><p><strong>Key</strong>
<code>String</code>
<br>
Name of this file. (e.g. <code>&lt;Target&gt;/&lt;File&gt; or &lt;Key&gt;</code>)</p>
</li>
<li><p><strong>Size</strong>
<code>Int</code>
<br>
Size of this file.</p>
</li>
<li><p><strong>Content-Type</strong>
<code>String</code>
<br>
MIME type of this file (Converted to lowercase letters)</p>
</li>
<li><p><strong>LastModified</strong>
<code>String</code>
<br>
Upload time. (Unit: ms)</p>
</li>
<li><p><strong>Task</strong>
<code>String</code>
<br>
Name of this offline download task. (e.g. <code>&lt;bucket&gt;/&lt;taskId&gt;</code>)</p>
</li>
<li><p><strong>Concrete-Upload</strong>
<code>bool</code>
<br>
Concrete upload file to storage, (offline will ignore upload file if it already existed in storage)</p>
</li>
<li><p><strong>Success-IDC</strong>
<code>String</code>
<br>
file has uploaded succeed idc list, use comma to split idcs. if Concrete-Upload value is false, this field is null</p>
</li>
<li><p><strong>Failure-IDC</strong>
<code>String</code>
<br>
file has uploaded failed idc list, use comma to split idcs. if Concrete-Upload value is false, this field is null</p>
</li>
</ul>
<h3 id="request-example">Request Example</h3>
<pre><code>{
    &quot;movie1&quot;:{
        &quot;ETag&quot;:&quot;\&quot;abcdabcdabcdabcdabcdabcdabcdabcd\&quot;&quot;,
        &quot;MD5&quot;:&quot;abcdabcdabcdabcdabcdabcdabcdabcd&quot;,
        &quot;SHA1&quot;:&quot;abcdeabcdeabcdeabcdeabcdeabcdeabcdeabcde&quot;,
        &quot;CRC32&quot;:&quot;fasdfasdf&quot;,
        &quot;Key&quot;:&quot;offline/prefix/movie1&quot;,
        &quot;Size&quot;:&quot;123456&quot;,
        &quot;Content-Type&quot;:&quot;video\/mp4&quot;,
        &quot;LastModified&quot;:&quot;1467355438043.852&quot;,
        &quot;Task&quot;:&quot;bucket/0000d1f0010000000062&quot;,
        &quot;Concrete-Upload&quot;: true,
        &quot;Success-IDC&quot;: &quot;idc1,idc2&quot;,
        &quot;Failure-IDC&quot;: &quot;&quot;
    } ,
}

or

{
    &quot;movie1&quot;:{
        &quot;ETag&quot;:&quot;\&quot;abcdabcdabcdabcdabcdabcdabcdabcd\&quot;&quot;,
        &quot;MD5&quot;:&quot;abcdabcdabcdabcdabcdabcdabcdabcd&quot;,
        &quot;SHA1&quot;:&quot;abcdeabcdeabcdeabcdeabcdeabcdeabcdeabcde&quot;,
        &quot;CRC32&quot;:&quot;fasdfasdf&quot;,
        &quot;Key&quot;:&quot;offline/prefix/movie1&quot;,
        &quot;Size&quot;:&quot;123456&quot;,
        &quot;Content-Type&quot;:&quot;video\/mp4&quot;,
        &quot;LastModified&quot;:&quot;1467355438043.852&quot;,
        &quot;Task&quot;:&quot;bucket/0000d1f0010000000062&quot;,
        &quot;Concrete-Upload&quot;: false,
        &quot;Success-IDC&quot;: null,
        &quot;Failure-IDC&quot;: null
    } ,
}
</code></pre><h3 id="request-response">Request Response</h3>
<ul>
<li><p><strong>Success</strong></p>
<p>Return status code 200.</p>
</li>
<li><p><strong>Failure</strong></p>
<p>Same as Amazon, refer to <a href="http://docs.aws.amazon.com/AmazonS3/latest/API/ErrorResponses.html" target="_blank">ErrorResponses</a>.</p>
</li>
</ul>
<h2 id="failure-callback">Failure Callback</h2>
<h3 id="request-url">Request URL</h3>
<p>Determined by argument of FailureCallbackUrl Response.</p>
<h3 id="request-method">Request Method</h3>
<p>POST</p>
<h3 id="request-body">Request Body</h3>
<p>Data of JSON format.</p>
<p>Following is a list of request content, including:</p>
<p><strong>Element Name</strong> <code>Element Type</code> and its description.</p>
<p>Not null for ALL of these elements EXCEPT <strong>Files</strong>.</p>
<ul>
<li><p><strong>Code</strong>
<code>String</code>
<br>
Error code.</p>
</li>
<li><p><strong>Message</strong>
<code>String</code>
<br>
Error description information.</p>
</li>
<li><p><strong>Resource</strong>
<code>String</code>
<br>
Resource name, contains URL of this offline request task.</p>
</li>
<li><p><strong>RequestId</strong>
<code>String</code>
<br>
Request ID.</p>
</li>
<li><p><strong>Task</strong>
<code>String</code>
<br>
Name of this offline download task. (e.g. <code>&lt;bucket&gt;/&lt;taskId&gt;</code>)</p>
</li>
<li><p><strong>Files</strong>
<code>dict</code>
<em>optional</em>
<br>
Contains information of files which has been uploaded. With this element, users can pick up information of files which has been uploaded sucessful.</p>
</li>
</ul>
<h3 id="request-example">Request Example</h3>
<pre><code>{
    &quot;Code&quot;:&quot;NoSuchDownloadSource&quot;,
    &quot;Message&quot;:&quot;The specified download source does not exist&quot;,
    &quot;Resource&quot;:&quot;http://www.abc.com/download/movie.torrent&quot;,
    &quot;RequestId&quot;:&quot;4442587FB7D0A2F9&quot;,
    &quot;Task&quot;:&quot;bucket/0000d1f0010000000062&quot;,
}
</code></pre><p>or</p>
<pre><code>{
    &quot;Code&quot;:&quot;InternalError&quot;,
    &quot;Message&quot;:&quot;We encountered an internal error. Please try again.&quot;,
    &quot;Resource&quot;:&quot;http://www.abc.com/download/movie.torrent&quot;,
    &quot;RequestId&quot;:&quot;4442587FB7D0A2F9&quot;,
    &quot;Task&quot;:&quot;bucket/0000d1f0010000000063&quot;,
    &quot;Uploaded_Files&quot;: {
        &quot;movie1&quot;: {
            &quot;ETag&quot;:&quot;\&quot;abcdabcdabcdabcdabcdabcdabcdabcd\&quot;&quot;,
            &quot;SHA1&quot;:&quot;abcdeabcdeabcdeabcdeabcdeabcdeabcdeabcde&quot;,
            &quot;CRC32&quot;:&quot;fasdfasdf&quot;,
            &quot;Key&quot;:&quot;offline/prefix/movie1&quot;,
            &quot;Size&quot;:&quot;123456&quot;,
            &quot;Content-Type&quot;:&quot;video\/mp4&quot;,
            &quot;LastModified&quot;:&quot;1467355438043.852&quot;,
        }
    }
}
</code></pre><h3 id="request-response">Request Response</h3>
<ul>
<li><p><strong>Success</strong></p>
<p>Return status code 200.</p>
</li>
<li><p><strong>Failure</strong></p>
<p>Same as Amazon, refer to <a href="http://docs.aws.amazon.com/AmazonS3/latest/API/ErrorResponses.html" target="_blank">ErrorResponses</a>.
&#xFEFF;<img src="http://imgx-ss.bscstorage.com/imgx-test/w_300/bsc_logo.jpg?AWSAccessKeyId=acc_drdrxp&amp;Expires=1504489369&amp;Signature=hzOLDt69E94WpxQP69FEsvWJWbU%3D%" alt=""></p>
</li>
</ul>
<h1 id="the-description-of-imgx">The Description of Imgx</h1>
<h1 id="tag&#xFF1A;-image-process-imgx-baishancloud-cloud-storage">Tag&#xFF1A; Image process Imgx BaishanCloud Cloud Storage</h1>
<hr>
<h2 id="url-format">URL Format</h2>
<pre><code>[http://imgx-ss.bscstorage.com/&lt;bucket&gt;/ &lt;processing](http://imgx-ss.bscstorage.com/%3cbucket%3e/%20%3cprocessing) instruction&gt;/&lt;the File path&gt;?&lt;Signature&gt;
</code></pre><p>OR</p>
<pre><code>[http://&lt;bucket&gt;.imgx-ss.bscstorage.com/&lt;processing]() instruction&gt;/&lt;The File path&gt;?&lt;Signature&gt;
</code></pre><ul>
<li><code>bucket</code>: Your bucket name in Baishan Cloud storage. </li>
<li><code>Processing Instruction</code>: The processing instruction for the original image. There are some detailed instructions below.</li>
<li><code>&#x6587;&#x4EF6;&#x8DEF;&#x5F84;</code>: The storage path of the original image.</li>
<li><code>Signature</code>: The main parameters of the Signature.</li>
</ul>
<h2 id="example">Example</h2>
<p>Example: The URL of the original image is <a href="http://ss.bscstorage.com/imgx-test/demo/1.jpg?AWSAccessKeyId=acc_" target="_blank">http://ss.bscstorage.com/imgx-test/demo/1.jpg?AWSAccessKeyId=acc_</a>
drdrxp&amp;Expires=2464773061&amp;Signature=jFVHRSrOLeg5e3nIR00UE2vik0A%3D
It shows</p>
<p><code>`- The bucket name is imgx-test</code> `- The storage path of the bucket is demo/1.jpg</p>
<p>Operations:</p>
<p><code>`- Crop the face area and shorten the image to 400x400 -</code>c<em>
thumb,g</em>
face,w<em>
400,h</em>
400<code>` </code>- Turn the image into a rounded corner with the maximum radius (perfect circle) - <code>r_
max</code>
<code>`- Increase the brightness of the image by 8%</code>e<em>
brightness - 8<code>` </code>- Convert the image format to PNG - `f</em>
png`</p>
<p>The Processing Instruction: <code>c_
thumb,g_
face,w_
400,h_
400,r_
max,e_
brightness:8,f_
png</code>
We can access it directly through the URL as below</p>
<pre><code>http://imgx-ss.bscstorage.com/imgx-test/c_
thumb,g_
face,w_
400,h_
400,r_
max,e_
brightness%3A8,f_
png/demo/1.jpg?AWSAccessKeyId=acc_
drdrxp&amp;Expires=2464773122&amp;Signature=4cwxt1e%2Fg2NL1OfsldaVsa8SD9s%3D
</code></pre><p>OR</p>
<pre><code>http://imgx-test.imgx-ss.bscstorage.com/c_
thumb,g_
face,w_
400,h_
400,r_
max,e_
brightness%3A8,f_
png/demo/1.jpg?AWSAccessKeyId=acc_
drdrxp&amp;Expires=2464773122&amp;Signature=4cwxt1e%2Fg2NL1OfsldaVsa8SD9s%3D
</code></pre><p>Or you could create a Jason file if you do not want to expose the processing instruction in the URL. </p>
<pre><code class="lang-json">[
{
<span class="hljs-string">&quot;crop&quot;</span> : <span class="hljs-string">&quot;thumb&quot;</span>,
<span class="hljs-string">&quot;gravity&quot;</span> : <span class="hljs-string">&quot;face&quot;</span>,
<span class="hljs-string">&quot;width&quot;</span> : <span class="hljs-number">400</span>,
<span class="hljs-string">&quot;height&quot;</span> : <span class="hljs-number">400</span>,
<span class="hljs-string">&quot;radius&quot;</span> : <span class="hljs-string">&quot;max&quot;</span>,
<span class="hljs-string">&quot;effect&quot;</span> : <span class="hljs-string">&quot;brightness:8&quot;</span>,
<span class="hljs-string">&quot;format&quot;</span> : <span class="hljs-string">&quot;png&quot;</span>
}
]
</code></pre>
<p>Save the File to the path which belongs to your bucket. </p>
<pre><code>&lt;p&gt;imgx/cmd_
template/my_
thumb.json    &lt;/p&gt;&lt;p&gt;#The &#x2018;my_
thumb&#x2019; is a custom name by yourself.&lt;/p&gt;
</code></pre><p>Then the user could access it through the below URL which means the processing instruction can be hidden to the Jason File. </p>
<pre><code>http://imgx-ss.bscstorage.com/imgx-test/t_
my_
thumb/demo/1.jpg?AWSAccessKeyId=acc_
drdrxp&amp;Expires=2464773563&amp;Signature=WIMaNLacGaPRAlA6fl%2BGAsStfoQ%3D
</code></pre><h2 id="processing-format">Processing Format</h2>
<ul>
<li>The connection between the Processing name and the Processing value is &#x2018;_&#x2019; such as <code>c_fit</code>.</li>
<li>Related instructions are separated by commas such as <code>c_
fit,w_100,h_100,g_face</code>.</li>
<li>Different instructions are separated by &#x2018;--&#x2019;, such as <code>c_
fit,w_100,h_100,g_face,r_max--l_text:my_font:hello+word,w_100,h_40</code></li>
</ul>
<h2 id="signature">Signature</h2>
<p>To protect your original image from theft and processing instructions from malicious abuse, signature protection must be used here. The signature form is fully compatible with AWS V2 authentication. The following provides a PHP function to generate the URL of the generation signature:  </p>
<pre><code class="lang-php"><span class="hljs-comment">/**
* Get a query string authenticated URL
*
* <span class="hljs-doctag">@param</span> string $accessKey AccessKey
* <span class="hljs-doctag">@param</span> string $secretKey SecretKey
* <span class="hljs-doctag">@param</span> string $bucket Bucket name
* <span class="hljs-doctag">@param</span> string $uri Object URI
* <span class="hljs-doctag">@param</span> integer $lifetime Lifetime in seconds
* <span class="hljs-doctag">@param</span> boolean $hostBucket Use the bucket name as the hostname
* <span class="hljs-doctag">@param</span> boolean $https Use HTTPS ($hostBucket should be false for SSL verification)
* <span class="hljs-doctag">@return</span> string
*/</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getAuthenticatedURL</span><span class="hljs-params">($accessKey, $secretKey, $bucket, $uri, $lifetime, $hostBucket = false, $https = false, $endpoint = <span class="hljs-string">&apos;imgx-ss.bscstorage.com&apos;</span>)</span> </span>{

$expires = time() + $lifetime;
$uri = str_
replace(<span class="hljs-keyword">array</span>(<span class="hljs-string">&apos;%2F&apos;</span>, <span class="hljs-string">&apos;%2B&apos;</span>, <span class="hljs-string">&apos;%2C&apos;</span>, <span class="hljs-string">&apos;%3A&apos;</span>, <span class="hljs-string">&apos;%20&apos;</span>), <span class="hljs-keyword">array</span>(<span class="hljs-string">&apos;/&apos;</span>, <span class="hljs-string">&apos;+&apos;</span>, <span class="hljs-string">&apos;,&apos;</span>, <span class="hljs-string">&apos;:&apos;</span>, <span class="hljs-string">&apos;+&apos;</span>), rawurlencode($uri));
<span class="hljs-keyword">return</span> sprintf(($https ? <span class="hljs-string">&apos;https&apos;</span> : <span class="hljs-string">&apos;http&apos;</span>).<span class="hljs-string">&apos;://%s/%s?AWSAccessKeyId=%s&amp;Expires=%u&amp;Signature=%s&apos;</span>,
$hostBucket ? $bucket : $endpoint.<span class="hljs-string">&apos;/&apos;</span>.$bucket, $uri, $accessKey, $expires,
urlencode(base64_
encode(hash_
hmac(<span class="hljs-string">&apos;sha1&apos;</span>, <span class="hljs-string">&quot;GET\n\n\n{$expires}\n/{$bucket}/{$uri}&quot;</span>, $secretKey, <span class="hljs-keyword">true</span>))));
}
<span class="hljs-comment">//The usage method</span>
<span class="hljs-keyword">echo</span> getAuthenticatedURL(<span class="hljs-string">&apos;your accessKey&apos;</span>, <span class="hljs-string">&apos;your secretKey&apos;</span>, <span class="hljs-string">&apos;your bucket&apos;</span>, <span class="hljs-string">&apos;the processing instruction/the File path&apos;</span>, <span class="hljs-string">&apos;the Expired time (s)&apos;</span>);
<span class="hljs-comment"># We recommend to set the value of $lifetime more longer, such as 1000000000.</span>
</code></pre>
<h2 id="cache--cdn">Cache &amp; CDN</h2>
<ul>
<li>The cached will be generated automatically after processing the image and the same request will not be generated. The default expired time is 2 days.</li>
<li>If the user configures the CDN address, the processed image will be automatically sent to the distributed nodes.</li>
</ul>
<h2 id="the-processing-instructions">The Processing Instructions</h2>
<blockquote>
<p>The processing instructions are introduced below, and the following original pictures are used as examples for your comparison.</p>
<ol>
<li><a href="http://ss.bscstorage.com/imgx-test/demo/charles.png?AWSAccessKeyId=acc_drdrxp&amp;Expires=2464851871&amp;Signature=9Nb4uSsCdGbdhYdL05QNJMBOUDI%3D" target="_blank">demo/charles.png</a></li>
<li><a href="http://ss.bscstorage.com/imgx-test/demo/1.jpg?AWSAccessKeyId=acc_drdrxp&amp;Expires=2464852096&amp;Signature=krRDPWUXPGYWKaQ0FcrHOLh9w20=" target="_blank">demo/1.jpg</a></li>
<li><a href="http://ss.bscstorage.com/imgx-test/demo/3.png?AWSAccessKeyId=acc_drdrxp&amp;Expires=2464852128&amp;Signature=UitAP/HXvS2T6Y9AAs7TGPJGwzU=" target="_blank">demo/3.png</a></li>
<li><a href="http://ss.bscstorage.com/imgx-test/demo/4.png?AWSAccessKeyId=acc_drdrxp&amp;Expires=2464852159&amp;Signature=yvaPahyPoYUpLYaEE9br44JNAuw=" target="_blank">demo/4.png</a></li>
<li><a href="http://ss.bscstorage.com/imgx-test/demo/sheep.png?AWSAccessKeyId=acc_drdrxp&amp;Expires=2464852222&amp;Signature=6TpoUspMxFaB5rnKT4VzhiaWcLg%3D" target="_blank">demo/sheep.png</a></li>
<li><a href="http://ss.bscstorage.com/imgx-test/demo/horses.png?AWSAccessKeyId=acc_drdrxp&amp;Expires=2464852280&amp;Signature=jxH/VEABVAiIEc3ZE7GYSrj6LAw=" target="_blank">demo/horses.png</a></li>
<li><a href="http://ss.bscstorage.com/imgx-test/avatar.png?AWSAccessKeyId=acc_drdrxp&amp;Expires=2464852327&amp;Signature=47wCMMxlDj8lP4JMaZ99NXl50%2bE=" target="_blank">avatar.png</a></li>
</ol>
</blockquote>
<table>
<thead>
<tr>
<th width="57px"><i>Processing instruction name</i></th>
<th width="46px"><i>processing instruction</i></th>
<th width="130px"><i>Value</i></th>
<th width="386px"><i>example</i></th>
<th width="186px"><i>Description</i></th>
</tr>
<tr>
<th>crop</th>
<th><b>c</b></th>
<th><i>mode</i></th>
<th></th>
            <th> Clipping mode, which specifies how the image is clipped or scaled</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td><b></b></td>
<td><b>scale</b></td>
<td><img src="http://imgx-ss.bscstorage.com/imgx-test/c_
scale,h_
80,w_
80/demo/charles.png?AWSAccessKeyId=acc_
drdrxp&amp;Expires=2464775245&amp;Signature=U8cS78xlQH0EZArL2WJMZx9mHNY%3D"></td>
<td>Changes the size of the image to match the expected width and height. All parts of the original image will be visible but maybe stretched out of shape.  
<br><br><code>c_scale,h_80,w_80</code></td>
</tr>
<tr>
<td></td>
<td><b></b></td>
<td><b>fill</b></td>
<td><img src="http://imgx-ss.bscstorage.com/imgx-test/c_
fill,h_
80,w_
80/demo/charles.png?AWSAccessKeyId=acc_
drdrxp&amp;Expires=2464775280&amp;Signature=3%2ByB4vbW4XesbrNCssGY7LexDhU%3D"></td>
<td>Crop the image while retaining its original proportions
<br><br><code>c_fill,h_80,w_80</code></td>
</tr>
<tr>
<td></td>
<td><b></b></td>
<td><b>lfill</b></td>
<td><img src="http://imgx-ss.bscstorage.com/imgx-test/c_lfill,h_80,w_80/demo/charles.png?AWSAccessKeyId=acc_drdrxp&amp;Expires=2464775301&amp;Signature=cFPJah0EXgrFkV%2F%2B1KjE5vedmHo%3D"></td>
<td>The mode is the same as <i>fill</i>, but the difference is to limit the size of the image to no larger than the original.
<br><br><code>c_lfill,h_80,w_80</code></td>
</tr>
<tr>
<td></td>
<td><b></b></td>
<td><b>fit</b></td>
<td><img src="http://imgx-ss.bscstorage.com/imgx-test/c_fit,h_80,w_80/demo/charles.png?AWSAccessKeyId=acc_drdrxp&amp;Expires=2464775325&amp;Signature=dzwxaEl%2FTA2qsDSGfcv%2FG5Gs9%2F8%3D"></td>
<td>Change the size of the image to match the expected width and height, while retaining the original proportions, and all parts of the original image will be visible.  Equal scale shrinkage, no deformation due to stretching. 
<br><br><code>c_fit,h_80,w_80</code></td>
</tr>
<tr>
<td></td>
<td><b></b></td>
<td><b>mfit</b></td>
<td><img src="http://imgx-ss.bscstorage.com/imgx-test/c_mfit,h_80,w_80/demo/charles.png?AWSAccessKeyId=acc_drdrxp&amp;Expires=2464775342&amp;Signature=yEhC4KixIMt4RrtnKMpN%2F9jp4CM%3D"></td>
<td>The mode is the same as <i>fit</i>, but the difference is to limit the size of the image to no less than the original.
<br><br><code>c_mfit,h_80,w_80</code></td>
</tr>
<tr>
<td></td>
<td><b></b></td>
<td><b>limit</b></td>
<td><img src="http://imgx-ss.bscstorage.com/imgx-test/c_limit,h_80,w_80/demo/charles.png?AWSAccessKeyId=acc_drdrxp&amp;Expires=2464775503&amp;Signature=ne3LQQQl92ExCHy3LAUM3m9jMo4%3D"></td>
<td>The mode is the same as <i>fit</i>, but the difference is that the image size after processing will not exceed the original image. 
<br><br><code>c_limit,h_80,w_80</code></td>
</tr>
<tr>
<td></td>
<td><b></b></td>
<td><b>pad</b></td>
<td><img src="http://imgx-ss.bscstorage.com/imgx-test/c_pad,h_80,w_80,g_center,b_dddddd/demo/charles.png?AWSAccessKeyId=acc_drdrxp&amp;Expires=2464775599&amp;Signature=pEv4icz3BrvbkjvTQHAOXce3Tvo%3D"></td>
<td>Specifies the size of the image while retaining the original scale.  If the original scale does not meet the specified size, it will be filled with a background color. 
<br><br><code>c_pad,h_80,w_80,g_center,b_dddddd</code></td>
</tr>
<tr>
<td></td>
<td><b></b></td>
<td><b>lpad</b></td>
<td><img src="http://imgx-ss.bscstorage.com/imgx-test/c_
lpad,h_
640,w_
640,g_
center,b_
dddddd/demo/charles.png?AWSAccessKeyId=acc_
drdrxp&amp;Expires=2464775619&amp;Signature=ZY8kJ8xsAo4lTbcyY8unWndaKEI%3D"></td>
<td>The mode is the same as <i>pad</i>, but the difference is that if the size specified is larger than the original, the original will not be enlarged.
<br><br><code>c_lpad,h_640,w_640,g_center,b_dddddd</code></td>
</tr>
<tr>
<td></td>
<td><b></b></td>
<td><b>mpad</b></td>
<td><img src="http://imgx-ss.bscstorage.com/imgx-test/c_mpad,h_80,w_80,g_center,b_dddddd/demo/charles.png?AWSAccessKeyId=acc_drdrxp&amp;Expires=2464775641&amp;Signature=e5eohM2MOtqMsXCUKOmRop2iQIE%3D"></td>
<td>The mode is the same as <i>pad</i> , but the difference is to limit the size of the image to no less than the original. 
<br><br><code>c_mpad,h_,w_80,g_center,b_
dddddd</code></td>
</tr>
<tr>
<td></td>
<td><b></b></td>
<td><b>crop</b></td>
<td><img src="http://imgx-ss.bscstorage.com/imgx-test/c_crop,h_210,w_210,g_face/demo/charles.png?AWSAccessKeyId=acc_drdrxp&amp;Expires=2464775755&amp;Signature=QkEGM0VA2nhfOQ3JlvWCAfsGiFw%3D"></td>
<td>Specifies the size and position used to crop out a portion from the original image.
<br><br><code>c_crop,h_210,w_210,g_face</code></td>
</tr>
<tr>
<td></td>
<td><b></b></td>
<td><b>thumb</b></td>
<td><img src="http://imgx-ss.bscstorage.com/imgx-test/c_thumb,h_250,w_250,g_face/demo/charles.png?AWSAccessKeyId=acc_drdrxp&amp;Expires=2464775849&amp;Signature=%2FVEIEuisY%2FNYzT52s2P%2BnIwe8Mk%3D"></td>
<td>To locate the face (combined with the &apos;face&apos; or &apos;faces&apos; gravity parameters) and generate a thumbnail image, often used to generate an avatar.
<br><br><code>c_thumb,h_250,w_250,g_face</code></td>
</tr>
</tbody>
<thead>
<tr>
<th>width</th>
<th><b>w</b></th>
<th><i> Pixels or percentages </i></th>
<th></th>
<th> width parameter, use with <i>crop</i> or <i>overlay</i> </th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td><b></b></td>
<td><i>80</i></td>
<td><img src="http://imgx-ss.bscstorage.com/imgx-test/w_
80/demo/charles.png?AWSAccessKeyId=acc_
drdrxp&amp;Expires=2464775890&amp;Signature=3O7sB36S5fxARIRIXma0EDwrUM0%3D"></td>
<td> Adjust the width to 80 pixels
<br><br><code>w_
80</code></td>
</tr>
<tr>
<td></td>
<td><b></b></td>
<td><i>0.1</i></td>
<td><img src="http://imgx-ss.bscstorage.com/imgx-test/w_
0.1/demo/charles.png?AWSAccessKeyId=acc_
drdrxp&amp;Expires=2464775909&amp;Signature=UGZpnvF3kXfVN9JlYsKq4J1DMcc%3D"></td>
<td>Adjust the image to 10% of its original size.
<br><br><code>w_0.1</code></td>
</tr>
</tbody>
<thead>
<tr>
<th>height</th>
<th><b>h</b></th>
<th><i> Pixels or percentages </i></th>
<th></th>
<th> Height parameter, Use with <i>crop</i> or <i>overlay</i></th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td><b></b></td>
<td><i>80</i></td>
<td><img src="http://imgx-ss.bscstorage.com/imgx-test/h_
80/demo/charles.png?AWSAccessKeyId=acc_
drdrxp&amp;Expires=2464775931&amp;Signature=iZkes%2BXqVFnIUa3AR5vIRugTcy8%3D"></td>
<td>Adjust the height to 80 pixels
<br><br><code>h_80</code></td>
</tr>
<tr>
<td></td>
<td><b></b></td>
<td><i>0.1</i></td>
<td><img src="http://imgx-ss.bscstorage.com/imgx-test/h_
0.1/demo/charles.png?AWSAccessKeyId=acc_
drdrxp&amp;Expires=2464775993&amp;Signature=kppwJvaUOgNOacxgOX7pZCMwDDs%3D"></td>
<td>Adjust the image to 10% of its original size
<br><br><code>h_0.1</code></td>
</tr>
</tbody>
<thead>
<tr>
<th>gravity</th>
<th><b>g</b></th>
<th><i>To specify a position or direction</i></th>
<th></th>
<th>1. Use <i>&apos;crop&apos;, &apos;pad&apos;, &apos;fill&apos;</i> to specify clipping mode&#xFF1B; <br>2. Use to specify the <i>overlay</i> position</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td><b></b></td>
<td><b>north_west</b></td>
<td><img src="http://imgx-ss.bscstorage.com/imgx-test/c_crop,g_north_west,h_200,w_200/demo/4.png?AWSAccessKeyId=acc_drdrxp&amp;Expires=2464778155&amp;Signature=UExeDYZxS7Wf2J1nMK4KTwtPIyU%3D"></td>
<td>Upper left position
<br><br><code>c_crop,g_north_west,h_200,w_200</code></td>
</tr>
<tr>
<td></td>
<td><b></b></td>
<td><b>north</b></td>
<td><img src="http://imgx-ss.bscstorage.com/imgx-test/c_crop,g_north,h_200,w_200/demo/4.png?AWSAccessKeyId=acc_drdrxp&amp;Expires=2464778249&amp;Signature=plyAm8ZvqawOF3ohDLxCLsmpUQc%3D"></td>
<td>Straight up, horizontally centered
<br><br><code>c_crop,g_north,h_200,w_200</code></td>
</tr>
<tr>
<td></td>
<td><b></b></td>
<td><b>north_east</b></td>
<td><img src="http://imgx-ss.bscstorage.com/imgx-test/c_crop,g_north_east,h_200,w_200/demo/4.png?AWSAccessKeyId=acc_drdrxp&amp;Expires=2464778268&amp;Signature=O%2FtX9DTxsjLpF7Q3cJagA8o3l9Y%3D"></td>
<td>Upper Right position
<br><br><code>c_crop,g_north_east,h_200,w_200</code></td>
</tr>
<tr>
<td></td>
<td><b></b></td>
<td><b>west</b></td>
<td><img src="http://imgx-ss.bscstorage.com/imgx-test/c_crop,g_west,h_200,w_200/demo/4.png?AWSAccessKeyId=acc_drdrxp&amp;Expires=2464778292&amp;Signature=eFTNVmXxhn9hScGUWcpmwnx%2Fkio%3D"></td>
<td>On the left, vertically centered
<br><br><code>c_crop,g_west,h_200,w_200</code></td>
</tr>
<tr>
<td></td>
<td><b></b></td>
<td><b>center</b></td>
<td><img src="http://imgx-ss.bscstorage.com/imgx-test/c_crop,g_center,h_200,w_200/demo/4.png?AWSAccessKeyId=acc_drdrxp&amp;Expires=2464778308&amp;Signature=M%2FTeVwmYdINeqp4%2BxxAYMe452g0%3D"></td>
<td>The middle
<br><br><code>c_crop,g_center,h_200,w_200</code></td>
</tr>
<tr>
<td></td>
<td><b></b></td>
<td><b>east</b></td>
<td><img src="http://imgx-ss.bscstorage.com/imgx-test/c_crop,g_east,h_200,w_200/demo/4.png?AWSAccessKeyId=acc_drdrxp&amp;Expires=2464778324&amp;Signature=Qb1%2BDyldQ%2FOxx7JJmdQz%2Bglrark%3D"></td>
<td>On the right, vertically centered
<br><br><code>c_crop,g_east,h_200,w_200</code></td>
</tr>
<tr>
<td></td>
<td><b></b></td>
<td><b>south_west</b></td>
<td><img src="http://imgx-ss.bscstorage.com/imgx-test/c_crop,g_south_west,h_200,w_200/demo/4.png?AWSAccessKeyId=acc_drdrxp&amp;Expires=2464778343&amp;Signature=AsJdVwQgL7obQ3lGfKF0RDOHrmM%3D"></td>
<td>Lower left position
<br><br><code>c_crop,g_south_west,h_200,w_200</code></td>
</tr>
<tr>
<td></td>
<td><b></b></td>
<td><b>south</b></td>
<td><img src="http://imgx-ss.bscstorage.com/imgx-test/c_crop,g_south,h_200,w_200/demo/4.png?AWSAccessKeyId=acc_drdrxp&amp;Expires=2464778363&amp;Signature=ImwO39IKfypIoAB442JWj9ogq%2Fg%3D"></td>
<td>Straight down, horizontally centered
<br><br><code>c_crop,g_south,h_200,w_200</code></td>
</tr>
<tr>
<td></td>
<td><b></b></td>
<td><b>south_east</b></td>
<td><img src="http://imgx-ss.bscstorage.com/imgx-test/c_crop,g_south_east,h_200,w_200/demo/4.png?AWSAccessKeyId=acc_drdrxp&amp;Expires=2464778397&amp;Signature=sKbISWjFnnsu5B6UrnrmNTEe%2FZo%3D"></td>
<td>Lower right position
<br><br><code>c_crop,g_south_east,h_200,w_200</code></td>
</tr>
<tr>
<td></td>
<td><b></b></td>
<td><b>xy_center</b></td>
<td><img src="http://imgx-ss.bscstorage.com/imgx-test/c_crop,g_xy_center,h_400,w_400,x_245,y_240/demo/4.png?AWSAccessKeyId=acc_drdrxp&amp;Expires=2464778421&amp;Signature=iWwhFozXKF5m8CO5qhpYT6bcJP8%3D"></td>
<td>The Specified x,y coordinates, and as the center point
<br><br><code>c_crop,g_xy_center,
h_400,w_400,x_245,y_240</code></td>
</tr>
<tr>
<td></td>
<td><b></b></td>
<td><b>face</b></td>
<td><img src="http://imgx-ss.bscstorage.com/imgx-test/c_crop,g_face,h_140,w_140/demo/3.png?AWSAccessKeyId=acc_drdrxp&amp;Expires=2464778446&amp;Signature=AwK%2BJlJi%2FWMa5m8TDQiqn3z97As%3D"></td>
<td>Automatically locate the face if there are multiple faces, choose the one that is easiest to recognize.
<br><br><code>c_crop,g_face,h_140,w_140</code></td>
</tr>
<tr>
<td></td>
<td><b></b></td>
<td>face (thumb)</td>
<td><img src="http://imgx-ss.bscstorage.com/imgx-test/c_thumb,g_face,h_130,w_140,f_png/demo/1.jpg?AWSAccessKeyId=acc_drdrxp&amp;Expires=2464778466&amp;Signature=qSOky2UqHn3tgrQU2bE0BZEjrM8%3D"></td>
<td>Automatically locate the position of the face and generate thumbnails according to the specified size. If there are multiple faces, choose the one that is easiest to recognize.
<br><br><code>c_thumb,g_face,h_130,w_140,f_png</code></td>
</tr>
<tr>
<td></td>
<td><b></b></td>
<td><b>faces</b></td>
<td><img src="http://imgx-ss.bscstorage.com/imgx-test/c_thumb,g_faces,h_220,w_600,e_brightness%3A18/demo/3.png?AWSAccessKeyId=acc_
drdrxp&amp;Expires=2464779681&amp;Signature=WjBH1Jz2AhdWlQno%2BieOONMHjfk%3D"></td>
<td>Automatically located the position of the multiple faces
<br><br><code>c_thumb,g_faces,h_220,w_600,
e_brightness:18</code></td>
</tr>
<tr>
<td></td>
<td><b></b></td>
<td><b>face:center</b></td>
<td><img src="http://imgx-ss.bscstorage.com/imgx-test/c_thumb,g_face%3Acenter,h_140,w_140/demo/3.png?AWSAccessKeyId=acc_drdrxp&amp;Expires=2464779711&amp;Signature=IpqPP16HCxCoPEZRTb%2BPAwh9bfw%3D"></td>
<td>Automatic to locate the location of the face, if you cannot find the face is automatically positioned to the center of the original picture.
<br><br><code>c_thumb,g_face:center,h_140,w_140</code></td>
</tr>
<tr>
<td></td>
<td><b></b></td>
<td><b>faces:center</b></td>
<td><img src="http://imgx-ss.bscstorage.com/imgx-test/c_thumb,g_faces%3Acenter,h_120,w_330,e_brightness%3A18/demo/3.png?AWSAccessKeyId=acc_drdrxp&amp;Expires=2464779729&amp;Signature=MpE5J2LsxhCu1K5%2FB2h9i%2F8VZXA%3D"></td>
<td>Automatic positioning to the location of multiple faces, if the face cannot be found automatically positioning to the center of the original picture.
<br><br><code>c_thumb,g_faces:center,
h_120,w_330,e_brightness:18</code></td>
</tr>
</tbody>
<thead>
<tr>
<th>x</th>
<th><b>x</b></th>
<th><i>Pixels</i></th>
<th></th>
<th>Use to specify the horizontal coordinates of a cropping or watermark image </th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td><b></b></td>
<td><i>110</i></td>
<td><img src="http://imgx-ss.bscstorage.com/imgx-test/c_crop,h_180,w_180,x_110/demo/charles.png?AWSAccessKeyId=acc_drdrxp&amp;Expires=2464851108&amp;Signature=qkUt0EBiRH1hL%2FdTSbS%2BvbdS060%3D"></td>
<td>Crop the image at 180x180 pixels, starting at 110 pixels on the left
<br><br><code>c_crop,h_180,w_180,x_110</code></td>
</tr>
</tbody>
<thead>
<tr>
<th>y</th>
<th><b>y</b></th>
<th><i>Pixels</i></th>
<th></th>
<th>To Specify the vertical coordinates of a cropping or watermark image</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td><b></b></td>
<td><i>230</i></td>
<td><img src="http://imgx-ss.bscstorage.com/imgx-test/c_crop,h_180,w_180,x_180,y_230/demo/charles.png?AWSAccessKeyId=acc_drdrxp&amp;Expires=2464851257&amp;Signature=KbWMmZBansdeH7ELNlGu0yIqbXo%3D"></td>
<td>Crop the image at 180x180 pixels, starting at 230 pixels at the top
<br><br><code>c_crop,h_180,w_180,x_180,y_230</code></td>
</tr>
</tbody>
<thead>
<tr>
<th>quality</th>
<th><b>q</b></th>
<th><i> percentage</i></th>
<th></th>
<th> Controls the compression quality of JPG or WEBP images.  The minimum value is 1 and the maximum value is 100</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td><b></b></td>
<td><i>100</i></td>
<td><img src="http://imgx-ss.bscstorage.com/imgx-test/c_thumb,g_face,h_130,w_140,q_100/demo/1.jpg?AWSAccessKeyId=acc_drdrxp&amp;Expires=2464779812&amp;Signature=AgnTF%2BLL6kJCwfQsqxvZrRmaXzk%3D"></td>
<td> Image quality is 100% and file size is 14.3KB
<br><br><code>c_thumb,g_face,h_130,w_140,q_100</code></td>
</tr>
<tr>
<td></td>
<td><b></b></td>
<td><i>10</i></td>
<td><img src="http://imgx-ss.bscstorage.com/imgx-test/c_thumb,g_face,h_130,w_140,q_10/demo/1.jpg?AWSAccessKeyId=acc_drdrxp&amp;Expires=2464779833&amp;Signature=ngDnb0IJts9p8tlLPAmkI9uK9zk%3D"></td>
<td>Image quality is 10% and file size is reduced to 1.5KB
<br><br><code>c_thumb,g_face,h_130,w_140,q_10</code></td>
</tr>
</tbody>
<thead>
<tr>
<th>radius</th>
<th><b>r</b></th>
<th><i> Pixel or &apos;Max&apos;</i></th>
<th></th>
<th>## Specifies radius, generates rounded corners or becomes completely round (oval)</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td><b></b></td>
<td><i>30</i></td>
<td><img src="http://imgx-ss.bscstorage.com/imgx-test/c_thumb,g_face,h_140,w_140,f_png,r_30/demo/1.jpg?AWSAccessKeyId=acc_drdrxp&amp;Expires=2464779854&amp;Signature=3gVOrVBxma72lG0RRCd%2BrbVzbVY%3D"></td>
<td>Generates rounded corners with a radius of 30 pixels
<br><br><code>c_thumb,g_face,h_140,w_140,f_png,r_30</code></td>
</tr>
<tr>
<td></td>
<td><b></b></td>
<td><b>max</b></td>
<td><img src="http://imgx-ss.bscstorage.com/imgx-test/c_thumb,g_face,h_140,w_140,f_png,r_max/demo/1.jpg?AWSAccessKeyId=acc_drdrxp&amp;Expires=2464779872&amp;Signature=bLoCnVoXjhycDcmBssoC185tyLY%3D"></td>
<td>Use the maximum radius to generate rounded corners
<br><br><code>c_thumb,g_face,h_140,w_140,f_png,r_max</code></td>
</tr>
</tbody>
<thead>
<tr>
<th>angle</th>
<th><b>a</b></th>
<th><i> Angle or flip mode</i></th>
<th></th>
<th> Flip or rotate the image </th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td><b></b></td>
<td><i>90</i></td>
<td><img src="http://imgx-ss.bscstorage.com/imgx-test/c_fill,h_80,w_80,a_90/demo/sheep.png?AWSAccessKeyId=acc_drdrxp&amp;Expires=2464779895&amp;Signature=9tqwZW7SthjhR2dm950jAn9ZjDI%3D"></td>
<td> Rotate 90 degrees clockwise
<br><br><code>c_fill,h_80,w_80,a_90</code></td>
</tr>
<tr>
<td></td>
<td><b></b></td>
<td><i>10</i></td>
<td><img src="http://imgx-ss.bscstorage.com/imgx-test/c_fill,h_80,w_80,a_10/demo/sheep.png?AWSAccessKeyId=acc_drdrxp&amp;Expires=2464779911&amp;Signature=zwPmqKWWUZj9D4gPqnWfWscy8F8%3D"></td>
<td> Rotate 10 degrees clockwise
<br><br><code>c_fill,h_80,w_80,a_10</code></td>
</tr>
<tr>
<td></td>
<td><b></b></td>
<td><i>-20</i></td>
<td><img src="http://imgx-ss.bscstorage.com/imgx-test/c_fill,h_80,w_80,a_-20/demo/sheep.png?AWSAccessKeyId=acc_drdrxp&amp;Expires=2464779926&amp;Signature=eE1xWIAlkx4XZAnQ2ww6P8bAVPM%3D"></td>
<td> Rotate 20 degrees counterclockwise
<br><br><code>c_fill,h_80,w_80,a_-20</code></td>
</tr>
<tr>
<td></td>
<td><b></b></td>
<td><b>vflip</b></td>
<td><img src="http://imgx-ss.bscstorage.com/imgx-test/c_fill,h_80,w_80,a_vflip/demo/sheep.png?AWSAccessKeyId=acc_drdrxp&amp;Expires=2464779944&amp;Signature=%2Bca1r1SJSn%2Bs9ocufpuBDty1LeA%3D"></td>
<td> flip vertical
<br><br><code>c_fill,h_80,w_80,a_vflip</code></td>
</tr>
<tr>
<td></td>
<td><b></b></td>
<td><b>hflip</b></td>
<td><img src="http://imgx-ss.bscstorage.com/imgx-test/c_fill,h_80,w_80,a_hflip/demo/sheep.png?AWSAccessKeyId=acc_drdrxp&amp;Expires=2464779960&amp;Signature=2hSuIkpVhahTCyV53W27sxFXu3E%3D"></td>
<td> flip horizontal
<br><br><code>c_fill,h_80,w_80,a_hflip</code></td>
</tr>
</tbody>

<thead>
<tr>
<th>effect</th>
<th><b>e</b></th>
<th><i>name and value</i></th>
<th></th>
<th> Use filters or special effects </th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td><b></b></td>
<td><b>grayscale</b></td>
<td><img src="http://imgx-ss.bscstorage.com/imgx-test/c_fill,h_380,w_380,e_grayscale/demo/horses.png?AWSAccessKeyId=acc_drdrxp&amp;Expires=2464779995&amp;Signature=szrfdWnBYaDbF9mDpEYYQSmHjvc%3D"></td>
<td> gray level
<br><br><code>c_fill,h_380,w_380,e_grayscale</code></td>
</tr>
<tr>
<td></td>
<td><b></b></td>
<td><b>oil_
paint</b></td>
<td><img src="http://imgx-ss.bscstorage.com/imgx-test/c_fill,h_380,w_380,e_oil_paint/demo/horses.png?AWSAccessKeyId=acc_drdrxp&amp;Expires=2464780024&amp;Signature=Qq%2Fn2GdugVX2E91mKFi2OBl%2FQzA%3D"></td>
<td> Canvas effect
<br><br><code>c_fill,h_380,w_380,e_oil_paint</code></td>
</tr>
<tr>
<td></td>
<td><b></b></td>
<td><i>oil_paint:2</i></td>
<td><img src="http://imgx-ss.bscstorage.com/imgx-test/c_fill,h_380,w_380,e_oil_paint%3A2/demo/horses.png?AWSAccessKeyId=acc_drdrxp&amp;Expires=2464780041&amp;Signature=8cfjtMELUFb0ABNn55M2Zdj%2FEj4%3D"></td>
<td>
Use the oil painting effect and specify a level value of 2. The value ranges from 1 to 8. The default value is 4  
<br><br><code>c_fill,h_380,w_380,e_oil_paint:2</code>
</td>
</tr>
<tr>
<td></td>
<td><b></b></td>
<td><b>negate</b></td>
<td><img src="http://imgx-ss.bscstorage.com/imgx-test/c_fill,h_380,w_380,e_negate%3A2/demo/horses.png?AWSAccessKeyId=acc_drdrxp&amp;Expires=2464780058&amp;Signature=3qG45TiVOSNwQom%2FpCRANKTFQbY%3D"></td>
<td>
reverse color
<br><br><code>c_fill,h_380,w_380,e_negate:2</code>
</td>
</tr>
<tr>
<td></td>
<td><b></b></td>
<td><i>brightness:28</i></td>
<td><img src="http://imgx-ss.bscstorage.com/imgx-test/c_fill,h_380,w_380,e_brightness%3A28/demo/horses.png?AWSAccessKeyId=acc_drdrxp&amp;Expires=2464780075&amp;Signature=PjBqfmVBGLYq5K65Rj95MYLjomg%3D"></td>
<td>
Adjust the brightness of the image and specify a percentage value of 28. The value ranges from -100 to 100. The default value is 30.
<br><br><code>c_fill,h_380,w_380,e_brightness:28</code>
</td>
</tr>
<tr>
<td></td>
<td><b></b></td>
<td><i>brightness:-28</i></td>
<td><img src="http://imgx-ss.bscstorage.com/imgx-test/c_fill,h_380,w_380,e_brightness%3A-20/demo/horses.png?AWSAccessKeyId=acc_drdrxp&amp;Expires=2464780093&amp;Signature=MDGQX78ccpE0nYpSt3s0YFSftqE%3D"></td>
<td>
Adjust the brightness of the image and specify a percentage value of -20. The value ranges from -100 to 100. The default value is 30.
<br><br><code>c_fill,h_380,w_380,e_brightness:-20</code>
</td>
</tr>
<tr>
<td></td>
<td><b></b></td>
<td><b>blur</b></td>
<td><img src="http://imgx-ss.bscstorage.com/imgx-test/c_fill,h_380,w_380,e_blur/demo/horses.png?AWSAccessKeyId=acc_drdrxp&amp;Expires=2464780111&amp;Signature=kZHLSOF2dZDUr%2B6%2F5I7qVYg2qbc%3D"></td>
<td>
blur effect
<br><br><code>c_fill,h_380,w_380,e_blur</code>
</td>
</tr>
<tr>
<td></td>
<td><b></b></td>
<td><i>blur:300</i></td>
<td><img src="http://imgx-ss.bscstorage.com/imgx-test/c_fill,h_380,w_380,e_blur%3A300/demo/horses.png?AWSAccessKeyId=acc_drdrxp&amp;Expires=2464780133&amp;Signature=1TqlkiM8qhIIGUCCbIihSJtoTDA%3D"></td>
<td>
Use the blur effect and specify a level value of 300. The value ranges from 1 to 2000. The default value is 100.
<br><br><code>c_fill,h_380,w_380,e_blur:300</code>
</td>
</tr>
<tr>
<td></td>
<td><b></b></td>
<td><b>pixelate</b></td>
<td><img src="http://imgx-ss.bscstorage.com/imgx-test/c_fill,h_380,w_380,e_pixelate%3A20/demo/horses.png?AWSAccessKeyId=acc_drdrxp&amp;Expires=2464780147&amp;Signature=CiVrSg5tbpF0S3kWamgfbvKkPsQ%3D"></td>
<td>
pixelate
<br><br><code>c_fill,h_380,w_380,e_pixelate:20</code>
</td>
</tr>
<tr>
<td></td>
<td><b></b></td>
<td><i>pixelate:40</i></td>
<td><img src="http://imgx-ss.bscstorage.com/imgx-test/c_fill,h_380,w_380,e_pixelate%3A40/demo/horses.png?AWSAccessKeyId=acc_drdrxp&amp;Expires=2464780426&amp;Signature=hjoTMD2jgmLPydz5NF5NnaNlauw%3D"></td>
<td>
Use the pixelated effect and specify a level value of 40. The default value is 5.
<br><br><code>c_fill,h_380,w_380,e_pixelate:40</code>
</td>
</tr>
<tr>
<td></td>
<td><b></b></td>
<td><b>sharpen</b></td>
<td><img src="http://imgx-ss.bscstorage.com/imgx-test/c_fill,h_380,w_380,e_sharpen/demo/horses.png?AWSAccessKeyId=acc_drdrxp&amp;Expires=2464780445&amp;Signature=hPVzAXcdvlZX3LqDk%2Bw8bYOV%2BwE%3D"></td>
<td>
Sharpen
<br><br><code>c_fill,h_380,w_380,e_sharpen</code>
</td>
</tr>
<tr>
<td></td>
<td><b></b></td>
<td><i>sharpen:400</i></td>
<td><img src="http://imgx-ss.bscstorage.com/imgx-test/c_fill,h_380,w_380,e_sharpen%3A400/demo/horses.png?AWSAccessKeyId=acc_drdrxp&amp;Expires=2464780462&amp;Signature=bfGlfc%2Fbm6bfdO7lWcRgj6L8Xyw%3D"></td>
<td>
Use sharpening and specify a level value of 400. The value ranges from 1 to 2000. The default value is 100.
<br><br><code>c_fill,h_380,w_380,e_sharpen:400</code>
</td>
</tr>
<tr>
<td></td>
<td><b></b></td>
<td><b>auto_
contrast</b></td>
<td><img src="http://imgx-ss.bscstorage.com/imgx-test/c_fill,h_380,w_380,e_auto_contrast/demo/horses.png?AWSAccessKeyId=acc_drdrxp&amp;Expires=2464780485&amp;Signature=85x57KcbBgtTMLvSqag4y4yElKY%3D"></td>
<td>
Auto Contrast
<br><br><code>c_fill,h_380,w_380,e_auto_contrast</code>
</td>
</tr>
<tr>
<td></td>
<td><b></b></td>
<td><b>improve</b></td>
<td><img src="http://imgx-ss.bscstorage.com/imgx-test/c_fill,h_380,w_380,e_improve/demo/horses.png?AWSAccessKeyId=acc_drdrxp&amp;Expires=2464780504&amp;Signature=NYmzvR%2BtSDeNbfpe%2FWDa92AjHtA%3D"></td>
<td>
Automatically adjust the image color, contrast, and brightness
<br><br><code>c_fill,h_380,w_380,e_improve</code>
</td>
</tr>
<tr>
<td></td>
<td><b></b></td>
<td><b>sepia</b></td>
<td><img src="http://imgx-ss.bscstorage.com/imgx-test/c_fill,h_380,w_380,e_sepia/demo/horses.png?AWSAccessKeyId=acc_drdrxp&amp;Expires=2464780521&amp;Signature=eHWgaDcKYk7VfNkAjg1rxsrRLQc%3D"></td>
<td>
Add brown to achieve the old photo effect
<br><br><code>c_fill,h_380,w_380,e_sepia</code>
</td>
</tr>
<tr>
<td></td>
<td><b></b></td>
<td><i>sepia:60</i></td>
<td><img src="http://imgx-ss.bscstorage.com/imgx-test/c_fill,h_380,w_380,e_sepia%3A60/demo/horses.png?AWSAccessKeyId=acc_drdrxp&amp;Expires=2464780543&amp;Signature=Hv9AAamVUxQwOuhKTT0pR5k8ITs%3D"></td>
<td>
Add brown to achieve the old photo effect and specify a level value of 60. The value ranges from 1 to 100. The default value is 80.
<br><br><code>c_fill,h_380,w_380,e_sepia:60</code>
</td>

</tr><tr>
<td></td>
<td><b></b></td>
<td><i>red:40</i></td>
<td><img src="http://imgx-ss.bscstorage.com/imgx-test/c_fill,h_380,w_380,e_red%3A40/demo/horses.png?AWSAccessKeyId=acc_drdrxp&amp;Expires=2464780562&amp;Signature=wH%2FQSVXJ3WA6hYEhMcS34mAJzx8%3D"></td>
<td>
Add Red
<br><br><code>c_fill,h_380,w_380,e_red:40</code>
</td>
</tr>
<tr>
<td></td>
<td><b></b></td>
<td><i>green:40</i></td>
<td><img src="http://imgx-ss.bscstorage.com/imgx-test/c_fill,h_380,w_380,e_green%3A40/demo/horses.png?AWSAccessKeyId=acc_drdrxp&amp;Expires=2464780575&amp;Signature=dvXP0ufzgn2lLrMGcrCpV7cRqjM%3D"></td>
<td>
Add Green
<br><br><code>c_fill,h_380,w_380,e_green:40</code>
</td>
</tr>
<tr>
<td></td>
<td><b></b></td>
<td><i>blue:40</i></td>
<td><img src="http://imgx-ss.bscstorage.com/imgx-test/c_fill,h_380,w_380,e_blue%3A40/demo/horses.png?AWSAccessKeyId=acc_drdrxp&amp;Expires=2464780588&amp;Signature=W0qO6qxutxohHyAkAOXXjSbEsn0%3D"></td>
<td>
Add Blue
<br><br><code>c_fill,h_380,w_380,e_blue:40</code>
</td>
</tr>
<tr>
<td></td>
<td><b></b></td>
<td><i>yellow:40</i></td>
<td><img src="http://imgx-ss.bscstorage.com/imgx-test/c_fill,h_380,w_380,e_yellow%3A40/demo/horses.png?AWSAccessKeyId=acc_drdrxp&amp;Expires=2464780602&amp;Signature=BS29Zm2sH3VXT4N8l3bHZIT8xuA%3D"></td>
<td>
Add Yellow
<br><br><code>c_fill,h_380,w_380,e_yellow:40</code>
</td>
</tr>
<tr>
<td></td>
<td><b></b></td>
<td><i>cyan:40</i></td>
<td><img src="http://imgx-ss.bscstorage.com/imgx-test/c_fill,h_380,w_380,e_cyan%3A40/demo/horses.png?AWSAccessKeyId=acc_drdrxp&amp;Expires=2464780616&amp;Signature=pXDGPEPPl6xQvxIdcYcPQUToZJI%3D"></td>
<td>
Add Brown
<br><br><code>c_fill,h_380,w_380,e_cyan:40</code>
</td>
</tr>
<tr>
<td></td>
<td><b></b></td>
<td><i>magenta:40</i></td>
<td><img src="http://imgx-ss.bscstorage.com/imgx-test/c_fill,h_380,w_380,e_magenta%3A40/demo/horses.png?AWSAccessKeyId=acc_drdrxp&amp;Expires=2464780628&amp;Signature=tHkwP66w96NAZh1FBpwC9fj3cmc%3D"></td>
<td>
Add Pink
<br><br><code>c_fill,h_380,w_380,e_magenta:40</code>
</td>
</tr>
</tbody>

<thead>
<tr>
<th>opacity</th>
<th><b>o</b></th>
<th><i>Percentage</i></th>
<th></th>
<th> Controls the opacity of PNG or WEBP images. The minimum value is 1 and the maximum value is 100 </th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td><b></b></td>
<td><i>25</i></td>
<td><img src="http://imgx-ss.bscstorage.com/imgx-test/h_330,w_330,o_25/demo/sheep.png?AWSAccessKeyId=acc_drdrxp&amp;Expires=2464780646&amp;Signature=PLo6%2BUYr%2FQ9tP6ksUXUnXS8CESU%3D"></td>
<td>
The Opacity is 25%
<br><br><code>h_330,w_330,o_25</code>
</td>
</tr>
</tbody>

<thead>
<tr>
<th>border</th>
<th><b>bo</b></th>
<th><i>style</i></th>
<th></th>
<th> set Border</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td><b></b></td>
<td><i>10_
0000004a</i></td>
<td><img src="http://imgx-ss.bscstorage.com/imgx-test/h_330,w_330,bo_10_0000004a/demo/sheep.png?AWSAccessKeyId=acc_drdrxp&amp;Expires=2464780667&amp;Signature=21asF6rN41wa8ezER4xY5G1TVDw%3D"></td>
<td>
Set a border width to 10px, color to black, and opacity to 4A (hexadecimal).  
<br><br><code>h_330,w_330,bo_10_0000004a</code>
</td>
</tr>
<tr>
<td></td>
<td><b></b></td>
<td><i>8_bbbbbb</i></td>
<td><img src="http://imgx-ss.bscstorage.com/imgx-test/h_330,w_330,bo_8_bbbbbb,r_100/demo/sheep.png?AWSAccessKeyId=acc_drdrxp&amp;Expires=2464780686&amp;Signature=tFi1iqhNnyIuuT4jnTYodEn%2FtQw%3D"></td>
<td>
Set a border width of 8px and a color value of bbbbbb for the rounded image  
<br><br><code>h_330,w_330,bo_8_bbbbbb,r_
100</code>
</td>
</tr>
</tbody>

<thead>
<tr>
<th>background</th>
<th><b>b</b></th>
<th><i>color</i></th>
<th></th>
<th> Set the background color with other commands</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td><b></b></td>
<td><i>dddddd</i></td>
<td><img src="http://imgx-ss.bscstorage.com/imgx-test/c_pad,w_380,h_180,b_dddddd/demo/charles.png?AWSAccessKeyId=acc_drdrxp&amp;Expires=2464780701&amp;Signature=o6fomfZsrB%2B1GhgR%2BlXPDFxDocs%3D"></td>
<td>
Set the background color to the color value dddddd
<br><br><code>c_pad,w_380,h_180,b_dddddd</code>
</td>
</tr>
<tr>
<td></td>
<td><b></b></td>
<td><i>fff6def0</i></td>
<td><img src="http://imgx-ss.bscstorage.com/imgx-test/c_fill,h_110,w_110,a_30,b_fff6def0/demo/sheep.png?AWSAccessKeyId=acc_drdrxp&amp;Expires=2464780715&amp;Signature=MysQeT9UxGIMAMXMqW7hlzXwF0k%3D"></td>
<td>
Set the background color to fff6de and opacity to f0 (hexadecimal)
<br><br><code>c_fill,h_110,w_110,a_30,b_fff6def0</code>
</td>
</tr>
<tr>
<td></td>
<td><b></b></td>
<td><i>dbeced</i></td>
<td><img src="http://imgx-ss.bscstorage.com/imgx-test/c_fill,h_140,w_140,r_max,b_dbeced--c_lpad,g_center,w_152,h_152,b_dbeced/demo/sheep.png?AWSAccessKeyId=acc_drdrxp&amp;Expires=2464780729&amp;Signature=%2BhTugtDL8OCzDgyR95YJ3R9DniI%3D"></td>
<td>
Set the background color to the color value dddddd
<br><br><code>c_fill,h_140,w_140,r_max,b_dbeced--c_lpad,g_center,w_152,h_152,b_dbeced</code>
</td>
</tr>
</tbody>


<thead>
<tr>
<th>overlay</th>
<th><b>l</b></th>
<th><i> Use watermark picture name, or use font to describe the file name, etc </i></th>
<th></th>
<th> Add a watermark to the original image. And you can use the W, H, X, Y ,and gravity parameters to control the size and position of the watermark, and the O parameter to control the transparency of the watermark.  </th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td><b></b></td>
<td><i>superman</i></td>
<td><img src="http://imgx-ss.bscstorage.com/imgx-test/c_fill,w_500,h_500,g_face,f_png--l_superman,g_south_east,w_250,x_-120,y_-60--l_bs_logo,x_20,y_20/demo/1.jpg?AWSAccessKeyId=acc_drdrxp&amp;Expires=2464835936&amp;Signature=VntmQ1EndLDbBb4wiG3ofN7TdcI%3D"></td>
<td>
Add a watermark of square face superman in the bottom right corner of the image (support external area). Firstly, you need to save the watermark map (must be in PNG format) to your corresponding bucket, the File path is imgx/overlay/ myname.png, and then you can use the l_my_name command to do the watermark operation.
<br><br><code>c_fill,w_500,h_500,g_face,
f_png--l_superman,g_south_east,
w_250,x_-120,y_-60--l_scs_logo,x_20,y_20</code>
</td>
</tr>
<tr>
<td></td>
<td><b></b></td>
<td><i>text:font_me:Hello, BaishanCloud</i></td>
<td><img src="http://imgx-ss.bscstorage.com/imgx-test/l_text:font_me:%E4%BD%A0%E5%A5%BD%EF%BC%8C%E7%99%BD%E5%B1%B1%E4%BA%91,g_north_east,x_
14,y_14--w_400/demo/charles.png?AWSAccessKeyId=acc_drdrxp&amp;Expires=2464846517&amp;Signature=8wPZnmR4kfFStvjXBGBQ%2B21j03M%3D"></td>
<td>
Text watermark. More on font style Settings later
<br><br><code>l_text:font_me:Hello, BaishanCloud
g_north_east,x_14,y_14--w_400</code>
</td>
</tr>
</tbody>


<thead>
<tr>
<th>format</th>
<th><b>f</b></th>
<th><i>Image Format</i></th>
<th></th>
<th> Image format transfer</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td><b></b></td>
<td><i>png</i></td>
<td></td>
<td><code>f_png</code></td>
</tr>
<tr>
<td></td>
<td><b></b></td>
<td><i>webp</i></td>
<td></td>
<td><code>f_webp</code></td>
</tr>
<tr>
<td></td>
<td><b></b></td>
<td><i>jpeg</i></td>
<td></td>
<td><code>f_jpeg</code></td>
</tr>
<tr>
<td></td>
<td><b></b></td>
<td><i>jpg</i></td>
<td></td>
<td><code>f_jpg</code></td>
</tr>
</tbody>


<thead>
<tr>
<th>version</th>
<th><b>v</b></th>
<th><i>Version</i></th>
<th></th>
<th> Specifies the version to regenerate the image if the cache has not expired</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td><b></b></td>
<td><i>1.21</i></td>
<td></td>
<td> decimal<code>v_1.21</code></td>
</tr>
<tr>
<td></td>
<td><b></b></td>
<td><i>13</i></td>
<td></td>
<td> integer<code>v_
13</code></td>
</tr>
</tbody>

<thead>
<tr>
<th>transformation</th>
<th><b>t</b></th>
<th><i>Name</i></th>
<th></th>
<th>&quot;Instruction set&quot;, the instructions can be saved to the specified path using jSON-formatted files instead of urls  </th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td><b></b></td>
<td><i>my_thumbs</i></td>
<td></td>
<td>
Custom Name. Under the corresponding bucket, create the file:<i>imgx/cmd_template/my_thumbs.json</i>
<br><br><code>t_my_thumbs</code>
</td>
</tr>
</tbody>
<thead>
<tr>
<th>information</th>
<th><b>i</b></th>
<th><i>information type</i></th>
<th></th>
<th> Retrieves picture information for the specified type </th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td><b></b></td>
<td><i>exif</i></td>
<td>
<a href="http://imgx-ss.bscstorage.com/imgx-test/i_exif/info.jpg?AWSAccessKeyId=acc_drdrxp&amp;Expires=1532134163&amp;Signature=3wHpLeDk%2FZxTLodjQxiT5Lksc6w%3D" target="_blank">exif</a>
</td>
<td>
i_exif, Returns information about the image exif in JSON format
</td>
</tr>
<tr>
<td></td>
<td><b></b></td>
<td><i>iptc</i></td>
<td>
<a href="http://imgx-ss.bscstorage.com/imgx-test/i_iptc/info.jpg?AWSAccessKeyId=acc_drdrxp&amp;Expires=1532134979&amp;Signature=pOoJof%2Fzjahvk5JrK7c9z2oMOq4%3D" target="_blank">iptc</a>
</td>
<td>
i_iptc, Returns the IPTC information of the image in JSON format
</td>
</tr>
<tr>
<td></td>
<td><b></b></td>
<td><i>all</i></td>
<td>
<a href="http://imgx-ss.bscstorage.com/imgx-test/i_all/info.jpg?AWSAccessKeyId=acc_
drdrxp&amp;Expires=1532135055&amp;Signature=vsuwXraMZP7KmBql%2Bn1Y3G%2FpwVs%3D" target="_blank">all</a>
</td>
<td>
i_all, Returns all information about the image in JSON format
</td>
</tr>
</tbody>

</table>

<h2 id="access-the-image-processing-service-by-using-aws-sdk">Access the image processing service by using AWS-SDK</h2>
<p>You can access the image processing service directly using the standard AWS-SDK.</p><p>Note: The IMGx service only accepts the standard &apos;get_
object&apos; operation. All other operations are illegal.</p>

<p>The following example code uses python boto3 sdk&#xFF1A;</p>
<pre><code>import boto3

s2_imgx_domain_name = &apos;http://imgx-ss.bscstorage.com&apos;   # This example uses the three-copy cluster configuration, which needs to be adjusted based on different clusters.
s2_imgx_access_key = &apos;xxxxxx&apos;                           # User own access key
s2_imgx_secret_key = &apos;xxxxxx&apos;                           # User own secret key

imgx_cmd = &apos;c_scale,w_100,h_100&apos; # Picture processing commands, refer to the picture processing instructions section.
imgx_bucket = &apos;my_imgx_bucket&apos;   # The name of the user&apos;s bucket on the storage
imgx_key = &apos;my_img.jpg&apos;          # The key name of the image that the user wants to manipulate.


# Create s2 client
imgx_cli = boto3.client(&apos;s3&apos;,
endpoint_url=s2_imgx_domain_name,
aws_access_key_id=s2_imgx_access_key,
aws_secret_access_key=s2_imgx_secret_key)

imgx_cmd_key = u&apos;{cmd}/{key}&apos;.format(cmd=imgx_cmd, key=imgx_
key) # As the Key on final access
resp = imgx_cli.get_object(Bucket=imgx_bucket, Key=imgx_
cmd_key)

print resp
</code></pre><h2 id="instruction-about-the-watermark-function">Instruction about the watermark function</h2>
<ol>
<li>WaterMark type: <code>picture watermarking</code> and <code>text watermarking</code>.</li>
<li>If you use the watermark <code>l</code> command, other instructions will be combined with <code>l</code> to process the <code>watermark image or text</code>&#xFF08;e.g. <code>w</code>&#x3001;<code>h</code>&#x3001;<code>g</code>&#x3001;<code>x</code>&#x3001;<code>y</code>&#x3001;<code>o</code>&#x3001;<code>bo</code>&#x3001;<code>e</code>&#x3001;<code>a</code>&#x3001;<code>r</code>, etc.&#xFF09;</li>
</ol>
<h3 id="picture-watermark">Picture Watermark</h3>
<p>You need to save the watermark texture to the corresponding bucket <code>imgx/overlay/&lt;filename&gt;.png</code> in advance. The image must be in png format. The following two images are examples.</p>
<table class="table table-striped table-bordered table-condensed">
<thead>
<tr>
<th><i> watermark texture</i></th>
<th><i> corresponding path</i></th>
<th><i> corresponding command</i></th>
</tr>
</thead>
<tbody>
<tr>
<td><img src="http://ss.bscstorage.com/imgx-test/imgx/l/icon_
v.png?AWSAccessKeyId=acc_drdrxp&amp;Expires=2464848305&amp;Signature=xlPiRJyVFwdViWHgbsj5yiTYl%2Bk%3D"></td>
<td><i>imgx/overlay/icon_v.png</i></td>
<td><code>l_icon_v</code></td>
</tr>
<tr>
<td><img src="http://ss.bscstorage.com/imgx-test/imgx/l/bs_
logo.png?AWSAccessKeyId=acc_
drdrxp&amp;Expires=2464848350&amp;Signature=H37eufIimTWyx240GDCspIUzAQM%3D"></td>
<td><i>imgx/overlay/bs_logo.png</i></td>
<td><code>l_bs_logo</code></td>
</tr>
</tbody>
</table>


<p>The following are examples of specific functions</p>
<table class="table table-striped table-bordered table-condensed">
<thead>
<tr>
<th width="300px"><i>example</i></th>
<th><i>description</i></th>
<th><i>processing instruction</i></th>
</tr>
</thead>
<tbody>
<tr>
<td><img src="http://imgx-ss.bscstorage.com/imgx-test/c_fit,w_300,f_png--l_bs_logo,g_north_west,w_120,o_35,x_43,y_20,a_-10/demo/1.jpg?AWSAccessKeyId=acc_drdrxp&amp;Expires=2464848736&amp;Signature=qgX3TgPxRhsDC55OYz0w2DKMLJ0%3D"></td>
<td>
1. Scale the original image proportionally;<br>
2. Add an image watermark to the upper left corner of the original image, fine-tune the coordinates (x_43, y_20), set the width of the watermark to 120px, the opacity to 35%, and rotate the watermark 10 degrees counterclockwise.
</td>
<td>
<code>c_fit,w_300,f_png--
l_bs_logo,g_north_west,
w_120,o_35,x_43,y_20,a_-10</code>
</td>
</tr>
<tr>
<td><img src="http://imgx-ss.bscstorage.com/imgx-test/c_thumb,g_face,w_200,h_200,r_max,bo_6_ffffff80,f_png--l_icon_v,g_south_east,w_60,x_
-1,y_-5/demo/1.jpg?AWSAccessKeyId=acc_
drdrxp&amp;Expires=2464848557&amp;Signature=ExulrCr%2BFC%2B%2BTeuHgpah7M%2FwzO0%3D"></td>
<td>
1. Process the original image into a rounded avatar <br>
2. Add a watermark image in the lower right corner, fine-tune the watermark coordinates (x_-1, y_-5) outward, and set the width of the watermark image to 60px.
</td>
<td>
<code>c_thumb,g_face,w_200,h_200,
r_max,bo_6_ffffff80,f_png--l_icon_v,
g_south_east,w_60,x_-1,y_-5</code>
</td>
</tr>
<tr>
<td><img src="http://imgx-ss.bscstorage.com/imgx-test/c_
thumb,g_face,w_200,h_200,r_max,bo_6_ffffff80,f_png--l_icon_v,g_south_east,w_60,x_-1,y_-5,e_negate/demo/1.jpg?AWSAccessKeyId=acc_drdrxp&amp;Expires=2464848604&amp;Signature=LyDMfwGhTgjUzfkoo6GGCRU3%2B1E%3D"></td>
<td>
1. As above<br>
2. Invert the watermarked image
</td>
<td>
<code>c_thumb,g_face,w_200,h_200,
r_max,bo_6_ffffff80,f_png--l_icon_v,
g_south_east,w_60,x_-1,y_-5,e_negate</code>
</td>
</tr>
</tbody>
</table>


<p><br></p>
<h3 id="text-watermark">Text Watermark</h3>
<p>Please save the font configuration of the text watermark (json formatted file) to the corresponding bucket <code>imgx/overlay/&lt;file&gt;.json</code> in advance, for example,</p>
<pre><code class="lang-json">{
<span class="hljs-string">&quot;font_family&quot;</span> : <span class="hljs-string">&quot;Xingkai SC&quot;</span>,
<span class="hljs-string">&quot;font_style&quot;</span> : <span class="hljs-string">&quot;bold&quot;</span>,
<span class="hljs-string">&quot;font_size&quot;</span> : <span class="hljs-number">30</span>,
<span class="hljs-string">&quot;font_color&quot;</span> : <span class="hljs-string">&quot;000000&quot;</span>,
<span class="hljs-string">&quot;background&quot;</span> : <span class="hljs-string">&quot;ff0000cc&quot;</span>,
<span class="hljs-string">&quot;padding&quot;</span> : <span class="hljs-number">10</span>,
<span class="hljs-string">&quot;word_spacing&quot;</span> : <span class="hljs-number">1</span>,
<span class="hljs-string">&quot;kerning&quot;</span> : <span class="hljs-number">1</span>,
<span class="hljs-string">&quot;line_spacing&quot;</span> : <span class="hljs-number">2</span>,
<span class="hljs-string">&quot;pierced&quot;</span> : <span class="hljs-literal">false</span>,
<span class="hljs-string">&quot;tile&quot;</span> : <span class="hljs-literal">false</span>,
<span class="hljs-string">&quot;text&quot;</span> : <span class="hljs-string">&quot;Default Value&quot;</span>,
}
</code></pre>
<p>Corresponding path: <code>imgx/overlay/my_font.json</code></p>
<p>Introduction of font parameters</p>
<p><em>All parameters are not required</em></p>
<table class="table table-striped table-bordered table-condensed">
<thead>
<tr>
<th><i>parameter name</i></th>
<th><i>description</i></th>
<th><i>default value</i></th>
</tr>
</thead>
<tbody>
<tr>
<td><b>font_family</b></td>
<td> All <a href="#H2-font%20(font_%0Afamily)"> fonts we support</a></td>
<td>Songti SC</td>
</tr>
<tr>
<td><b>font_style</b></td>
<td>
Font style (only effective if the font itself supports the following styles, otherwise normal is used by default):
<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;normal&#xFF08;normal&#xFF09;
<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;<i>italic</i>&#xFF08;italic face&#xFF09;
<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;<b>bold</b>&#xFF08;bold face&#xFF09;
<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;light&#xFF08;light face type&#xFF09;
</td>
<td>normal</td>
</tr>
<tr>
<td><b>font_size</b></td>
<td> font size&#xFF08;px&#xFF09;</td>
<td>14</td>
</tr>
<tr>
<td><b>font_color</b></td>
<td>Hexadecimal rgba (the first 6 are rgb, the last 2 bits of alpha are 0 to f), if the last two digits are omitted, it is considered opaque </td>
<td>Black(000000)</td>
</tr>
<tr>
<td><b>background</b></td>
<td>16Hexadecimal rgba (the first 6 are rgb, the last 2 bits of alpha are 0 to f), if the last two digits are omitted, it is considered opaque </td>
<td>transparent(ffffff00)</td>
</tr>
<tr>
<td><b>padding</b></td>
<td> The width of the padding around the text&#xFF08;px&#xFF09;</td>
<td>6</td>
</tr>
<tr>
<td><b>word_spacing</b></td>
<td> character spacing&#xFF08;px&#xFF09;</td>
<td>0</td>
</tr>
<tr>
<td><b>kerning</b></td>
<td> word spacing&#xFF08;px&#xFF09;</td>
<td>0</td>
</tr>
<tr>
<td><b>line_spacing</b></td>
<td> Line spacing&#xFF08;px&#xFF09;</td>
<td>0</td>
</tr>
<tr>
<td><b>pierced</b></td>
<td> cutout effect&#xFF08;bool value&#xFF09;</td>
<td>false</td>
</tr>
<tr>
<td><b>tile</b></td>
<td> Whether to tile&#xFF08;bool value&#xFF09;</td>
<td>false</td>
</tr>
<tr>
<td><b>text</b></td>
<td>default string</td>
<td>empty string</td>
</tr>
</tbody>
</table>


<h4 id="example-1">Example 1</h4>
<p><code>imgx/overlay/simple_font.json</code> :</p>
<pre><code class="lang-json">{
<span class="hljs-string">&quot;font_family&quot;</span> : <span class="hljs-string">&quot;Microsoft YaHei&quot;</span>,
<span class="hljs-string">&quot;font_size&quot;</span> : <span class="hljs-number">40</span>,
<span class="hljs-string">&quot;font_color&quot;</span> : <span class="hljs-string">&quot;ffffff&quot;</span>
}
</code></pre>
<p>The simplest text watermarks
<img src="http://imgx-ss.bscstorage.com/imgx-test/w_800,f_png--l_text:simple_font:Hello+Bai+Shan%21%21,x_20,y_20,a_-25/demo/1.jpg?AWSAccessKeyId=acc_drdrxp&amp;Expires=2464849050&amp;Signature=dOMoCFXBKPQxLjJ0lunNxsoXT%2BA%3D"></p>
<p>Processing Instruction:</p>
<pre><code>w_800,f_png--l_text:simple_font:Hello+Bai+Shan!!,x_20,y_20,a_-25
</code></pre><h4 id="example-2">Example 2</h4>
<p><code>imgx/overlay/subtitles.json</code> :</p>
<pre><code class="lang-json">{
<span class="hljs-string">&quot;font_size&quot;</span> : <span class="hljs-number">22</span>,
<span class="hljs-string">&quot;font_color&quot;</span> : <span class="hljs-string">&quot;ffffff&quot;</span>
}
</code></pre>
<p><code>imgx/overlay/subtitles_s.json</code> :</p>
<pre><code class="lang-json">{
<span class="hljs-string">&quot;font_size&quot;</span> : <span class="hljs-number">16</span>,
<span class="hljs-string">&quot;font_color&quot;</span> : <span class="hljs-string">&quot;ffffff&quot;</span>
}
</code></pre>
<p>Let&apos;s create a blockbuster effect and apply it to two images:
<img src="http://imgx-ss.bscstorage.com/imgx-test/f_png,c_fill,w_800,h_400,e_brightness:-8--c_pad,w_800,h_550,g_center,b_000000ff,e_yellow:30--l_text:subtitles:%E4%B8%BA%E5%BC%80%E5%8F%91%E8%80%85%E6%8F%90%E4%BE%9B%E4%B8%80%E5%A5%97%E4%BA%91%E7%AB%AF%E5%9B%BE%E7%89%87%E5%A4%84%E7%90%86%E6%9C%8D%E5%8A%A1,g_south,y_100--l_text:subtitles_s:Imgx+is+the+image+back-end+for+web+and+mobile+developers,g_south,y_80/demo/1.jpg?AWSAccessKeyId=acc_drdrxp&amp;Expires=2464849662&amp;Signature=7Mw8D66XZsoYNWc7hzMmvQH9Wpg%3D"></p>
<p>Processing Instruction:</p>
<pre><code>f_png,c_fill,w_800,h_400,e_brightness:-8--c_pad,w_800,h_550,g_center,b_000000ff,e_yellow:30--l_text:subtitles: There is a set of cloud image processing services,g_south,y_
100--l_text:subtitles_s:Imgx is the image back-end for web and mobile developers,g_south,y_80
</code></pre><h4 id="example-3">Example 3</h4>
<p><code>imgx/overlay/my_font.json</code> :</p>
<pre><code class="lang-json">{
<span class="hljs-string">&quot;font_family&quot;</span> : <span class="hljs-string">&quot;Xingkai SC&quot;</span>,
<span class="hljs-string">&quot;font_style&quot;</span> : <span class="hljs-string">&quot;bold&quot;</span>,
<span class="hljs-string">&quot;font_size&quot;</span> : <span class="hljs-number">40</span>,
<span class="hljs-string">&quot;font_color&quot;</span> : <span class="hljs-string">&quot;000000&quot;</span>,
<span class="hljs-string">&quot;background&quot;</span> : <span class="hljs-string">&quot;ff0000cc&quot;</span>,
<span class="hljs-string">&quot;padding&quot;</span> : <span class="hljs-number">18</span>
}
</code></pre>
<p>Let&apos;s make a couplet:
<img src="http://imgx-ss.bscstorage.com/imgx-test/w_800,f_png--l_text:my_font:%E9%A9%AC%E9%A9%B0%E5%A4%A7%E9%81%93%E5%BE%81%E9%80%94%E8%BF%9C,g_south_west,w_40,x_20,y_100--l_text:my_font:%E7%BE%8A%E4%B8%8A%E5%A5%87%E5%B3%B0%E6%99%AF%E8%89%B2%E5%A8%87,g_south_east,w_40,x_20,y_100--l_text:my_
font:%E5%9B%BE%E7%89%87%E5%A4%84%E7%90%86,g_
north,y_20/demo/1.jpg?AWSAccessKeyId=acc_drdrxp&amp;Expires=2464849847&amp;Signature=6clVRP9Jdg1szWrW7nI2jPjEI44%3D"></p>
<p>Processing Instruction:</p>
<pre><code>w_800,f_png--l_text:my_font,g_south_west,w_40,x_20,y_100--l_text:my_font,g_south_east,w_40,x_20,y_100--l_text:my_font,g_north,y_20
</code></pre><h4 id="example-4">Example 4</h4>
<p><code>imgx/overlay/font_me.json</code> :</p>
<pre><code class="lang-json">{
<span class="hljs-string">&quot;font_family&quot;</span>: <span class="hljs-string">&quot;Microsoft YaHei&quot;</span>,
<span class="hljs-string">&quot;font_size&quot;</span>: <span class="hljs-number">30</span>,
<span class="hljs-string">&quot;font_color&quot;</span>: <span class="hljs-string">&quot;ffffff&quot;</span>,
<span class="hljs-string">&quot;font_style&quot;</span>: <span class="hljs-string">&quot;bold&quot;</span>,
<span class="hljs-string">&quot;background&quot;</span>: <span class="hljs-string">&quot;0000008f&quot;</span>,
<span class="hljs-string">&quot;pierced&quot;</span>: <span class="hljs-literal">true</span>,
<span class="hljs-string">&quot;tile&quot;</span>: <span class="hljs-literal">false</span>,
<span class="hljs-string">&quot;padding&quot;</span>: <span class="hljs-number">12</span>,
<span class="hljs-string">&quot;word_spacing&quot;</span>: <span class="hljs-number">2.2</span>,
<span class="hljs-string">&quot;line_spacing&quot;</span>: <span class="hljs-number">1.2</span>,
<span class="hljs-string">&quot;kerning&quot;</span>: <span class="hljs-number">1.5</span>
}
</code></pre>
<p>Cutout Effect
<img src="http://imgx-ss.bscstorage.com/imgx-test/l_text:font_me:%E4%BD%A0%E5%A5%BD%EF%BC%8C%E7%99%BD%E5%B1%B1%E4%BA%91,g_north_west,x_20,y_20--w_800/demo/charles.png?AWSAccessKeyId=acc_drdrxp&amp;Expires=2464850225&amp;Signature=Ogu7V1xUjeTvPA6Ml4%2B64kB02mM%3D"></p>
<p>&#x6307;&#x4EE4;&#xFF1A;</p>
<pre><code>l_text:font_me: Hello,BaishanCloud,g_north_west,x_20,y_20--w_800
</code></pre><h4 id="example-5">Example 5</h4>
<p><code>imgx/overlay/tile.json</code> :</p>
<pre><code class="lang-json">{
<span class="hljs-string">&quot;font_family&quot;</span> : <span class="hljs-string">&quot;Microsoft YaHei&quot;</span>,
<span class="hljs-string">&quot;font_style&quot;</span> : <span class="hljs-string">&quot;bold&quot;</span>,
<span class="hljs-string">&quot;font_size&quot;</span> : <span class="hljs-number">40</span>,
<span class="hljs-string">&quot;font_color&quot;</span> : <span class="hljs-string">&quot;000000&quot;</span>,
<span class="hljs-string">&quot;background&quot;</span> : <span class="hljs-string">&quot;ff000066&quot;</span>,
<span class="hljs-string">&quot;padding&quot;</span> : <span class="hljs-number">18</span>,
<span class="hljs-string">&quot;tile&quot;</span>: <span class="hljs-literal">true</span>
}
</code></pre>
<p>tiling effect
<img src="http://imgx-ss.bscstorage.com/imgx-test/w_800,f_png--l_text:tile:Hello+BaiShan%21%21,g_south/demo/1.jpg?AWSAccessKeyId=acc_drdrxp&amp;Expires=2464850272&amp;Signature=ZFRF%2F0HOsfQcdb3Y3N5%2FFxhE5jE%3D"></p>
<p>Processing Instruction:</p>
<pre><code>w_800,f_png--l_text:tile:Hello BaiShan!!,g_south
</code></pre><h4 id="example-6">Example 6</h4>
<p><code>imgx/overlay/badge.json</code> :</p>
<pre><code class="lang-json">{
<span class="hljs-string">&quot;font_style&quot;</span> : <span class="hljs-string">&quot;bold&quot;</span>,
<span class="hljs-string">&quot;font_size&quot;</span> : <span class="hljs-number">30</span>,
<span class="hljs-string">&quot;font_color&quot;</span> : <span class="hljs-string">&quot;ffffff&quot;</span>,
<span class="hljs-string">&quot;background&quot;</span> : <span class="hljs-string">&quot;ff0000cc&quot;</span>,
<span class="hljs-string">&quot;padding&quot;</span> : <span class="hljs-number">15</span>
}
</code></pre>
<p>Add a badge
<img src="http://imgx-ss.bscstorage.com/imgx-test/c_thumb,g_face,w_200,h_200,r_max,bo_
6_ffffff80,f_png--l_text:badge:69,r_max,g_south_east,w_34,h_34,x_-1,y_-5/demo/1.jpg?AWSAccessKeyId=acc_drdrxp&amp;Expires=2464850332&amp;Signature=rREFYd6SQEtPdSu5JGFqGjRYxBQ%3D"></p>
<p>Processing Instruction:</p>
<pre><code>c_thumb,g_face,w_200,h_200,r_max,bo_6_ffffff80,f_png--l_text:badge:69,r_max,g_south_east,w_34,h_34,x_-1,y_-5
</code></pre><h2 id="use-the-instruction-set">Use the &quot;instruction set&quot;</h2>
<p>If you don&apos;t want to expose the directive in the URL, this is an example to automatically recognize the face position on a photo and make a circular thumbnail with a border:</p>
<ul>
<li><p>Firstly, create a json file and save it to the corresponding bucket:
Path: <code>imgx/cmd_template/avatar.json</code> :</p>
<pre><code class="lang-json">[
{
<span class="hljs-string">&quot;crop&quot;</span> : <span class="hljs-string">&quot;thumb&quot;</span>,
<span class="hljs-string">&quot;gravity&quot;</span> : <span class="hljs-string">&quot;face:center&quot;</span>,
<span class="hljs-string">&quot;width&quot;</span> : <span class="hljs-number">200</span>,
<span class="hljs-string">&quot;height&quot;</span> : <span class="hljs-number">200</span>,
<span class="hljs-string">&quot;radius&quot;</span> : <span class="hljs-string">&quot;max&quot;</span>,
<span class="hljs-string">&quot;border&quot;</span> : <span class="hljs-string">&quot;6_ffffff80&quot;</span>,
<span class="hljs-string">&quot;format&quot;</span> : <span class="hljs-string">&quot;png&quot;</span>
},
{
<span class="hljs-string">&quot;overlay&quot;</span> : <span class="hljs-string">&quot;icon_v&quot;</span>,
<span class="hljs-string">&quot;gravity&quot;</span> : <span class="hljs-string">&quot;south_east&quot;</span>,
<span class="hljs-string">&quot;width&quot;</span> : <span class="hljs-number">60</span>,
<span class="hljs-string">&quot;x&quot;</span> : <span class="hljs-number">-1</span>,
<span class="hljs-string">&quot;y&quot;</span> : <span class="hljs-number">-5</span>
}
]
</code></pre>
</li>
<li><p>Access via the below way.</p>
</li>
</ul>
<pre><code>http://imgx-ss.bscstorage.com/imgx-test/t_avatar/demo/1.jpg?&lt;signature&gt;
http://imgx-ss.bscstorage.com/imgx-test/t_avatar/demo/3.jpg?&lt;signature&gt;
</code></pre><ul>
<li>Effect&#xFF1A;
<img src="http://imgx-ss.bscstorage.com/imgx-test/t_avatar/demo/1.jpg?AWSAccessKeyId=acc_drdrxp&amp;Expires=2464850497&amp;Signature=iRB5cnXfQp5m9sVBSUSsZtL235s%3D">
<img src="http://imgx-ss.bscstorage.com/imgx-test/t_avatar/demo/3.png?AWSAccessKeyId=acc_drdrxp&amp;Expires=2464850600&amp;Signature=ZnUlYNjjaYmo9RCKJ5i2QG913G4%3D">
<img src="http://imgx-ss.bscstorage.com/imgx-test/t_avatar/avatar.png?AWSAccessKeyId=acc_drdrxp&amp;Expires=2464850684&amp;Signature=8EmYZxvTsg5hMkiPBhA7Px37fyE%3D">
<img src="http://imgx-ss.bscstorage.com/imgx-test/t_avatar/demo/charles.png?AWSAccessKeyId=acc_drdrxp&amp;Expires=2464850768&amp;Signature=Ms%2BM6jzw3KzUB2CjSZ3R8iH6ECY%3D"></li>
</ul>
<h2 id="font-fontfamily">Font (font_family)</h2>
<blockquote>
<p>The API to query fonts: <a href="http://imgx-ss.bscstorage.com/fonts" target="_blank">http://imgx-ss.bscstorage.com/fonts</a></p>
</blockquote>
<p>&#xFEFF;</p>
<h2 id="how-to-use-video-and-audio-transcoding-service">How to use video and audio transcoding service</h2>
<h3 id="function-list">Function list</h3>
<h3 id="supported-input-formats">Supported input formats</h3>
<ul>
<li>container format</li>
</ul>
<p>3GP&#x3001;AVI&#x3001;FLV&#x3001;MP4&#x3001;M3U8&#x3001;MPG&#x3001;WMV&#x3001;MKV&#x3001;MOV&#x3001;TS&#x3001; DIV&#x3001;GIF&#x3001;AMR&#x3001;MP3</p>
<ul>
<li>Video coding format</li>
</ul>
<p>H.264&#x3001;H.265&#x3001;MPEG-1&#x3001;MPEG-2&#x3001;MPEG-4&#x3001;VP8&#x3001;VP9&#x3001;Windows Media Video&#x7B49;</p>
<ul>
<li>Audio coding format</li>
</ul>
<p>AAC&#x3001;AC-3&#x3001;MP2&#x3001;MP3&#x3001;SPEEX&#x3001;Windows Media Audio</p>
<h3 id="supported-output-formats"><strong>Supported output formats</strong></h3>
<ul>
<li>Container format</li>
</ul>
<p>FLV&#x3001;MP4&#x3001;TS&#x3001;M3U8&#x3001;MPG&#x3001;TS&#x3001;GIF&#x3001;MP3&#x3001;MP2&#x3001;AAC&#x3001;WMV&#x3001;WMA&#x3001;AAC&#x3001;DASH</p>
<ul>
<li>Video coding format</li>
</ul>
<p>H.264&#x3001;H.265&#x3001;GIF&#x3001;MPEG-2&#x3001;MS-MPEG4</p>
<ul>
<li>Audio coding format</li>
</ul>
<p>AAC&#x3001;MP2&#x3001;MP3&#x3001;Windows Media Video</p>
<ul>
<li>Encoding format compatibility relationship</li>
</ul>
<table>
<thead>
<tr>
<th style="text-align:center">Coding format</th>
<th style="text-align:center">Supported containers</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">H.264</td>
<td style="text-align:center">FLV, MP4, TS</td>
</tr>
<tr>
<td style="text-align:center">H.265</td>
<td style="text-align:center">FLV, MP4, TS</td>
</tr>
<tr>
<td style="text-align:center">GIF</td>
<td style="text-align:center">GIF</td>
</tr>
<tr>
<td style="text-align:center">MPEG2</td>
<td style="text-align:center">MPG</td>
</tr>
<tr>
<td style="text-align:center">AAC</td>
<td style="text-align:center">FLV, MP4, TS, AAC</td>
</tr>
<tr>
<td style="text-align:center">MP2</td>
<td style="text-align:center">MPG, MP2</td>
</tr>
<tr>
<td style="text-align:center">MP3</td>
<td style="text-align:center">MP3, FLV, MP4, TS</td>
</tr>
<tr>
<td style="text-align:center">MP3</td>
<td style="text-align:center">MP3, FLV, MP4, TS</td>
</tr>
<tr>
<td style="text-align:center">MS-MPEG4</td>
<td style="text-align:center">WMV</td>
</tr>
<tr>
<td style="text-align:center">Windows Media Audio</td>
<td style="text-align:center">WMV, WMA</td>
</tr>
</tbody>
</table>
<h3 id="transform-method"><strong>Transform method</strong></h3>
<ul>
<li><code> </code>Auto transcoding:</li>
</ul>
<p>Automatically transcode video files uploaded to a bucket by configuring transcoding templates and transcoding rules in advance</p>
<ul>
<li>Active transcoding:</li>
</ul>
<p>Users actively transcode a single file by creating transcoding tasks (transcoding templates and pipelines need to be created in advance)</p>
<h3 id="transcoding-function"><strong>Transcoding function</strong></h3>
<ul>
<li>Video screenshot: capture JPG / PNG pictures at a certain time point or at a time interval of the video file.</li>
<li>Video clip: capture a period of time in the video for transcoding. (under development)</li>
<li>Rotational resolution</li>
<li>To video bit rate</li>
<li>To audio bit rate</li>
<li>To audio sampling rate</li>
<li>To video frame rate</li>
<li>Set GOP (keyframe fixed spacing)</li>
<li>HLS transcoding</li>
<li>DASH transcoding</li>
<li>FastStart&#xFF1A;The fast start of playback is realized by moving the original information of MP4 file from the end of the file to the head.<h2 id="noun-interpretation"><strong>Noun interpretation</strong></h2>
<h3 id="transcoding-template&#xFF08;preset&#xFF09;"><strong>Transcoding template&#xFF08;Preset&#xFF09;</strong></h3>
Transcoding templates are used to predefine transcoding rules that can be reused.<h3 id="task&#xFF08;job&#xFF09;"><strong>Task&#xFF08;Job&#xFF09;</strong></h3>
The task is responsible for transcoding the multimedia files stored in the bucket according to the pre created template. A transcoding task can transcode an output into multiple output formats. To improve parallel efficiency, it is recommended to create a task for each output.<h3 id="pipeline"><strong>Pipeline</strong></h3>
A pipeline is a queue used to manage tasks. When creating a task, you need to select a pipe to store the task to be created. You can create multiple pipes to perform different tasks. For example, you can create two pipelines, one for ordinary tasks and the other for urgent tasks only. The tasks in each pipeline can be executed concurrently, but the number of concurrent tasks is limited (currently 5 tasks). The transcoding system executes in turn according to the order in which the tasks in each pipeline are created.<h2 id="how-to-use-transcoding-system"><strong>How to use transcoding system</strong></h2>
<h3 id="create-transcoding-template"><strong>Create transcoding template</strong></h3>
In the Storage Console <a href="http://cwn-ss.bscstorage.com/#/video/template" target="_blank">http://cwn-ss.bscstorage.com/#/video/template</a> Module, create a transcoding template through the UI.<h3 id="create-pipe"><strong>Create pipe</strong></h3>
use <a href="https://doc.bscstorage.com/doc/transcoder/apis/pipeline/create\_pipeline.html" target="_blank">https://doc.bscstorage.com/doc/transcoder/apis/pipeline/create\_pipeline.html</a> Create a pipe.&#x3002;<h3 id="create-task"><strong>Create task</strong></h3>
use <a href="https://doc.bscstorage.com/doc/transcoder/apis/job/create\_job.html" target="_blank">https://doc.bscstorage.com/doc/transcoder/apis/job/create\_job.html</a> Create a pipe.</li>
</ul>
<h1 id="transcoder-request-signature-method">Transcoder Request signature method</h1>
<p>All  requests in the transcoder API require signature verification.Transcoder service currently supports AWS V4 signature. It includes the following four steps:</p>
<p>1.establish Canonical Request</p>
<p>2.establish String to Sign &#xFF08;Please pay attention to the use elastictranscoder service name &#xFF09;</p>
<p>3.Generate a signature using the HMAC method.</p>
<p>For specific V4 signature steps, please refer to: <a href="https://doc.bscstorage.com/doc/s2/signature/signature.html#%E6%B7%BB%E5%8A%A0version-4-%E7%AD%BE%E5%90%8D%EF%BC%9A" target="_blank">signature algorithm</a></p>
<h1 id="create-pipe">Create pipe</h1>
<h2 id="description">Description</h2>
<p>Send post request to <code>/2012-09-25/pipelines/</code> to create a pipe.</p>
<h2 id="request">request</h2>
<pre><code>POST /2012-09-25/pipelines HTTP/1.1
Content-Type: application/json; charset=UTF-8
Accept: */*
Host: transcoder-ss.bscstorage.com
x-amz-date: 20170726T174952Z
Authorization: AWS4-HMAC-SHA256
               Credential=AccessKeyID/request-date/Transcoder endpoint/elastictranscoder/aws4_request,
               SignedHeaders=host;x-amz-date;x-amz-target,
               Signature=calculated-signature
Content-Length: number of characters in the JSON string
{
   &quot;Name&quot;:&quot; &#x7BA1;&#x9053;&#x540D;&#x79F0;&quot;,
   &quot;InputBucket&quot;:&quot;&#x7528;&#x4E8E;&#x5B58;&#x653E;&#x8F6C;&#x7801;&#x6E90;&#x6587;&#x4EF6;&#x7684; Bucket &#x540D;&#x79F0;&quot;,
   &quot;OutputBucket&quot;:&quot;&#x7528;&#x4E8E;&#x5B58;&#x653E;&#x8F93;&#x51FA;&#x6587;&#x4EF6;&#x7684; Bucket &#x540D;&#x79F0;&quot;,
   &quot;ContentConfig&quot;:{
      &quot;Permissions&quot;:[
         {
            &quot;GranteeType&quot;:&quot;Canonical|Email|Group&quot;,
            &quot;Grantee&quot;:&quot;&#x7528;&#x6237;&#x540D;(Canonical)|&#x7528;&#x6237;&#x90AE;&#x7BB1;(Email)|
                      AllUsers|AuthenticatedUsers|LogDelivery(Group)&quot;,
            &quot;Access&quot;:[
               &quot;Read|ReadAcp|WriteAcp|FullControl&quot;,
               ...
            ]
         },
         {...}
      ],
   },
   &quot;SuccessCallbackUrl&quot;: &quot;&#x63A5;&#x53D7;&#x4EFB;&#x52A1;&#x6210;&#x529F;&#x56DE;&#x8C03;&#x7684; URL&quot;,
   &quot;FailureCallbackUrl&quot;: &quot;&#x63A5;&#x53D7;&#x4EFB;&#x52A1;&#x5931;&#x8D25;&#x56DE;&#x8C03;&#x7684; URL&quot;,
}
</code></pre><h2 id="request-parameters">Request parameters</h2>
<ul>
<li>Name</li>
</ul>
<p>Pipe name. In order to facilitate your management, we recommend setting different names for different pipes, but it is not forced. 
The maximum length of the pipe name is 40 characters.</p>
<ul>
<li>InputBucket</li>
</ul>
<p>The name of the bucket used to store the transcoding source file. Please confirm that the entered bucket exists in your account.</p>
<ul>
<li>OutputBucket</li>
</ul>
<p>The bucket name used to store the transcoded output file. Please confirm that the entered bucket exists in your account.</p>
<ul>
<li>(Optional) ContentConfig: Permissions</li>
</ul>
<p>Defines which users or predefined user groups can access or modify the transcoded input file. If you set permissions, the system will only grant you the specified permissions to the transcoded files, and will not grant full control permissions to the owner. If you ignore this item, the system grants full control to the owner.</p>
<ul>
<li>(Optional) SuccessCallbackUrl</li>
</ul>
<p>Accept the URL of the successful callback of the task. Only HTTP protocol URLs are supported. After the transcoding task is successful, the system will send a post request to the URL. The request JSON content is as follows:</p>
<pre><code>{
    &quot;result&quot;: &quot;success&quot;,
    &quot;input_bucket&quot;: &quot;in_bucket_name&quot;,
    &quot;input_key&quot;: &quot;test.mp4&quot;,
    &quot;output_bucket&quot;: &quot;out_bucket_name&quot;,
    &quot;output_keys&quot;: [&quot;test_300K.mp4&quot;,

    # HLS &#x8F6C;&#x7801;&#x76F8;&#x5173;
    &quot;output_playlists&quot;: [&quot;test_300K.m3u8&quot;],

    # &#x8F6C;&#x7801;&#x540E;&#x8F93;&#x51FA;&#x6587;&#x4EF6;&#x5143;&#x4FE1;&#x606F;
    &quot;metadata&quot;: {
        &quot;test_300K.mp4&quot;: {
            &apos;etag&apos;: &quot;xxxx&quot;,
            &apos;video_streams&apos;: [
                {
                    &quot;index&quot;: 0,
                    &quot;codec_name&quot;: &quot;h264&quot;,
                    &quot;width&quot;: 560,
                    &quot;height&quot;: 320,
                    &quot;duration_ts&quot;: 498000,
                    &quot;duration&quot;: &quot;5.533333&quot;,
                    &quot;bit_rate&quot;: &quot;300000&quot;,
                    ...
                }, {}, ...
            ],
            &apos;audio_stream&apos;: [
                {
                    &quot;index&quot;: 1,
                    &quot;codec_name&quot;: &quot;aac&quot;,
                    &quot;sample_fmt&quot;: &quot;fltp&quot;,
                    &quot;sample_rate&quot;: &quot;48000&quot;,
                    &quot;channels&quot;: 1,
                    &quot;channel_layout&quot;: &quot;mono&quot;,
                    &quot;bits_per_sample&quot;: 0,
                    &quot;bit_rate&quot;: &quot;83050&quot;,
                    ...
                }
            ],
            &apos;format&apos;: {
                &quot;nb_streams&quot;: 2,
                &quot;nb_programs&quot;: 0,
                &quot;format_name&quot;: &quot;mov,mp4,m4a,3gp,3g2,mj2&quot;,
                &quot;format_long_name&quot;: &quot;QuickTime / MOV&quot;,
                &quot;start_time&quot;: &quot;0.000000&quot;,
                &quot;duration&quot;: &quot;5.568000&quot;,
                &quot;size&quot;: &quot;383631&quot;,
                &quot;bit_rate&quot;: &quot;323000&quot;,
            }
        },
        &quot;test_300K.m3u8: { ... }
    }
}
</code></pre><ul>
<li>(optional) FailureCallbackUrl</li>
</ul>
<p>Accept the URL of the successful callback of the task. Only HTTP protocol URLs are supported. After the transcoding task fails, the system will send a post request to the URL. The request JSON content is as follows:</p>
<pre><code>{
    &quot;result&quot;: &quot;failure&quot;,
    &quot;input_bucket&quot;: &quot;in_bucket_name&quot;,
    &quot;input_key&quot;: &quot;test.mp4&quot;,
    &quot;error_type&quot;: &quot;InternalError&quot;,
    &quot;error_message&quot;: &quot;...&quot;,
}
</code></pre><h2 id="return">Return</h2>
<pre><code>Status: 201 Created
Content-Type: application/json
Content-Length: number of characters in the response
Date: Mon, 14 Jun 2017 06:01:47 GMT

{
   &quot;Pipeline&quot;:{
       &quot;Id&quot;:&quot;123456789012345678&quot;,
       &quot;Name&quot;:&quot; my_pipeline&quot;,
       &quot;InputBucket&quot;:&quot;input_bucket&quot;,
       &quot;OutputBucket&quot;:&quot;output_bucket&quot;,
       &quot;ContentConfig&quot;:{
          &quot;Permissions&quot;:[
             {
                &quot;GranteeType&quot;:&quot;Group&quot;,
                &quot;Grantee&quot;:&quot;AllUsers&quot;,
                &quot;Access&quot;:[&quot;Read&quot;]
             }
          ],
       },
       &quot;SuccessCallbackUrl&quot;: &quot;http://mydomain.com/cb&quot;,
       &quot;FailureCallbackUrl&quot;: &quot;http://mydomain.com/cb&quot;,
       &quot;Status&quot;: &quot;Active|Paused&quot;,
    }
}
</code></pre><h1 id="get-pipe">Get pipe</h1>
<h2 id="description">Description</h2>
<p>Send GET request to <code>/2012-09-25/pipelines/</code> to get the pipeline belonging to your account.</p>
<h2 id="request">request</h2>
<pre><code>GET /2012-09-25/pipelines/pipelineId HTTP/1.1
Content-Type: charset=UTF-8
Accept: */*
Host: transcoder-ss.bscstorage.com
x-amz-date: 20170726T174952Z
Authorization: AWS4-HMAC-SHA256
               Credential=AccessKeyID/request-date/Transcoder endpoint/elastictranscoder/aws4_request,
               SignedHeaders=host;x-amz-date;x-amz-target,
               Signature=calculated-signature
</code></pre><h2 id="return">return</h2>
<pre><code>Status: 200 OK
Content-Type: application/json
Content-Length: number of characters in the response
Date: Mon, 14 Jun 2017 06:01:47 GMT

{
   &quot;Pipeline&quot;:{
       &quot;Id&quot;:&quot;123456789012345678&quot;,
       &quot;Name&quot;:&quot; my_pipeline&quot;,
       &quot;InputBucket&quot;:&quot;input_bucket&quot;,
       &quot;OutputBucket&quot;:&quot;output_bucket&quot;,
       &quot;ContentConfig&quot;:{
          &quot;Permissions&quot;:[
             {
                &quot;GranteeType&quot;:&quot;Group&quot;,
                &quot;Grantee&quot;:&quot;AllUsers&quot;,
                &quot;Access&quot;:[&quot;Read&quot;]
             }
          ],
       },
       &quot;SuccessCallbackUrl&quot;: &quot;http://mydomain.com/cb&quot;,
       &quot;FailureCallbackUrl&quot;: &quot;http://mydomain.com/cb&quot;,
       &quot;Status&quot;: &quot;Active|Paused&quot;,
    }
}
</code></pre><h1 id="view-pipe">View pipe</h1>
<h2 id="description">Description</h2>
<p>Send GET request to <code>/2012-09-25/pipelines/pipelineId</code> to get the specified pipe.</p>
<h2 id="request">request</h2>
<pre><code>GET /2012-09-25/pipelines?PageToken=value HTTP/1.1
Content-Type: charset=UTF-8
Accept: */*
Host: transcoder-ss.bscstorage.com
x-amz-date: 20170726T174952Z
Authorization: AWS4-HMAC-SHA256
               Credential=AccessKeyID/request-date/Transcoder endpoint/elastictranscoder/aws4_request,
               SignedHeaders=host;x-amz-date;x-amz-target,
               Signature=calculated-signature
</code></pre><ul>
<li>PageToken</li>
</ul>
<p>When the transcoder interface returns more than one page of results (<code>NextPageToken</code>appears in the return)
Please use <code>PageToken</code> to get the results on the next page.</p>
<h2 id="return">return</h2>
<pre><code>Status: 200 OK
Content-Type: application/json
Content-Length: number of characters in the response
Date: Mon, 14 Jun 2017 06:01:47 GMT

{
   &quot;Pipelines&quot;: [
       {
           &quot;Id&quot;:&quot;123456789012345678&quot;
           &quot;Name&quot;:&quot; my_pipeline&quot;,
           &quot;InputBucket&quot;:&quot;input_bucket&quot;,
           &quot;OutputBucket&quot;:&quot;output_bucket&quot;,
           &quot;SuccessCallbackUrl&quot;: &quot;http://mydomain.com/cb&quot;,
           &quot;FailureCallbackUrl&quot;: &quot;http://mydomain.com/cb&quot;,
           &quot;ContentConfig&quot;: {...},
           &quot;Status&quot;: &quot;Active|Paused&quot;,
        },
        { ... }
    ],
    &quot;NextPageToken&quot;: &quot;123456789012345679&quot;
}
</code></pre><h1 id="delete-pipe">Delete pipe</h1>
<h2 id="description">Description</h2>
<p>Send DELETE request to <code>/2012-09-25/pipelines/pipelineId</code> to get the specified pipe.</p>
<h2 id="request">Request</h2>
<pre><code>DELETE /2012-09-25/pipelines/pipelineId HTTP/1.1
Content-Type: charset=UTF-8
Accept: */*
Host: transcoder-ss.bscstorage.com
x-amz-date: 20170726T174952Z
Authorization: AWS4-HMAC-SHA256
               Credential=AccessKeyID/request-date/Transcoder endpoint/elastictranscoder/aws4_request,
               SignedHeaders=host;x-amz-date;x-amz-target,
               Signature=calculated-signature
</code></pre><h2 id="return">Return</h2>
<pre><code>Status: 202 Accepted
Content-Type: application/json
Content-Length: number of characters in the response
Date: Mon, 14 Jun 2017 06:01:47 GMT

{
   &quot;Success&quot;:&quot;true&quot;
}
</code></pre><h1 id="update-pipeline">Update pipeline</h1>
<h2 id="describe">Describe</h2>
<p>Send PUT request to <code>/2012-09-25/pipelines/pipelineId</code> update the created pipe.</p>
<h2 id="how-to-update-queue-parameters">How to update queue parameters</h2>
<p>Please include all updated queue parameters in the requested body (unchanged parameters also need to be included).</p>
<h2 id="request">Request</h2>
<pre><code>PUT /2012-09-25/pipelines/pipelineId HTTP/1.1
Content-Type: application/json; charset=UTF-8
Accept: */*
Host: transcoder-ss.bscstorage.com
x-amz-date: 20170726T174952Z
Authorization: AWS4-HMAC-SHA256
               Credential=AccessKeyID/request-date/Transcoder endpoint/elastictranscoder/aws4_request,
               SignedHeaders=host;x-amz-date;x-amz-target,
               Signature=calculated-signature
Content-Length: number of characters in the JSON string
{
   &quot;Name&quot;:&quot; &#x7BA1;&#x9053;&#x540D;&#x79F0;&quot;,
   &quot;InputBucket&quot;:&quot;The Bucket name used to store the transcoding source file&quot;,
   &quot;OutputBucket&quot;:&quot;The name of the Bucket used to store the output file&quot;,
   &quot;ContentConfig&quot;:{
      &quot;Permissions&quot;:[
         {
            &quot;GranteeType&quot;:&quot;Canonical|Email|Group&quot;,
            &quot;Grantee&quot;:&quot;&#x7528;&#x6237;&#x540D;(Canonical)|&#x7528;&#x6237;&#x90AE;&#x7BB1;(Email)|
                      AllUsers|AuthenticatedUsers|LogDelivery(Group)&quot;,
            &quot;Access&quot;:[
               &quot;Read|ReadAcp|WriteAcp|FullControl&quot;,
               ...
            ]
         },
         {...}
      ],
   },
   &quot;SuccessCallbackUrl&quot;: &quot;Accept successful callback of task URL&quot;,
   &quot;FailureCallbackUrl&quot;: &quot;Accept callback of task failure URL&quot;,
}
</code></pre><h2 id="request-parameters">Request parameters</h2>
<ul>
<li>Name</li>
</ul>
<p>Pipe name. In order to facilitate your management, we recommend setting different names for different pipes, but it is not forced. The maximum length of the pipe name is 40 characters.</p>
<ul>
<li>InputBucket</li>
</ul>
<p>The name of the bucket used to store the transcoding source file. Please confirm that the entered bucket exists in your account.</p>
<ul>
<li>OutputBucket</li>
</ul>
<p>The bucket name used to store the transcoded output file. Please confirm that the entered bucket exists in your account.</p>
<ul>
<li>(Optional) ContentConfig: Permissions</li>
</ul>
<p>Defines which users or predefined user groups can access or modify the transcoded input file. If you set permissions, the system will only grant you the specified permissions to the transcoded files, and will not grant full control permissions to the owner. If you ignore this item, the system grants full control to the owner.</p>
<ul>
<li>(Optional) SuccessCallbackUrl</li>
</ul>
<p>Accept the URL of the successful callback of the task. Only HTTP protocol URLs are supported. After the transcoding task is successful, the system will send a post request to the URL.</p>
<ul>
<li>(Optional) FailureCallbackUrl</li>
</ul>
<p>Accept the URL of the successful callback of the task. Only HTTP protocol URLs are supported. After the transcoding task fails, the system will send a post request to the URL.</p>
<h2 id="return">return</h2>
<pre><code>Status: 202 Accepted
Content-Type: application/json
Content-Length: number of characters in the response
Date: Mon, 14 Jun 2017 06:01:47 GMT

{
   &quot;Pipeline&quot;:{
       &quot;Id&quot;:&quot;123456789012345678&quot;,
       &quot;Name&quot;:&quot; my_pipeline&quot;,
       &quot;InputBucket&quot;:&quot;input_bucket&quot;,
       &quot;OutputBucket&quot;:&quot;output_bucket&quot;,
       &quot;SuccessCallbackUrl&quot;: &quot;http://mydomain.com/cb&quot;,
       &quot;FailureCallbackUrl&quot;: &quot;http://mydomain.com/cb&quot;,
       &quot;ContentConfig&quot;: {...},
       &quot;Status&quot;: &quot;Active|Paused&quot;,
    }
}
</code></pre><h1 id="create-task">Create task</h1>
<h2 id="description">Description</h2>
<p>Send POST request to <code>/2012-09-25/jobs</code> to create a task.</p>
<h2 id="request">Request</h2>
<pre><code>POST /2012-09-25/jobs HTTP/1.1
Content-Type: application/json; charset=UTF-8
Accept: */*
Host: transcoder-ss.bscstorage.com
x-amz-date: 20170726T174952Z
Authorization: AWS4-HMAC-SHA256
               Credential=AccessKeyID/request-date/Transcoder endpoint/elastictranscoder/aws4_request,
               SignedHeaders=host;x-amz-date;x-amz-target,
               Signature=calculated-signature
Content-Length: number of characters in the JSON string
{
   &quot;Inputs&quot;:[{
      &quot;Key&quot;:&quot;&#x8F6C;&#x7801;&#x6E90;&#x6587;&#x4EF6;&#x540D;&quot;
   }],
   &quot;OutputKeyPrefix&quot;:&quot;&#x8F6C;&#x7801;&#x540E;&#x7684;&#x8F93;&#x51FA;&#x6587;&#x4EF6;&#x540D;&#x524D;&#x7F00;&quot;,
   &quot;Outputs&quot;:[{
      &quot;Key&quot;:&quot;&#x8F6C;&#x7801;&#x540E;&#x7684;&#x8F93;&#x51FA;&#x6587;&#x4EF6;&#x540D;&quot;,
      &quot;PresetId&quot;:&quot;&#x8F6C;&#x7801;&#x6A21;&#x677F; ID&quot;,
      &quot;SegmentDuration&quot;:&quot;[1,60]&quot;,
      &quot;Watermarks&quot;: [{
        &quot;InputKey&quot;: &quot;string&quot;,
      }],
      &quot;Encryption&quot;: {
        &quot;Mode&quot;: &quot;string&quot;,
        &quot;Key&quot;: &quot;string&quot;,
        &quot;KeyMd5&quot;: &quot;string&quot;,
        &quot;InitializationVector&quot;: &quot;string&quot;
      },
      &quot;Composition&quot;: [{
        &quot;TimeSpan&quot;: {
          &quot;StartTime&quot;: &quot;string&quot;,
          &quot;Duration&quot;: &quot;string&quot;
        }
      }],
   },
   {...}],
   &quot;Snapshots&quot;:[{
       &quot;Key&quot;:&quot;&#x8F6C;&#x7801;&#x540E;&#x7684;&#x8F93;&#x51FA;&#x6587;&#x4EF6;&#x540D;&quot;&#xFF0C;
       &quot;Format&quot;:&quot;jpg|png&quot;,
       &quot;Time&quot;:&quot;&#x622A;&#x56FE;&#x5F00;&#x59CB;&#x65F6;&#x95F4;&#x70B9;&quot;,
       &quot;Interval&quot;:&quot;&#x622A;&#x56FE;&#x95F4;&#x9694;&#x65F6;&#x95F4;&quot;,
       &quot;Number&quot;:&quot;&#x622A;&#x56FE;&#x6570;&#x91CF;&quot;&#xFF0C;
   },
   {...}]
   &quot;Playlists&quot;:[{
      &quot;Format&quot;:&quot;HLSv3|HLSv4&quot;,
      &quot;Name&quot;:&quot;&#x64AD;&#x653E;&#x5217;&#x8868;&#x6587;&#x4EF6;&#x540D;&quot;,
      &quot;OutputKeys&quot;:[
         &quot;&#x5305;&#x542B;&#x5728;&#x8F93;&#x51FA;&#x6587;&#x4EF6;&#x5217;&#x8868;&#x4E2D;&#x7684;&#x8F93;&#x51FA;&#x6587;&#x4EF6;&#x540D;&quot;,
         ...
      ],
   },
   {...}],
   &quot;PipelineId&quot;:&quot;&#x672C;&#x8F6C;&#x7801;&#x4EFB;&#x52A1;&#x4F7F;&#x7528;&#x7684;&#x7BA1;&#x9053; ID&quot;
}
</code></pre><h2 id="request-parameters">Request parameters</h2>
<ul>
<li>Inputs</li>
</ul>
<p>Transcoding source file information. Accept type: array. Note that currently only a single input is supported. For example:</p>
<pre><code>&quot;Inputs&quot;: [{
    &quot;Key&quot;: &quot;path/to/orginal.mp4&quot;
}]
</code></pre><ul>
<li>Inputs: Key</li>
</ul>
<p>Transcoding the original file name.</p>
<ul>
<li>OutputKeyPrefix</li>
</ul>
<p>Output file name prefix after transcoding. It is usually used to store transcoded output in a separate directory. Such as setting
OutputKeyPrefix is transcode_output/&#xFF0C;So that the transcoded documents can be stored in a unified manner transcode_ouput Directory. If you do not need to set a prefix, use an empty string.</p>
<ul>
<li>(Optional) Outputs</li>
</ul>
<p>Transcoding output file information. At least one of outputs and snapshots must exist.</p>
<ul>
<li>Outputs: Key</li>
</ul>
<p>Transcoding output file name. The output file will be saved in the outputbucket set in the pipeline. be careful:
if the output file name already exists in the storage, the original file will be overwritten by the transcoding output file.
If the container in the template is ts &#xFF0C;If the segmentduration is not empty, the final output file name will be increased based on the provided output file name
uuid00000.ts and <code>.m3u8</code>. So if the supplied output file name already contains a suffix <code>.ts</code>&#xFF0C;the end result will be <code>OutputKeyPrefixKey.tsuuid00000.ts</code>&#xFF0C;
<code>uuid</code> represents the unique identifier of this transcoding, and all <code>ts</code> files will be carried, similar to <code>471c1c6e620c45debe9e3b3388749017</code></p>
<ul>
<li>Outputs: PresetId</li>
</ul>
<p>The transcoding template ID of this output application.</p>
<ul>
<li>(Optional, TS output only) Outputs: SegmentDuration</li>
</ul>
<p>HLS slice duration. Optional values: 1 - 60. The unit is seconds. Note that segmentduration is only valid for containers <code>ts</code> effective. For other containers, this item is automatically ignored.</p>
<ul>
<li>(Optional) Outputs: Watermarks</li>
</ul>
<p>Video watermarking. If this option is configured, the video coding method in the transcoding template cannot be &quot;unchanged&quot;, otherwise the task cannot be created. Currently, only a single watermark is supported, for example:</p>
<pre><code>&quot;Watermarks&quot;: [{
    &quot;InputKey&quot;: &quot;abc.png&quot;,
}]
</code></pre><p>The watermark location information is configured in the transcoding template. The default is the upper right corner. The picture format only supports JPG and PNG. &quot;Inputkey&quot; refers to the image file key under the input bucket (configured in the pipeline), which must exist.</p>
<ul>
<li>(Optional, HLS encryption) Outputs: Encryption</li>
</ul>
<p>HLS slice AES-128 encrypted information. This option only works when HLS slices.</p>
<pre><code>&quot;Encryption&quot;: {
    &quot;Mode&quot;: &quot;AES128&quot;,
    &quot;Key&quot;: &quot;string&quot;,
    &quot;KeyMd5&quot;: &quot;string&quot;,
    &quot;InitializationVector&quot;: &quot;string&quot;
}
</code></pre><p>&quot;Mode&quot; option: currently only &quot;aes128&quot; is supported. &quot;Key&quot; option: a string in JSON format, including the secret key of aes128 encrypted video (must be 16 bytes) and the access URL of the key. It must be Base64 encoded. For example: &apos;{&quot;URL&quot;:&#x201C; <a href="http://ss.bscstorage.com/file.key" target="_blank">http://ss.bscstorage.com/file.key</a> &quot;,&quot; key &quot;:&quot; 1111111122222222222 &quot;} &apos;, Base64 encoding is followed by:&apos; eyjvcmwioiiaiahr0cdovl3nzlmjzy3n0b3jhz2uuy29tl2zpbgua2v5iiwgiktlesi6icixmtexmtexmtexmtiymjiymjiyiin0 = &apos;&quot; keymd5 &quot;option: MD5 value of key not Base64 encoded, which must be Base64 encoded.&quot; Initializationvector &quot;option: optional configuration. The initialization vector is 16 bytes long and must be Base64 encoded.</p>
<ul>
<li>(Optional, video clipping) Outputs: Composition</li>
</ul>
<p>Video clipping configuration, currently only supports single clipping.</p>
<pre><code>&quot;Composition&quot;: [{
  &quot;TimeSpan&quot;: {
    &quot;StartTime&quot;: &quot;string&quot;,
    &quot;Duration&quot;: &quot;string&quot;
  }
}]
</code></pre><p>&quot;Starttime&quot; option: the start time of clipping, in milliseconds. &quot;Duration&quot; option: the duration of clipping, in milliseconds.</p>
<ul>
<li>&#xFF08;Optional&#xFF09;Snapshots</li>
</ul>
<p>Screenshot output information. At least one of Outputs and Snapshots must exist</p>
<ul>
<li>Snapshots: Format</li>
</ul>
<p>Screenshot file format. Optional value&#xFF1A;png, jpg</p>
<ul>
<li>Snapshots: Key</li>
</ul>
<p>Output screenshot file name. Note that the extension is automatically added according to the format.</p>
<ul>
<li>Snapshots: Time</li>
</ul>
<p>Screenshot start time. The format is s.S (s is seconds, s is floating-point milliseconds).</p>
<ul>
<li>&#xFF08;Optional&#xFF09;Snapshots: Interval</li>
</ul>
<p>Screenshot interval. The format is s.S (s is seconds, s is floating-point milliseconds). It works only when number &gt; 1. If the screenshot interval is set, the picture index will be automatically added to the output file name, such as</p>
<p>snapshot0000.png - snapshop0010.png</p>
<p>&#x3002;</p>
<ul>
<li>&#xFF08;Optional&#xFF09;Snapshots: Number</li>
</ul>
<p>Maximum number of screenshots. The default is 1.</p>
<ul>
<li>&#xFF08;Optional&#xFF09;Snapshots: Resolution</li>
</ul>
<p>Screenshot resolution. The format is [width] x [height]. For example: 1920x1080. The default is the original video resolution.</p>
<ul>
<li>&#xFF08;Optional&#xFF09;Snapshots: AspectRatio</li>
</ul>
<p>Screenshot aspect ratio. The optional values are [&quot;1:1&quot;, &quot;4:3&quot;, &quot;3:2&quot;, &quot;16:9&quot;]. The default is the original video aspect ratio.</p>
<ul>
<li>&#xFF08;Optional&#xFF09;Playlists</li>
</ul>
<p>Adaptive HLS transcoding output information.</p>
<ul>
<li>Playlists: Format</li>
</ul>
<p>Adaptive transcoding format. Optional values: hlsv3, hlsv4. For each sub HLS transcoding in the adaptive HLS playlist</p>
<ul>
<li>HLSv3 Transcoding generates TS slice files (video00000.ts, video00001. Ts,...) and a m3u8 playlist.</li>
<li>HLSv4 Transcoding generates a TS file and a m3u8 playlist.</li>
<li>Playlists: Name</li>
</ul>
<p>The file name of the adaptive HLS playlist. Note that the system will automatically add <code>.m3u8</code> Extension.</p>
<p>Playlists: OutputKeys</p>
<p>The output file name included in the adaptive HLS playlist. Each contained output must be HLS output (Container is <code>ts</code>&#xFF0C;and SegmendDration is provided&#xFF09;&#xFF0C;And the SegmentDuration must be the same.</p>
<ul>
<li>PipelineId</li>
</ul>
<p>Pipeline ID used by this transcoding task</p>
<h2 id="return">Return</h2>
<pre><code>Status: 201 Created
Content-Type: application/json
Content-Length: number of characters in the response
Date: Mon, 14 Jan 2013 06:01:47 GMT

{
   &quot;Job&quot;:{
      &quot;Id&quot;:&quot;&#x4EFB;&#x52A1; ID&quot;,
      &quot;Inputs&quot;:[{
         &quot;Key&quot;:&quot;&#x8F6C;&#x7801;&#x6E90;&#x6587;&#x4EF6;&#x540D;&quot;
      }],
      &quot;OutputKeyPrefix&quot;:&quot;&#x8F6C;&#x7801;&#x540E;&#x7684;&#x8F93;&#x51FA;&#x6587;&#x4EF6;&#x540D;&#x524D;&#x7F00;&quot;,
      &quot;Outputs&quot;:[{
         &quot;Key&quot;:&quot;&#x8F6C;&#x7801;&#x540E;&#x7684;&#x8F93;&#x51FA;&#x6587;&#x4EF6;&#x540D;&quot;,
         &quot;PresetId&quot;:&quot;&#x8F6C;&#x7801;&#x6A21;&#x677F; ID&quot;,
         &quot;SegmentDuration&quot;:&quot;[1,60]&quot;,
      },
      {...}],
      &quot;Snapshots&quot;:[{
         &quot;Key&quot;:&quot;&#x8F6C;&#x7801;&#x540E;&#x7684;&#x8F93;&#x51FA;&#x6587;&#x4EF6;&#x540D;&quot;&#xFF0C;
         &quot;Format&quot;:&quot;jpg|png&quot;,
         &quot;Time&quot;:&quot;&#x622A;&#x56FE;&#x5F00;&#x59CB;&#x65F6;&#x95F4;&#x70B9;&quot;,
         &quot;Interval&quot;:&quot;&#x622A;&#x56FE;&#x95F4;&#x9694;&#x65F6;&#x95F4;&quot;,
         &quot;Number&quot;:&quot;&#x622A;&#x56FE;&#x6570;&#x91CF;&quot;&#xFF0C;
      },
      {...}]
      &quot;Playlists&quot;:[{
         &quot;Format&quot;:&quot;HLSv3|HLSv4&quot;,
         &quot;Name&quot;:&quot;&#x64AD;&#x653E;&#x5217;&#x8868;&#x6587;&#x4EF6;&#x540D;&quot;,
         &quot;OutputKeys&quot;:[
            &quot;&#x5305;&#x542B;&#x5728;&#x8F93;&#x51FA;&#x6587;&#x4EF6;&#x5217;&#x8868;&#x4E2D;&#x7684;&#x8F93;&#x51FA;&#x6587;&#x4EF6;&#x540D;&quot;,
            ...
         ],
      },
      {...}],
      &quot;PipelineId&quot;:&quot;&#x672C;&#x8F6C;&#x7801;&#x4EFB;&#x52A1;&#x4F7F;&#x7528;&#x7684;&#x7BA1;&#x9053; ID&quot;,
      &quot;Status&quot;:&quot;Submitted|Progressing|Complete|Canceled|Error&quot;,
      &quot;Timing&quot;:{
          &quot;SubmitTimeMillis&quot;:&quot;&#x4EFB;&#x52A1;&#x521B;&#x5EFA;&#x7684;&#x65F6;&#x95F4;&#x3002;&#x5355;&#x4F4D;&#xFF1A;epoch milliseconds&quot;,
          &quot;FinishTimeMillis&quot;:&quot;&#x4EFB;&#x52A1;&#x5B8C;&#x6210;&#x7684;&#x65F6;&#x95F4;&#x3002;&#x5355;&#x4F4D;&#xFF1A;epoch milliseconds&quot;
      }
   }
}
</code></pre><h2 id="example">example</h2>
<pre><code>{
   &quot;Inputs&quot;:[{
      &quot;Key&quot;:&quot;input/test.ts&quot;
   }],
   &quot;OutputKeyPrefix&quot;:&quot;&quot;,
   &quot;Outputs&quot;:[{
      &quot;Key&quot;:&quot;test.mp4&quot;,
      &quot;PresetId&quot;:&quot;123&quot;,
   }],
   &quot;PipelineId&quot;:&quot;1000000000000000001&quot;
}
</code></pre><h2 id="create-tasks-through-sdk">Create tasks through SDK</h2>
<p>python</p>
<pre><code class="lang-python"><span class="hljs-keyword">import</span> boto3
<span class="hljs-keyword">from</span> botocore.client <span class="hljs-keyword">import</span> Config


config = Config(signature_version=<span class="hljs-string">&apos;s3v4&apos;</span>)
cli = boto3.client(<span class="hljs-string">&apos;elastictranscoder&apos;</span>,
                   config=config,
                   region_name=<span class="hljs-string">&apos;us-west-2&apos;</span>,
                   endpoint_url=<span class="hljs-string">&apos;http://transcoder-ss.bscstorage.com&apos;</span>,
                   aws_access_key_id=<span class="hljs-string">&quot;accesskey&quot;</span>,
                   aws_secret_access_key=<span class="hljs-string">&quot;secretkey&quot;</span>)

inputs = [{
   <span class="hljs-string">&apos;Key&apos;</span>: <span class="hljs-string">&quot;sample.mp4&quot;</span>,
}]

outputs = [{
   <span class="hljs-string">&apos;Key&apos;</span>: <span class="hljs-string">&quot;sample.m3u8&quot;</span>,
   <span class="hljs-comment"># &#x8F6C;&#x7801;&#x6A21;&#x677F;id&#xFF0C;&#x9700;&#x8981;&#x9884;&#x5148;&#x914D;&#x7F6E;</span>
   <span class="hljs-string">&apos;PresetId&apos;</span>: <span class="hljs-string">&quot;1000&quot;</span>,
   <span class="hljs-string">&apos;SegmentDuration&apos;</span>: <span class="hljs-string">&quot;10&quot;</span>,
}]

<span class="hljs-keyword">print</span> cli.create_job(
   <span class="hljs-comment"># &#x7BA1;&#x9053;id&#xFF0C;&#x8BF7;&#x9884;&#x5148;&#x521B;&#x5EFA;</span>
   PipelineId=<span class="hljs-string">&apos;pipelineid&apos;</span>,
   Inputs=inputs,
   Outputs=outputs,
)
</code></pre>
<p>java</p>
<pre><code class="lang-java"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">create_job</span><span class="hljs-params">()</span> </span>{
   BasicAWSCredentials awsCreds = <span class="hljs-keyword">new</span> BasicAWSCredentials(<span class="hljs-string">&quot;accessKey&quot;</span>, <span class="hljs-string">&quot;secretKey&quot;</span>);

   ClientConfiguration clientconfiguration = <span class="hljs-keyword">new</span> ClientConfiguration();
   clientconfiguration.setSocketTimeout(<span class="hljs-number">60</span> * <span class="hljs-number">60</span> * <span class="hljs-number">1000</span>); <span class="hljs-comment">// in milliseconds</span>
   clientconfiguration.setConnectionTimeout(<span class="hljs-number">60</span> * <span class="hljs-number">60</span> * <span class="hljs-number">1000</span>); <span class="hljs-comment">// in milliseconds</span>

   AmazonElasticTranscoder client = <span class="hljs-keyword">new</span> AmazonElasticTranscoderClient(awsCreds, clientconfiguration);
   client.setEndpoint(<span class="hljs-string">&quot;http://transcoder-ss.bscstorage.com&quot;</span>);

   JobInput input = <span class="hljs-keyword">new</span> JobInput().withKey(<span class="hljs-string">&quot;sample.mp4&quot;</span>);

   List&lt;JobInput&gt; inputs = Arrays.asList(input);

   CreateJobOutput out1 = <span class="hljs-keyword">new</span> CreateJobOutput().withKey(<span class="hljs-string">&quot;output.mp4&quot;</span>).withPresetId(<span class="hljs-string">&quot;1000&quot;</span>);

   List&lt;CreateJobOutput&gt; outputs = Arrays.asList(out1);

   CreateJobRequest createJobRequest = <span class="hljs-keyword">new</span> CreateJobRequest().withPipelineId(<span class="hljs-string">&quot;pipelineid&quot;</span>)
            .withInputs(inputs).withOutputs(outputs);

   Job j = client.createJob(createJobRequest).getJob();
   System.out.printf(<span class="hljs-string">&quot;task id: %s\n&quot;</span>, j.getId());
}
</code></pre>
<h1 id="get-task">Get task</h1>
<h2 id="describe">Describe</h2>
<p>Send GET request to <code>/2012-09-25/jobs/jobId</code> to get detailed task information.</p>
<h2 id="request">Request</h2>
<pre><code>GET /2012-09-25/jobs/jobId HTTP/1.1
Content-Type: charset=UTF-8
Accept: */*
Host: transcoder-ss.bscstorage.com
x-amz-date: 20170726T174952Z
Authorization: AWS4-HMAC-SHA256
               Credential=AccessKeyID/request-date/Transcoder endpoint/elastictranscoder/aws4_request,
               SignedHeaders=host;x-amz-date;x-amz-target,
               Signature=calculated-signature
</code></pre><h2 id="return">return</h2>
<pre><code>Status: 200 OK
Content-Type: application/json
Content-Length: number of characters in the response
Date: Mon, 14 Jan 2013 06:01:47 GMT

{
    &quot;Job&quot;:{
        &quot;Id&quot;:&quot;&#x4EFB;&#x52A1; ID&quot;,
        &quot;Inputs&quot;:[{
            &quot;Key&quot;:&quot;&#x8F6C;&#x7801;&#x6E90;&#x6587;&#x4EF6;&#x540D;&quot;
        }],
        &quot;OutputKeyPrefix&quot;:&quot;&#x8F6C;&#x7801;&#x540E;&#x7684;&#x8F93;&#x51FA;&#x6587;&#x4EF6;&#x540D;&#x524D;&#x7F00;&quot;,
        &quot;Outputs&quot;:[{
            &quot;Key&quot;:&quot;&#x8F6C;&#x7801;&#x540E;&#x7684;&#x8F93;&#x51FA;&#x6587;&#x4EF6;&#x540D;&quot;,
            &quot;PresetId&quot;:&quot;&#x8F6C;&#x7801;&#x6A21;&#x677F; ID&quot;,
            &quot;SegmentDuration&quot;:&quot;[1,60]&quot;,
        },
        {...}],
        &quot;Snapshots&quot;:[{
            &quot;Key&quot;:&quot;&#x8F6C;&#x7801;&#x540E;&#x7684;&#x8F93;&#x51FA;&#x6587;&#x4EF6;&#x540D;&quot;&#xFF0C;
            &quot;Format&quot;:&quot;jpg|png&quot;,
            &quot;Time&quot;:&quot;&#x622A;&#x56FE;&#x5F00;&#x59CB;&#x65F6;&#x95F4;&#x70B9;&quot;,
            &quot;Interval&quot;:&quot;&#x622A;&#x56FE;&#x95F4;&#x9694;&#x65F6;&#x95F4;&quot;,
            &quot;Number&quot;:&quot;&#x622A;&#x56FE;&#x6570;&#x91CF;&quot;&#xFF0C;
        },
        {...}]
        &quot;Playlists&quot;:[{
            &quot;Format&quot;:&quot;HLSv3|HLSv4&quot;,
            &quot;Name&quot;:&quot;&#x64AD;&#x653E;&#x5217;&#x8868;&#x6587;&#x4EF6;&#x540D;&quot;, 
            &quot;OutputKeys&quot;:[
               &quot;&#x5305;&#x542B;&#x5728;&#x8F93;&#x51FA;&#x6587;&#x4EF6;&#x5217;&#x8868;&#x4E2D;&#x7684;&#x8F93;&#x51FA;&#x6587;&#x4EF6;&#x540D;&quot;,
               ...
            ],
        },
        {...}],
        &quot;PipelineId&quot;:&quot;&#x672C;&#x8F6C;&#x7801;&#x4EFB;&#x52A1;&#x4F7F;&#x7528;&#x7684;&#x7BA1;&#x9053; ID&quot;,
        &quot;Status&quot;:&quot;Submitted|Progressing|Complete|Canceled|Error&quot;,
        &quot;Timing&quot;:{
            &quot;SubmitTimeMillis&quot;:&quot;&#x4EFB;&#x52A1;&#x521B;&#x5EFA;&#x7684;&#x65F6;&#x95F4;&#x3002;&#x5355;&#x4F4D;&#xFF1A;epoch milliseconds&quot;,
            &quot;FinishTimeMillis&quot;:&quot;&#x4EFB;&#x52A1;&#x5B8C;&#x6210;&#x7684;&#x65F6;&#x95F4;&#x3002;&#x5355;&#x4F4D;&#xFF1A;epoch milliseconds&quot;
        }
    }
}
</code></pre><h1 id="lists-the-tasks-in-the-pipeline">Lists the tasks in the pipeline</h1>
<h2 id="description">Description</h2>
<p>Send GET request to <code>/2012-09-25/jobsByPipeline/pipelineId</code> list the tasks assigned in the specified pipeline.</p>
<h2 id="request">Request</h2>
<pre><code>GET /2012-09-25/jobsByPipeline/pipelineId?PageToken=12345678 HTTP/1.1
Content-Type: charset=UTF-8
Accept: */*
Host: transcoder-ss.bscstorage.com
x-amz-date: 20170726T174952Z
Authorization: AWS4-HMAC-SHA256
               Credential=AccessKeyID/request-date/Transcoder endpoint/elastictranscoder/aws4_request,
               SignedHeaders=host;x-amz-date;x-amz-target,
               Signature=calculated-signature
</code></pre><h2 id="request-parameters">Request parameters</h2>
<ul>
<li>PageToken</li>
</ul>
<p>If nextpagetoken appears in the result, it indicates that the result column is not complete. You need to use the nextpagetoken in the previous result as the pagetoken in the next request to continue the request result.</p>
<h2 id="return">Return</h2>
<pre><code>Status: 200 OK
Content-Type: application/json
Content-Length: number of characters in the response
Date: Mon, 14 Jan 2013 06:01:47 GMT

{
   &quot;Jobs&quot;:[{
      &quot;Id&quot;:&quot;&#x4EFB;&#x52A1; ID&quot;,
      &quot;Inputs&quot;:[{
          &quot;Key&quot;:&quot;&#x8F6C;&#x7801;&#x6E90;&#x6587;&#x4EF6;&#x540D;&quot;
      }],
      &quot;OutputKeyPrefix&quot;:&quot;&#x8F6C;&#x7801;&#x540E;&#x7684;&#x8F93;&#x51FA;&#x6587;&#x4EF6;&#x540D;&#x524D;&#x7F00;&quot;,
      &quot;Outputs&quot;:[{
         &quot;Key&quot;:&quot;&#x8F6C;&#x7801;&#x540E;&#x7684;&#x8F93;&#x51FA;&#x6587;&#x4EF6;&#x540D;&quot;,
         &quot;PresetId&quot;:&quot;&#x8F6C;&#x7801;&#x6A21;&#x677F; ID&quot;,
         &quot;SegmentDuration&quot;:&quot;[1,60]&quot;,
      },
      {...}],
      &quot;Snapshots&quot;:[{
         &quot;Key&quot;:&quot;&#x8F6C;&#x7801;&#x540E;&#x7684;&#x8F93;&#x51FA;&#x6587;&#x4EF6;&#x540D;&quot;&#xFF0C;
         &quot;Format&quot;:&quot;jpg|png&quot;,
         &quot;Time&quot;:&quot;&#x622A;&#x56FE;&#x5F00;&#x59CB;&#x65F6;&#x95F4;&#x70B9;&quot;,
         &quot;Interval&quot;:&quot;&#x622A;&#x56FE;&#x95F4;&#x9694;&#x65F6;&#x95F4;&quot;,
         &quot;Number&quot;:&quot;&#x622A;&#x56FE;&#x6570;&#x91CF;&quot;&#xFF0C;
      },
      {...}]
      &quot;Playlists&quot;:[{
         &quot;Format&quot;:&quot;HLSv3|HLSv4&quot;,
         &quot;Name&quot;:&quot;&#x64AD;&#x653E;&#x5217;&#x8868;&#x6587;&#x4EF6;&#x540D;&quot;,
         &quot;OutputKeys&quot;:[
            &quot;&#x5305;&#x542B;&#x5728;&#x8F93;&#x51FA;&#x6587;&#x4EF6;&#x5217;&#x8868;&#x4E2D;&#x7684;&#x8F93;&#x51FA;&#x6587;&#x4EF6;&#x540D;&quot;,
            ...
         ],
      },
      {...}],
      &quot;PipelineId&quot;:&quot;&#x672C;&#x8F6C;&#x7801;&#x4EFB;&#x52A1;&#x4F7F;&#x7528;&#x7684;&#x7BA1;&#x9053; ID&quot;,
      &quot;Status&quot;:&quot;Submitted|Progressing|Complete|Canceled|Error&quot;,
      &quot;Timing&quot;:{
         &quot;SubmitTimeMillis&quot;:&quot;&#x4EFB;&#x52A1;&#x521B;&#x5EFA;&#x7684;&#x65F6;&#x95F4;&#x3002;&#x5355;&#x4F4D;&#xFF1A;epoch milliseconds&quot;,
         &quot;FinishTimeMillis&quot;:&quot;&#x4EFB;&#x52A1;&#x5B8C;&#x6210;&#x7684;&#x65F6;&#x95F4;&#x3002;&#x5355;&#x4F4D;&#xFF1A;epoch milliseconds&quot;
      }
   },
   {...}],
  &quot;NextPageToken&quot;: &quot;1234567890&quot;
}
</code></pre><h1 id="cancel-task">Cancel task</h1>
<h2 id="description">Description</h2>
<p>Send DELETE request to <code>/2012-09-25/jobs/jobId</code> to cancel the created task. Note: tasks that have been started cannot be cancelled.</p>
<h2 id="request">Request</h2>
<pre><code>DELETE /2012-09-25/jobs/jobId HTTP/1.1
Content-Type: charset=UTF-8
Accept: */*
Host: transcoder-ss.bscstorage.com
x-amz-date: 20170726T174952Z
Authorization: AWS4-HMAC-SHA256
               Credential=AccessKeyID/request-date/Transcoder endpoint/elastictranscoder/aws4_request,
               SignedHeaders=host;x-amz-date;x-amz-target,
               Signature=calculated-signature
</code></pre><h2 id="return">Return</h2>
<pre><code>Status: 202 Accepted
Content-Type: application/json
Content-Length: number of characters in the response
Date: Mon, 14 Jan 2013 06:01:47 GMT

{
   &quot;Success&quot;:&quot;true&quot;
}
</code></pre><h1 id="obtain-audio-and-video-meta-information">Obtain audio and video meta information</h1>
<h2 id="describe">Describe</h2>
<p>Send GET request to <code>/metadata/&lt;bucket&gt;/&lt;key&gt;</code> get meta information.</p>
<h2 id="request">Request</h2>
<pre><code>GET /metadata/test_bucket/test.mp4 HTTP/1.1
Content-Type: charset=UTF-8
Accept: */*
Host: transcoder-ss.bscstorage.com
x-amz-content-sha256: UNSIGNED-PAYLOAD
x-amz-date: 20170925T093131Z
Authorization: AWS4-HMAC-SHA256
               Credential=acc_yanhui/20170925/us-east-1/elastictranscoder/aws4_request,
               SignedHeaders=host;x-amz-content-sha256;x-amz-date,
               Signature=e9147d9d1461d7ca92c0805735490be7fd7d9d92ddee216ee47306a7d5fabcaa
</code></pre><h2 id="request-parameters">Request parameters</h2>
<ul>
<li>bucket</li>
</ul>
<p>bucket name</p>
<ul>
<li>key</li>
</ul>
<p>Key of audio and video file to obtain meta information</p>
<h2 id="how-to-use-sdk-interface">How to use SDK interface</h2>
<p>python</p>
<pre><code class="lang-python"><span class="hljs-keyword">import</span> boto3
<span class="hljs-keyword">from</span> botocore.client <span class="hljs-keyword">import</span> Config
<span class="hljs-keyword">import</span> json


cli = boto3.client(
    <span class="hljs-string">&apos;s3&apos;</span>,
    use_ssl=<span class="hljs-keyword">False</span>,
    aws_access_key_id=<span class="hljs-string">&apos;accesskey&apos;</span>,
    aws_secret_access_key=<span class="hljs-string">&apos;secretkey&apos;</span>,
    endpoint_url=<span class="hljs-string">&apos;http://transcoder-ss.bscstorage.com/metadata&apos;</span>,
    config=Config(s3={<span class="hljs-string">&apos;addressing_style&apos;</span>: <span class="hljs-string">&apos;path&apos;</span>})
)

res = cli.get_object(Bucket=<span class="hljs-string">&apos;your bucket&apos;</span>, Key=<span class="hljs-string">&quot;sample.mp4&quot;</span>)
res_json = json.loads(res[<span class="hljs-string">&apos;Body&apos;</span>].read())
<span class="hljs-keyword">print</span> repr(res_json)
</code></pre>
<p>java</p>
<pre><code class="lang-java"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">get_meta</span><span class="hljs-params">()</span> </span>{
    BasicAWSCredentials awsCreds = <span class="hljs-keyword">new</span> BasicAWSCredentials(<span class="hljs-string">&quot;accesskey&quot;</span>, <span class="hljs-string">&quot;secretkey&quot;</span>);
    ClientConfiguration clientconfiguration = <span class="hljs-keyword">new</span> ClientConfiguration();
    clientconfiguration.setSocketTimeout(<span class="hljs-number">60</span> * <span class="hljs-number">60</span> * <span class="hljs-number">1000</span>); <span class="hljs-comment">// in milliseconds</span>
    clientconfiguration.setConnectionTimeout(<span class="hljs-number">60</span> * <span class="hljs-number">60</span> * <span class="hljs-number">1000</span>); <span class="hljs-comment">// in milliseconds</span>

    AmazonS3 client = <span class="hljs-keyword">new</span> AmazonS3Client(awsCreds, clientconfiguration);
    client.setEndpoint(<span class="hljs-string">&quot;http://transcoder-ss.bscstorage.com/metadata&quot;</span>);

    S3ClientOptions opt = S3ClientOptions.builder().setPathStyleAccess(<span class="hljs-keyword">true</span>).build();
    client.setS3ClientOptions(opt);

    S3Object s3Object = client.getObject(<span class="hljs-string">&quot;your bucket&quot;</span>, <span class="hljs-string">&quot;sample.mp4&quot;</span>);
    <span class="hljs-keyword">byte</span>[] buf = <span class="hljs-keyword">new</span> <span class="hljs-keyword">byte</span>[<span class="hljs-number">10240</span>];
    <span class="hljs-keyword">try</span> {
        s3Object.getObjectContent().read(buf, <span class="hljs-number">0</span>, <span class="hljs-number">10240</span>);
        System.out.println(<span class="hljs-keyword">new</span> String(buf, <span class="hljs-string">&quot;UTF-8&quot;</span>));
    } <span class="hljs-keyword">catch</span> (IOException e) {
        System.out.println(<span class="hljs-string">&quot;errr&quot;</span>);
    }
}
</code></pre>
<h2 id="return">Return</h2>
<pre><code>Status:200

Content-length: &apos;2253&apos;
x-amz-s2-requester: test_bucket
server: openresty/1.11.2.4
connection: keep-alive
x-amz-request-id: 00361611-1709-2517-4651-00163e0630f7
date: Mon, 25 Sep 2017 09:46:51 GMT
content-type: application/json

{
    &quot;audio_streams&quot;:    &#x97F3;&#x9891;&#x4FE1;&#x606F;
        [
            {
                &quot;sample_fmt&quot;: &quot;fltp&quot;,   &#x91C7;&#x6837;&#x683C;&#x5F0F;
                &quot;codec_tag&quot;: &quot;0x6134706d&quot;,  &#x7F16;&#x7801;&#x5668;&#x6807;&#x7B7E;
                &quot;codec_type&quot;: &quot;audio&quot;,  &#x7F16;&#x7801;&#x5668;&#x7C7B;&#x578B;
                &quot;channels&quot;: 2,  &#x97F3;&#x9891;&#x6570;
                &quot;bit_rate&quot;: &quot;96001&quot;,    &#x7801;&#x7387;
                &quot;codec_name&quot;: &quot;aac&quot;,    &#x7F16;&#x7801;&#x5668;&#x540D;
                &quot;duration&quot;: &quot;716.885011&quot;,   &#x6587;&#x4EF6;&#x603B;&#x65F6;&#x957F;
                &quot;nb_frames&quot;: &quot;30876&quot;,   &#x5E27;&#x6570;
                &quot;codec_time_base&quot;: &quot;1/44100&quot;,   &#x7F16;&#x7801;&#x5668;&#x6BCF;&#x5E27;&#x65F6;&#x957F;
                &quot;index&quot;: 1, &#x6D41;&#x7D22;&#x5F15;&#x53F7;
                &quot;start_pts&quot;: 0, &#x65F6;&#x95F4;&#x6233;
                &quot;profile&quot;: &quot;LC&quot;, &#x7F16;&#x7801;&#x7684;profile
                &quot;tags&quot;: &#x6807;&#x7B7E;&#x4FE1;&#x606F;
                    {
                        &quot;handler_name&quot;: &quot;SoundHandler&quot;, &#x5904;&#x7406;&#x5668;&#x540D;&#x5B57;
                        &quot;language&quot;: &quot;und&quot;   &#x8BED;&#x8A00;
                    },
                &quot;r_frame_rate&quot;: &quot;0/0&quot;,  &#x771F;&#x5B9E;&#x57FA;&#x7840;&#x5E27;&#x7387;
                &quot;start_time&quot;: &quot;0.000000&quot;,   &#x9996;&#x5E27;&#x65F6;&#x95F4;
                &quot;time_base&quot;: &quot;1/44100&quot;, &#x6BCF;&#x5E27;&#x65F6;&#x957F;
                &quot;codec_tag_string&quot;: &quot;mp4a&quot;, &#x7F16;&#x7801;&#x5668;&#x6807;&#x7B7E;&#x540D;
                &quot;duration_ts&quot;: 31614629, &#x5355;&#x4F4D;&#x4E3A;time_base&#x7684;&#x65F6;&#x957F;
                &quot;codec_long_name&quot;: &quot;AAC (Advanced Audio Coding)&quot;,   &#x7F16;&#x7801;&#x5668;&#x540D;&#x5168;&#x79F0;
                &quot;bits_per_sample&quot;: 0,   &#x91C7;&#x6837;&#x7801;&#x7387;
                &quot;avg_frame_rate&quot;: &quot;0/0&quot;,    &#x5E73;&#x5747;&#x5E27;&#x7387;
                &quot;channel_layout&quot;: &quot;stereo&quot;, &#x58F0;&#x9053;
                &quot;max_bit_rate&quot;: &quot;96001&quot;, &#x6700;&#x5927;&#x7801;&#x7387;
                &quot;sample_rate&quot;: &quot;44100&quot;  &#x91C7;&#x6837;&#x7387;
            }
        ],

    &quot;video_streams&quot;:    &#x89C6;&#x9891;&#x4FE1;&#x606F;
        [
            {
                &quot;profile&quot;: &quot;High&quot;,  &#x7F16;&#x7801;&#x7684;profile
                &quot;sample_aspect_ratio&quot;: &quot;0:1&quot;,
                &quot;codec_tag&quot;: &quot;0x31637661&quot;,  &#x7F16;&#x7801;&#x5668;&#x6807;&#x7B7E;
                &quot;refs&quot;: 1,
                &quot;codec_type&quot;: &quot;video&quot;,  &#x7F16;&#x7801;&#x5668;&#x7C7B;&#x578B;
                &quot;coded_height&quot;: 720,    &#x56FE;&#x50CF;&#x9AD8;&#x5EA6;
                &quot;bit_rate&quot;: &quot;1500443&quot;,  &#x7801;&#x7387;
                &quot;codec_name&quot;: &quot;h264&quot;,   &#x7F16;&#x7801;&#x5668;&#x540D;
                &quot;duration&quot;: &quot;716.800000&quot;,   &#x65F6;&#x957F;
                &quot;is_avc&quot;: &quot;true&quot;,
                &quot;nb_frames&quot;: &quot;17920&quot;,   &#x5E27;&#x6570;
                &quot;codec_time_base&quot;: &quot;1/50&quot;,  &#x7F16;&#x7801;&#x5668;&#x6BCF;&#x5E27;&#x65F6;&#x957F;
                &quot;index&quot;: 0, &#x6D41;&#x7D22;&#x5F15;&#x53F7;
                &quot;start_pts&quot;: 0,
                &quot;width&quot;: 1280,  &#x5E27;&#x5BBD;&#x5EA6;
                &quot;coded_width&quot;: 1280,    &#x56FE;&#x50CF;&#x5BBD;&#x5EA6;
                &quot;pix_fmt&quot;: &quot;yuv420p&quot;,   &#x50CF;&#x7D20;&#x4E2A;&#x6570;
                &quot;chroma_location&quot;: &quot;left&quot;,
                &quot;tags&quot;:
                    {
                        &quot;handler_name&quot;: &quot;VideoHandler&quot;, &#x5904;&#x7406;&#x5668;&#x540D;&#x5B57;
                        &quot;language&quot;: &quot;und&quot;   &#x8BED;&#x8A00;
                    },
                &quot;r_frame_rate&quot;: &quot;25/1&quot;, &#x771F;&#x5B9E;&#x57FA;&#x7840;&#x5E27;&#x7387;
                &quot;start_time&quot;: &quot;0.000000&quot;,   &#x9996;&#x5E27;&#x65F6;&#x95F4;
                &quot;time_base&quot;: &quot;1/12800&quot;, &#x6BCF;&#x5E27;&#x65F6;&#x957F;
                &quot;codec_tag_string&quot;: &quot;avc1&quot;, &#x7F16;&#x7801;&#x5668;&#x6807;&#x7B7E;&#x540D;
                &quot;duration_ts&quot;: 9175040, &#x5355;&#x4F4D;&#x4E3A;time_base&#x7684;&#x65F6;&#x957F;
                &quot;codec_long_name&quot;: &quot;H.264 / AVC / MPEG-4 AVC / MPEG-4 part 10&quot;, &#x7F16;&#x7801;&#x5668;&#x540D;&#x5168;&#x79F0;
                &quot;display_aspect_ratio&quot;: &quot;0:1&quot;,
                &quot;height&quot;: 720,  &#x5E27;&#x9AD8;&#x5EA6;
                &quot;avg_frame_rate&quot;: &quot;25/1&quot;,   &#x5E73;&#x5747;&#x5E27;&#x7387;
                &quot;level&quot;: 40,    &#x7EA7;&#x522B;
                &quot;bits_per_raw_sample&quot;: &quot;8&quot;,
                &quot;has_b_frames&quot;: 2,  &#x8BB0;&#x5F55;&#x7F13;&#x5B58;&#x5E27;&#x5927;&#x5C0F;
                &quot;nal_length_size&quot;: &quot;4&quot;
            }
        ],

    &quot;format&quot;:
        {
            &quot;tags&quot;: &#x6807;&#x7B7E;&#x4FE1;&#x606F;
                {
                    &quot;major_brand&quot;: &quot;isom&quot;,
                    &quot;minor_version&quot;: &quot;512&quot;,
                    &quot;compatible_brands&quot;: &quot;isomiso2avc1mp41letv&quot;,
                    &quot;encoder&quot;: &quot;Lavf56.15.102&quot;
                },
            &quot;nb_streams&quot;: 2,    &#x6D41;&#x7684;&#x4E2A;&#x6570;
            &quot;start_time&quot;: &quot;0.000000&quot;,   &#x9996;&#x5E27;&#x65F6;&#x95F4;
            &quot;format_long_name&quot;: &quot;QuickTime / MOV&quot;,  &#x683C;&#x5F0F;&#x540D;&#x5168;&#x79F0;
            &quot;format_name&quot;: &quot;mov,mp4,m4a,3gp,3g2,mj2&quot;,   &#x683C;&#x5F0F;&#x540D;
            &quot;bit_rate&quot;: &quot;1607943&quot;,  &#x7801;&#x7387;
            &quot;nb_programs&quot;: 0,
            &quot;duration&quot;: &quot;716.932000&quot;,   &#x65F6;&#x957F;
            &quot;size&quot;: &quot;144098269&quot; &#x6587;&#x4EF6;&#x5927;&#x5C0F;
        },

    &quot;other_streams&quot;: []
}
</code></pre><h1 id="console-user-guide">Console User Guide</h1>
<p>&#xFEFF;# Baishan Cloud Storage Console User Guide</p>
<h1 id="2--overview">2.  Overview</h1>
<p><code> </code>Cloud Storage Console is a management platform for customers to use cloud storage online. </p>
<p>The management platform mainly includes the following functional modules:</p>
<p><code> </code>My Storage:</p>
<ul>
<li>Display all user Buckets.</li>
<li>Configuration management of Bucket. </li>
<li>Configure the image processing format. </li>
<li>Manage the objects in the Bucket.</li>
</ul>
<p>Statistical analysis: Graphically display data information for each time period such as bandwidth, traffic, number of requests, storage space, etc. </p>
<p>Video Processing: Users can create transcoding templates, configure rules for automatic or active transcoding and view statistical analysis data of video processing. </p>
<p>Secret Key Management: Display the Accesskey and SecretKey of the user&apos;s current account.</p>
<p>User management: Main account can create sub-accounts and give corresponding permissions to sub-accounts.</p>
<p>Help documentation: Documentation to help users use the Baishan Cloud Storage console.</p>
<h1 id="3-functional-features">3. Functional features</h1>
<p><code> </code>## 1. User Login 
Portal URL: <a href="http://cwn-ss.bscstorage.com/" target="_blank">http://cwn-ss.bscstorage.com/</a>, enter user name and password to log in.
<img src="console/1.png" alt=""></p>
<p>After logging in, you can choose to log out at the upper right corner.
<img src="console/2.png" alt=""></p>
<h2 id="31--my-storage">3.1.  My Storage</h2>
<p><img src="console/3.png" alt=""></p>
<h3 id="311--new-bucket">3.1.1.  New Bucket</h3>
<p>User creates a new Bucket and names this Bucket. Bucket naming rules: Unique within the cloud storage account; composed of lowercase letters, numbers or dash symbol &apos;-&apos;, length 3~63 digits; cannot start with numbers; cannot start or end with dash symbol &apos;-&apos;.
<img src="console/4.png" alt=""></p>
<h3 id="312--space-setting">3.1.2.  Space setting</h3>
<p>Select a Bucket and click on &quot;Space Settings&quot;.
<img src="console/5.png" alt=""></p>
<p>Under Space settings, there are &quot;Permissions&quot; and &quot;Sensitive content filtering&quot;, etc. This permission setting applies to the storage space bucket, you can also add permission to certain users.
<img src="console/6.png" alt="">
<img src="console/7.png" alt=""></p>
<h3 id="313--image-processing">3.1.3.  Image processing</h3>
<p>Select a Bucket and click &quot;Image Processing&quot; to enter the image processing management page.
<img src="console/8.png" alt="">
<img src="console/9.png" alt="">
<img src="console/10.png" alt=""></p>
<p>Click &quot;Create Style&quot; to create a new image processing style.
<img src="console/11.png" alt=""></p>
<p>More settings:
<img src="console/12.png" alt="">
<img src="console/13.png" alt=""></p>
<p>Advanced edit:
<img src="console/14.png" alt=""></p>
<h3 id="314--file-management">3.1.4.  File Management</h3>
<p>Double-click a Bucket to enter to manage the files or folders in a Bucket.
<img src="console/15.png" alt=""></p>
<p>The following shows the file management interface: 
Users can create/delete folders, upload/delete files, and manage permissions, download, get URL addresses, preview files, and perform other operations here.
<img src="console/16.png" alt=""></p>
<p>Click &#x201C;Upload file&#x201D; to upload local files:
<img src="console/17.png" alt=""></p>
<p>Click &#x201C;Create folder&#x201D; to create a new folder in this Bucket:
<img src="console/18.png" alt=""></p>
<p>Click &#x201C;Download&#x201D; to download selected files:
<img src="console/19.png" alt=""></p>
<p>Click &#x201C;Delete&#x201D; to delete selected files:
<img src="console/20.png" alt="">
<img src="console/21.png" alt=""></p>
<p>Click &#x201C;Rename&#x201D; to rename a file:
<img src="console/22.png" alt=""></p>
<p>Permission setting:
Allow users to grant different access/editing permissions.
<img src="console/23.png" alt=""></p>
<p>Click &#x201C;Download&#x201D; to download files to your local folder:
<img src="console/24.png" alt=""> </p>
<p>Click &#x201C;Preview&#x201D; to preview images:
<img src="console/25.png" alt=""></p>
<p>Click &#x201C;Get URL&#x201D; to obtain the URL for this file:
<img src="console/26.png" alt=""></p>
<p>Click &#x201C;Delete&#x201D; to delete selected file:
<img src="console/27.png" alt=""></p>
<h3 id="315--delete-bucket">3.1.5.  Delete Bucket</h3>
<p>Users can delete the non-empty Bucket.
<img src="console/28.png" alt=""></p>
<h2 id="32--statistical-analysis">3.2.  Statistical Analysis</h2>
<p>Statistical analysis: It shows the storage situation of users at each time period, including bandwidth, traffic, number of requests, storage space, number of files
<img src="console/29.png" alt=""></p>
<p>Users can choose to view the storage data in different spaces:
<img src="console/30.png" alt=""></p>
<p>Users can view use different filters to lookup the data according to their needs, such as &#x201C;Storage capacity,&#x201D; &#x201C;Uploading traffic,&#x201D; &#x201C;Downloading traffic,&#x201D; &#x201C;Get request count,&#x201D; &#x201C;Post request count,&#x201D;, examples as following:
<img src="console/31.png" alt="">
<img src="console/32.png" alt="">
<img src="console/33.png" alt="">
<img src="console/34.png" alt="">
<img src="console/35.png" alt=""></p>
<h2 id="33--video-processing">3.3.  Video processing</h2>
<h3 id="331--transcoding-template">3.3.1.  Transcoding template</h3>
<p>Video templates are transcoding rules that are predefined by users and can be reused. Among them, parameters such as the packaging type, encoding method, resolution, and bit rate after transcoding are specified.</p>
<h4 id="3311--transcoding-template-management">3.3.1.1.  Transcoding template management</h4>
<p>Support creating transcoding templates in the console.
Click &quot;Transcoding Template&quot; to enter the transcoding template management page. The basic parameters of video transcoding are listed on the transcoding template management page. Hover your mouse to the video and audio areas to view detailed parameters.</p>
<p>On this page, to create a new transcoding template, click &quot;New Template&quot;.
<img src="console/36.png" alt=""></p>
<h4 id="3312--create-a-transcoding-template">3.3.1.2.  Create a transcoding template</h4>
<p>Click &quot;New Template&quot;,
<img src="console/37.png" alt=""> </p>
<p>&#x201C;Create Template&#x201D; page is as following: 
Enter &quot;<strong>Template name</strong>&quot;, &quot;<strong>Template description</strong>&quot;, and check &quot;<strong>Output package format</strong>&quot;; when the output format is mp4, FastStart can be turned on or off. When the output format is not mp4, there is no option for FastStart.
<img src="console/38.png" alt=""></p>
<p>The video configuration parameters are as follows:</p>
<p>When Encoding is selected &quot;<strong>unaltered</strong>&quot;, only &quot;Bit <strong>rate</strong>&quot; and &quot;F<strong>rame rate</strong>&quot; inputs are needed.
<img src="console/39.png" alt=""></p>
<p>When the encoding method is H.264, you need to select &quot;Encoding Profile&quot;, &quot;Encoding Level&quot;, &quot;Fixed Key Frame Spacing&quot;, &quot;Bit Rate&quot;, &quot;Frame Rate&quot;, &quot;Resolution&quot;, and &quot;Aspect Ratio&quot;.
<img src="console/40.png" alt=""></p>
<p>When the encoding method is H.265, you need to select &quot;Fixed Key Frame Spacing&quot;, &quot;Code Rate&quot;, &quot;Frame Rate&quot;, &quot;Resolution&quot;, and &quot;Aspect Ratio&quot;.
<img src="console/41.png" alt=""></p>
<p>The audio configuration parameters are as follows:
<img src="console/42.png" alt=""></p>
<h3 id="332--automatic-transcoding-configuration">3.3.2.  Automatic transcoding configuration</h3>
<p>The automatic transcoding configuration is suitable for transcoding newly uploaded files in a workflow way. Please note that the newly created automatic transcoding configuration is only valid for newly uploaded files and will not correspond to the files uploaded before the configuration is created.
Click &quot;Automatic transcoding configuration&quot; to enter the management page to start.
<img src="console/43.png" alt=""></p>
<p>Click &quot;New configuration&quot; to enter the page to create a new configuration.
First, create &quot; Path rules that allow transcoding &quot; and &quot;Input Bucket&quot;. For &quot;path rules that allow transcoding&quot;, you can choose to enter according to the file extension name or regular expression; when configuring the path according to the file extension, you can enter multiple extensions (use &quot;| &quot; between multiple extensions); Only one path can be entered.
<img src="console/44.png" alt=""></p>
<p>Output configuration:
Enter the output file name prefix (it can be empty) and the output bucket.  At least one output rule or video screenshot rule is required, and multiple sets of output rules and video screenshot rules can be configured.
<img src="console/45.png" alt=""> </p>
<p>The output rule configuration page is as follows: When the transcoding template chooses to output ts format, users need to select the HLS slice duration; for other output format only needs to fill in the transcoding template and the output file name suffix.
<img src="console/46.png" alt=""></p>
<p>The configuration page for video screenshots is as follows: Require to enter &quot;Output file name suffix&quot;, &quot;Screenshot start time&quot;, &quot;Screenshot interval&quot;, &quot;Maximum number of screenshots&quot;, &quot;Resolution&quot; and &quot;Aspect ratio&quot;.
<img src="console/47.png" alt=""></p>
<p>Please note at least one of the &#x201C;Output Rules&#x201D; and &#x201C;Screenshot Rules&#x201D; option is required to be configured. 
When the transcode module has ts file for output, users can choose whether to enable HLS self-adapt transcoding, if this service is enabled, slicing format and MasterPlayList file suffix are required.
<img src="console/48.png" alt=""></p>
<p>In &#x201C;More configuration&#x201D; you can configure options such as &#x201C;Delete origin files after transcoding,&#x201D; &#x201C;Keep origin file path after transcoding,&#x201D; &#x201C;Recall URL after failed to transcode,&#x201D; &#x201C;Recall URL after successfully transcoded.&#x201D; 
Permission settings: Set permission for the output transcoding files </p>
<h2 id="34--key-management">3.4.  Key management</h2>
<p>To check the key for this account and the creation time:
<img src="console/49.png" alt=""></p>
<h2 id="35--user-management">3.5.  User Management</h2>
<p>If you are using the primary account, you can create sub-accounts and assign the corresponding permissions to each sub-account. 
<img src="console/50.png" alt="">
<img src="console/51.png" alt="">
<img src="console/52.png" alt=""></p>
<h2 id="36--help-documentation">3.6.  Help Documentation</h2>
<p>Help documentation provide documents for users to quickly lookup FAQ, details about each function, user cases regarding SDK, call method interface on creating a bucket, acquiring bucket list, upload and download files, image processing sub-service introduction, and description on image uploading tools and method, etc. 
<img src="console/53.png" alt=""></p>
<p>To review the details of help documentation description and FAQ, please see following:
<img src="console/54.png" alt="">
<img src="console/55.png" alt=""></p>
<p>For more example of SDK user case, please see following:
<img src="console/56.png" alt=""></p>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="console-use/console-use.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page: Baishan Cloud Storage Console Use">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"All-in-One","level":"1.10","depth":1,"previous":{"title":"Baishan Cloud Storage Console Use","level":"1.9.1","depth":2,"path":"console-use/console-use.md","ref":"console-use/console-use.md","articles":[]},"dir":"ltr"},"config":{"gitbook":"*","theme":"default","variables":{},"plugins":[],"pluginsConfig":{"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"}},"file":{"path":"all-in-one.md","mtime":"2022-03-28T06:09:46.070Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2022-03-28T06:09:48.333Z"},"basePath":".","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="gitbook/gitbook.js"></script>
    <script src="gitbook/theme.js"></script>
    
        
        <script src="gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

